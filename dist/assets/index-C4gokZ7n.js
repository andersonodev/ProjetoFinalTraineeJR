var sS=t=>{throw TypeError(t)};var ry=(t,e,n)=>e.has(t)||sS("Cannot "+n);var H=(t,e,n)=>(ry(t,e,"read from private field"),n?n.call(t):e.get(t)),it=(t,e,n)=>e.has(t)?sS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fe=(t,e,n,r)=>(ry(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wn=(t,e,n)=>(ry(t,e,"access private method"),n);var Cf=(t,e,n,r)=>({set _(s){Fe(t,e,s,n)},get _(){return H(t,e,r)}});function I5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function jR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DR={exports:{}},fg={},MR={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=Symbol.for("react.element"),A5=Symbol.for("react.portal"),R5=Symbol.for("react.fragment"),N5=Symbol.for("react.strict_mode"),P5=Symbol.for("react.profiler"),k5=Symbol.for("react.provider"),j5=Symbol.for("react.context"),D5=Symbol.for("react.forward_ref"),M5=Symbol.for("react.suspense"),O5=Symbol.for("react.memo"),V5=Symbol.for("react.lazy"),iS=Symbol.iterator;function L5(t){return t===null||typeof t!="object"?null:(t=iS&&t[iS]||t["@@iterator"],typeof t=="function"?t:null)}var OR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VR=Object.assign,LR={};function tu(t,e,n){this.props=t,this.context=e,this.refs=LR,this.updater=n||OR}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FR(){}FR.prototype=tu.prototype;function Fw(t,e,n){this.props=t,this.context=e,this.refs=LR,this.updater=n||OR}var Uw=Fw.prototype=new FR;Uw.constructor=Fw;VR(Uw,tu.prototype);Uw.isPureReactComponent=!0;var oS=Array.isArray,UR=Object.prototype.hasOwnProperty,$w={current:null},$R={key:!0,ref:!0,__self:!0,__source:!0};function BR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)UR.call(e,r)&&!$R.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:kh,type:t,key:i,ref:o,props:s,_owner:$w.current}}function F5(t,e){return{$$typeof:kh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bw(t){return typeof t=="object"&&t!==null&&t.$$typeof===kh}function U5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aS=/\/+/g;function sy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U5(""+t.key):e.toString(36)}function um(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kh:case A5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+sy(o,0):r,oS(s)?(n="",t!=null&&(n=t.replace(aS,"$&/")+"/"),um(s,e,n,"",function(u){return u})):s!=null&&(Bw(s)&&(s=F5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(aS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",oS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+sy(i,a);o+=um(i,e,n,l,s)}else if(l=L5(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+sy(i,a++),o+=um(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function If(t,e,n){if(t==null)return t;var r=[],s=0;return um(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wn={current:null},dm={transition:null},B5={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:dm,ReactCurrentOwner:$w};function zR(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:If,forEach:function(t,e,n){If(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return If(t,function(){e++}),e},toArray:function(t){return If(t,function(e){return e})||[]},only:function(t){if(!Bw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=tu;qe.Fragment=R5;qe.Profiler=P5;qe.PureComponent=Fw;qe.StrictMode=N5;qe.Suspense=M5;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B5;qe.act=zR;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$w.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)UR.call(e,l)&&!$R.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:kh,type:t.type,key:s,ref:i,props:r,_owner:o}};qe.createContext=function(t){return t={$$typeof:j5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:k5,_context:t},t.Consumer=t};qe.createElement=BR;qe.createFactory=function(t){var e=BR.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:D5,render:t}};qe.isValidElement=Bw;qe.lazy=function(t){return{$$typeof:V5,_payload:{_status:-1,_result:t},_init:$5}};qe.memo=function(t,e){return{$$typeof:O5,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=dm.transition;dm.transition={};try{t()}finally{dm.transition=e}};qe.unstable_act=zR;qe.useCallback=function(t,e){return Wn.current.useCallback(t,e)};qe.useContext=function(t){return Wn.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Wn.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Wn.current.useEffect(t,e)};qe.useId=function(){return Wn.current.useId()};qe.useImperativeHandle=function(t,e,n){return Wn.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return Wn.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Wn.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Wn.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return Wn.current.useReducer(t,e,n)};qe.useRef=function(t){return Wn.current.useRef(t)};qe.useState=function(t){return Wn.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return Wn.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return Wn.current.useTransition()};qe.version="18.3.1";MR.exports=qe;var g=MR.exports;const K=jR(g),zw=I5({__proto__:null,default:K},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5=g,W5=Symbol.for("react.element"),H5=Symbol.for("react.fragment"),K5=Object.prototype.hasOwnProperty,G5=z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q5={key:!0,ref:!0,__self:!0,__source:!0};function WR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)K5.call(e,r)&&!q5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:W5,type:t,key:i,ref:o,props:s,_owner:G5.current}}fg.Fragment=H5;fg.jsx=WR;fg.jsxs=WR;DR.exports=fg;var c=DR.exports,HR={exports:{}},br={},KR={exports:{}},GR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,V){var Z=$.length;$.push(V);e:for(;0<Z;){var pe=Z-1>>>1,re=$[pe];if(0<s(re,V))$[pe]=V,$[Z]=re,Z=pe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var V=$[0],Z=$.pop();if(Z!==V){$[0]=Z;e:for(var pe=0,re=$.length,he=re>>>1;pe<he;){var te=2*(pe+1)-1,ve=$[te],Ee=te+1,L=$[Ee];if(0>s(ve,Z))Ee<re&&0>s(L,ve)?($[pe]=L,$[Ee]=Z,pe=Ee):($[pe]=ve,$[te]=Z,pe=te);else if(Ee<re&&0>s(L,Z))$[pe]=L,$[Ee]=Z,pe=Ee;else break e}}return V}function s($,V){var Z=$.sortIndex-V.sortIndex;return Z!==0?Z:$.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,m=3,p=!1,E=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=$)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function A($){if(v=!1,b($),!E)if(n(l)!==null)E=!0,ne(P);else{var V=n(u);V!==null&&Q(A,V.startTime-$)}}function P($,V){E=!1,v&&(v=!1,_(T),T=-1),p=!0;var Z=m;try{for(b(V),f=n(l);f!==null&&(!(f.expirationTime>V)||$&&!D());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,m=f.priorityLevel;var re=pe(f.expirationTime<=V);V=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),b(V)}else r(l);f=n(l)}if(f!==null)var he=!0;else{var te=n(u);te!==null&&Q(A,te.startTime-V),he=!1}return he}finally{f=null,m=Z,p=!1}}var M=!1,C=null,T=-1,I=5,R=-1;function D(){return!(t.unstable_now()-R<I)}function j(){if(C!==null){var $=t.unstable_now();R=$;var V=!0;try{V=C(!0,$)}finally{V?N():(M=!1,C=null)}}else M=!1}var N;if(typeof w=="function")N=function(){w(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ae=z.port2;z.port1.onmessage=j,N=function(){ae.postMessage(null)}}else N=function(){y(j,0)};function ne($){C=$,M||(M=!0,N())}function Q($,V){T=y(function(){$(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){E||p||(E=!0,ne(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var Z=m;m=V;try{return $()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=m;m=$;try{return V()}finally{m=Z}},t.unstable_scheduleCallback=function($,V,Z){var pe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,$={id:d++,callback:V,priorityLevel:$,startTime:Z,expirationTime:re,sortIndex:-1},Z>pe?($.sortIndex=Z,e(u,$),n(l)===null&&$===n(u)&&(v?(_(T),T=-1):v=!0,Q(A,Z-pe))):($.sortIndex=re,e(l,$),E||p||(E=!0,ne(P))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var V=m;return function(){var Z=m;m=V;try{return $.apply(this,arguments)}finally{m=Z}}}})(GR);KR.exports=GR;var Q5=KR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y5=g,wr=Q5;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qR=new Set,Id={};function gl(t,e){kc(t,e),kc(t+"Capture",e)}function kc(t,e){for(Id[t]=e,t=0;t<e.length;t++)qR.add(e[t])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E0=Object.prototype.hasOwnProperty,Z5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lS={},cS={};function X5(t){return E0.call(cS,t)?!0:E0.call(lS,t)?!1:Z5.test(t)?cS[t]=!0:(lS[t]=!0,!1)}function J5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eU(t,e,n,r){if(e===null||typeof e>"u"||J5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new Hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new Hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new Hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new Hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new Hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new Hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new Hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new Hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new Hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Hw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ww,Hw);gn[e]=new Hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ww,Hw);gn[e]=new Hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ww,Hw);gn[e]=new Hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new Hn(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new Hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kw(t,e,n,r){var s=gn.hasOwnProperty(e)?gn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eU(e,n,s,r)&&(n=null),r||s===null?X5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $i=Y5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),$l=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),QR=Symbol.for("react.provider"),YR=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),S0=Symbol.for("react.suspense"),C0=Symbol.for("react.suspense_list"),Qw=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),ZR=Symbol.for("react.offscreen"),uS=Symbol.iterator;function Pu(t){return t===null||typeof t!="object"?null:(t=uS&&t[uS]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Object.assign,iy;function Wu(t){if(iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iy=e&&e[1]||""}return`
`+iy+t}var oy=!1;function ay(t,e){if(!t||oy)return"";oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{oy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wu(t):""}function tU(t){switch(t.tag){case 5:return Wu(t.type);case 16:return Wu("Lazy");case 13:return Wu("Suspense");case 19:return Wu("SuspenseList");case 0:case 2:case 15:return t=ay(t.type,!1),t;case 11:return t=ay(t.type.render,!1),t;case 1:return t=ay(t.type,!0),t;default:return""}}function I0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $l:return"Fragment";case Ul:return"Portal";case T0:return"Profiler";case Gw:return"StrictMode";case S0:return"Suspense";case C0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YR:return(t.displayName||"Context")+".Consumer";case QR:return(t._context.displayName||"Context")+".Provider";case qw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qw:return e=t.displayName||null,e!==null?e:I0(t.type)||"Memo";case io:e=t._payload,t=t._init;try{return I0(t(e))}catch{}}return null}function nU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I0(e);case 8:return e===Gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rU(t){var e=XR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rf(t){t._valueTracker||(t._valueTracker=rU(t))}function JR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function A0(t,e){var n=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eN(t,e){e=e.checked,e!=null&&Kw(t,"checked",e,!1)}function R0(t,e){eN(t,e);var n=Fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N0(t,e.type,n):e.hasOwnProperty("defaultValue")&&N0(t,e.type,Fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function N0(t,e,n){(e!=="number"||Hm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hu=Array.isArray;function ac(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function P0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Hu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fo(n)}}function tN(t,e){var n=Fo(e.value),r=Fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nf,rN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nf=Nf||document.createElement("div"),Nf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ad(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sU=["Webkit","ms","Moz","O"];Object.keys(ad).forEach(function(t){sU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ad[e]=ad[t]})});function sN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ad.hasOwnProperty(t)&&ad[t]?(""+e).trim():e+"px"}function iN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var iU=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j0(t,e){if(e){if(iU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function D0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=null;function Yw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O0=null,lc=null,cc=null;function pS(t){if(t=Mh(t)){if(typeof O0!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=yg(e),O0(t.stateNode,t.type,e))}}function oN(t){lc?cc?cc.push(t):cc=[t]:lc=t}function aN(){if(lc){var t=lc,e=cc;if(cc=lc=null,pS(t),e)for(t=0;t<e.length;t++)pS(e[t])}}function lN(t,e){return t(e)}function cN(){}var ly=!1;function uN(t,e,n){if(ly)return t(e,n);ly=!0;try{return lN(t,e,n)}finally{ly=!1,(lc!==null||cc!==null)&&(cN(),aN())}}function Rd(t,e){var n=t.stateNode;if(n===null)return null;var r=yg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var V0=!1;if(Ri)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){V0=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{V0=!1}function oU(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ld=!1,Km=null,Gm=!1,L0=null,aU={onError:function(t){ld=!0,Km=t}};function lU(t,e,n,r,s,i,o,a,l){ld=!1,Km=null,oU.apply(aU,arguments)}function cU(t,e,n,r,s,i,o,a,l){if(lU.apply(this,arguments),ld){if(ld){var u=Km;ld=!1,Km=null}else throw Error(ee(198));Gm||(Gm=!0,L0=u)}}function vl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gS(t){if(vl(t)!==t)throw Error(ee(188))}function uU(t){var e=t.alternate;if(!e){if(e=vl(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gS(s),t;if(i===r)return gS(s),e;i=i.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function hN(t){return t=uU(t),t!==null?fN(t):null}function fN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fN(t);if(e!==null)return e;t=t.sibling}return null}var mN=wr.unstable_scheduleCallback,vS=wr.unstable_cancelCallback,dU=wr.unstable_shouldYield,hU=wr.unstable_requestPaint,Ut=wr.unstable_now,fU=wr.unstable_getCurrentPriorityLevel,Zw=wr.unstable_ImmediatePriority,pN=wr.unstable_UserBlockingPriority,qm=wr.unstable_NormalPriority,mU=wr.unstable_LowPriority,gN=wr.unstable_IdlePriority,mg=null,Rs=null;function pU(t){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(mg,t,void 0,(t.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:yU,gU=Math.log,vU=Math.LN2;function yU(t){return t>>>=0,t===0?32:31-(gU(t)/vU|0)|0}var Pf=64,kf=4194304;function Ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ku(a):(i&=o,i!==0&&(r=Ku(i)))}else o=n&~s,o!==0?r=Ku(o):i!==0&&(r=Ku(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ss(e),s=1<<n,r|=t[n],e&=~s;return r}function xU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ss(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=xU(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function F0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vN(){var t=Pf;return Pf<<=1,!(Pf&4194240)&&(Pf=64),t}function cy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ss(e),t[e]=n}function _U(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ss(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ss(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ut=0;function yN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xN,Jw,wN,_N,bN,U0=!1,jf=[],To=null,So=null,Co=null,Nd=new Map,Pd=new Map,ao=[],bU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yS(t,e){switch(t){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(e.pointerId)}}function ju(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mh(e),e!==null&&Jw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function EU(t,e,n,r,s){switch(e){case"focusin":return To=ju(To,t,e,n,r,s),!0;case"dragenter":return So=ju(So,t,e,n,r,s),!0;case"mouseover":return Co=ju(Co,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nd.set(i,ju(Nd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pd.set(i,ju(Pd.get(i)||null,t,e,n,r,s)),!0}return!1}function EN(t){var e=Na(t.target);if(e!==null){var n=vl(e);if(n!==null){if(e=n.tag,e===13){if(e=dN(n),e!==null){t.blockedOn=e,bN(t.priority,function(){wN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);M0=r,n.target.dispatchEvent(r),M0=null}else return e=Mh(n),e!==null&&Jw(e),t.blockedOn=n,!1;e.shift()}return!0}function xS(t,e,n){hm(t)&&n.delete(e)}function TU(){U0=!1,To!==null&&hm(To)&&(To=null),So!==null&&hm(So)&&(So=null),Co!==null&&hm(Co)&&(Co=null),Nd.forEach(xS),Pd.forEach(xS)}function Du(t,e){t.blockedOn===e&&(t.blockedOn=null,U0||(U0=!0,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,TU)))}function kd(t){function e(s){return Du(s,t)}if(0<jf.length){Du(jf[0],t);for(var n=1;n<jf.length;n++){var r=jf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(To!==null&&Du(To,t),So!==null&&Du(So,t),Co!==null&&Du(Co,t),Nd.forEach(e),Pd.forEach(e),n=0;n<ao.length;n++)r=ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ao.length&&(n=ao[0],n.blockedOn===null);)EN(n),n.blockedOn===null&&ao.shift()}var uc=$i.ReactCurrentBatchConfig,Ym=!0;function SU(t,e,n,r){var s=ut,i=uc.transition;uc.transition=null;try{ut=1,e_(t,e,n,r)}finally{ut=s,uc.transition=i}}function CU(t,e,n,r){var s=ut,i=uc.transition;uc.transition=null;try{ut=4,e_(t,e,n,r)}finally{ut=s,uc.transition=i}}function e_(t,e,n,r){if(Ym){var s=$0(t,e,n,r);if(s===null)xy(t,e,r,Zm,n),yS(t,r);else if(EU(s,t,e,n,r))r.stopPropagation();else if(yS(t,r),e&4&&-1<bU.indexOf(t)){for(;s!==null;){var i=Mh(s);if(i!==null&&xN(i),i=$0(t,e,n,r),i===null&&xy(t,e,r,Zm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xy(t,e,r,null,n)}}var Zm=null;function $0(t,e,n,r){if(Zm=null,t=Yw(r),t=Na(t),t!==null)if(e=vl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zm=t,null}function TN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fU()){case Zw:return 1;case pN:return 4;case qm:case mU:return 16;case gN:return 536870912;default:return 16}default:return 16}}var wo=null,t_=null,fm=null;function SN(){if(fm)return fm;var t,e=t_,n=e.length,r,s="value"in wo?wo.value:wo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return fm=s.slice(t,1<r?1-r:void 0)}function mm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Df(){return!0}function wS(){return!1}function Er(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Df:wS,this.isPropagationStopped=wS,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Df)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Df)},persist:function(){},isPersistent:Df}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n_=Er(nu),Dh=Rt({},nu,{view:0,detail:0}),IU=Er(Dh),uy,dy,Mu,pg=Rt({},Dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mu&&(Mu&&t.type==="mousemove"?(uy=t.screenX-Mu.screenX,dy=t.screenY-Mu.screenY):dy=uy=0,Mu=t),uy)},movementY:function(t){return"movementY"in t?t.movementY:dy}}),_S=Er(pg),AU=Rt({},pg,{dataTransfer:0}),RU=Er(AU),NU=Rt({},Dh,{relatedTarget:0}),hy=Er(NU),PU=Rt({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),kU=Er(PU),jU=Rt({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DU=Er(jU),MU=Rt({},nu,{data:0}),bS=Er(MU),OU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LU[t])?!!e[t]:!1}function r_(){return FU}var UU=Rt({},Dh,{key:function(t){if(t.key){var e=OU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r_,charCode:function(t){return t.type==="keypress"?mm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$U=Er(UU),BU=Rt({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ES=Er(BU),zU=Rt({},Dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r_}),WU=Er(zU),HU=Rt({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),KU=Er(HU),GU=Rt({},pg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qU=Er(GU),QU=[9,13,27,32],s_=Ri&&"CompositionEvent"in window,cd=null;Ri&&"documentMode"in document&&(cd=document.documentMode);var YU=Ri&&"TextEvent"in window&&!cd,CN=Ri&&(!s_||cd&&8<cd&&11>=cd),TS=" ",SS=!1;function IN(t,e){switch(t){case"keyup":return QU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bl=!1;function ZU(t,e){switch(t){case"compositionend":return AN(e);case"keypress":return e.which!==32?null:(SS=!0,TS);case"textInput":return t=e.data,t===TS&&SS?null:t;default:return null}}function XU(t,e){if(Bl)return t==="compositionend"||!s_&&IN(t,e)?(t=SN(),fm=t_=wo=null,Bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CN&&e.locale!=="ko"?null:e.data;default:return null}}var JU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JU[t.type]:e==="textarea"}function RN(t,e,n,r){oN(r),e=Xm(e,"onChange"),0<e.length&&(n=new n_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ud=null,jd=null;function e3(t){UN(t,0)}function gg(t){var e=Hl(t);if(JR(e))return t}function t3(t,e){if(t==="change")return e}var NN=!1;if(Ri){var fy;if(Ri){var my="oninput"in document;if(!my){var IS=document.createElement("div");IS.setAttribute("oninput","return;"),my=typeof IS.oninput=="function"}fy=my}else fy=!1;NN=fy&&(!document.documentMode||9<document.documentMode)}function AS(){ud&&(ud.detachEvent("onpropertychange",PN),jd=ud=null)}function PN(t){if(t.propertyName==="value"&&gg(jd)){var e=[];RN(e,jd,t,Yw(t)),uN(e3,e)}}function n3(t,e,n){t==="focusin"?(AS(),ud=e,jd=n,ud.attachEvent("onpropertychange",PN)):t==="focusout"&&AS()}function r3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gg(jd)}function s3(t,e){if(t==="click")return gg(e)}function i3(t,e){if(t==="input"||t==="change")return gg(e)}function o3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ls=typeof Object.is=="function"?Object.is:o3;function Dd(t,e){if(ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!E0.call(e,s)||!ls(t[s],e[s]))return!1}return!0}function RS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NS(t,e){var n=RS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RS(n)}}function kN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jN(){for(var t=window,e=Hm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hm(t.document)}return e}function i_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a3(t){var e=jN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kN(n.ownerDocument.documentElement,n)){if(r!==null&&i_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=NS(n,i);var o=NS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l3=Ri&&"documentMode"in document&&11>=document.documentMode,zl=null,B0=null,dd=null,z0=!1;function PS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;z0||zl==null||zl!==Hm(r)||(r=zl,"selectionStart"in r&&i_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dd&&Dd(dd,r)||(dd=r,r=Xm(B0,"onSelect"),0<r.length&&(e=new n_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zl)))}function Mf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wl={animationend:Mf("Animation","AnimationEnd"),animationiteration:Mf("Animation","AnimationIteration"),animationstart:Mf("Animation","AnimationStart"),transitionend:Mf("Transition","TransitionEnd")},py={},DN={};Ri&&(DN=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function vg(t){if(py[t])return py[t];if(!Wl[t])return t;var e=Wl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DN)return py[t]=e[n];return t}var MN=vg("animationend"),ON=vg("animationiteration"),VN=vg("animationstart"),LN=vg("transitionend"),FN=new Map,kS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(t,e){FN.set(t,e),gl(e,[t])}for(var gy=0;gy<kS.length;gy++){var vy=kS[gy],c3=vy.toLowerCase(),u3=vy[0].toUpperCase()+vy.slice(1);ra(c3,"on"+u3)}ra(MN,"onAnimationEnd");ra(ON,"onAnimationIteration");ra(VN,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(LN,"onTransitionEnd");kc("onMouseEnter",["mouseout","mouseover"]);kc("onMouseLeave",["mouseout","mouseover"]);kc("onPointerEnter",["pointerout","pointerover"]);kc("onPointerLeave",["pointerout","pointerover"]);gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function jS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cU(r,e,void 0,t),t.currentTarget=null}function UN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;jS(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;jS(s,a,u),i=l}}}if(Gm)throw t=L0,Gm=!1,L0=null,t}function vt(t,e){var n=e[q0];n===void 0&&(n=e[q0]=new Set);var r=t+"__bubble";n.has(r)||($N(e,t,2,!1),n.add(r))}function yy(t,e,n){var r=0;e&&(r|=4),$N(n,t,r,e)}var Of="_reactListening"+Math.random().toString(36).slice(2);function Md(t){if(!t[Of]){t[Of]=!0,qR.forEach(function(n){n!=="selectionchange"&&(d3.has(n)||yy(n,!1,t),yy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Of]||(e[Of]=!0,yy("selectionchange",!1,e))}}function $N(t,e,n,r){switch(TN(e)){case 1:var s=SU;break;case 4:s=CU;break;default:s=e_}n=s.bind(null,e,n,t),s=void 0,!V0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function xy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Na(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}uN(function(){var u=i,d=Yw(n),f=[];e:{var m=FN.get(t);if(m!==void 0){var p=n_,E=t;switch(t){case"keypress":if(mm(n)===0)break e;case"keydown":case"keyup":p=$U;break;case"focusin":E="focus",p=hy;break;case"focusout":E="blur",p=hy;break;case"beforeblur":case"afterblur":p=hy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_S;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WU;break;case MN:case ON:case VN:p=kU;break;case LN:p=KU;break;case"scroll":p=IU;break;case"wheel":p=qU;break;case"copy":case"cut":case"paste":p=DU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ES}var v=(e&4)!==0,y=!v&&t==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var w=u,b;w!==null;){b=w;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,_!==null&&(A=Rd(w,_),A!=null&&v.push(Od(w,A,b)))),y)break;w=w.return}0<v.length&&(m=new p(m,E,null,n,d),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==M0&&(E=n.relatedTarget||n.fromElement)&&(Na(E)||E[Ni]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(E=n.relatedTarget||n.toElement,p=u,E=E?Na(E):null,E!==null&&(y=vl(E),E!==y||E.tag!==5&&E.tag!==6)&&(E=null)):(p=null,E=u),p!==E)){if(v=_S,A="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=ES,A="onPointerLeave",_="onPointerEnter",w="pointer"),y=p==null?m:Hl(p),b=E==null?m:Hl(E),m=new v(A,w+"leave",p,n,d),m.target=y,m.relatedTarget=b,A=null,Na(d)===u&&(v=new v(_,w+"enter",E,n,d),v.target=b,v.relatedTarget=y,A=v),y=A,p&&E)t:{for(v=p,_=E,w=0,b=v;b;b=Nl(b))w++;for(b=0,A=_;A;A=Nl(A))b++;for(;0<w-b;)v=Nl(v),w--;for(;0<b-w;)_=Nl(_),b--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=Nl(v),_=Nl(_)}v=null}else v=null;p!==null&&DS(f,m,p,v,!1),E!==null&&y!==null&&DS(f,y,E,v,!0)}}e:{if(m=u?Hl(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var P=t3;else if(CS(m))if(NN)P=i3;else{P=r3;var M=n3}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=s3);if(P&&(P=P(t,u))){RN(f,P,n,d);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&N0(m,"number",m.value)}switch(M=u?Hl(u):window,t){case"focusin":(CS(M)||M.contentEditable==="true")&&(zl=M,B0=u,dd=null);break;case"focusout":dd=B0=zl=null;break;case"mousedown":z0=!0;break;case"contextmenu":case"mouseup":case"dragend":z0=!1,PS(f,n,d);break;case"selectionchange":if(l3)break;case"keydown":case"keyup":PS(f,n,d)}var C;if(s_)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Bl?IN(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(CN&&n.locale!=="ko"&&(Bl||T!=="onCompositionStart"?T==="onCompositionEnd"&&Bl&&(C=SN()):(wo=d,t_="value"in wo?wo.value:wo.textContent,Bl=!0)),M=Xm(u,T),0<M.length&&(T=new bS(T,t,null,n,d),f.push({event:T,listeners:M}),C?T.data=C:(C=AN(n),C!==null&&(T.data=C)))),(C=YU?ZU(t,n):XU(t,n))&&(u=Xm(u,"onBeforeInput"),0<u.length&&(d=new bS("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}UN(f,e)})}function Od(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rd(t,n),i!=null&&r.unshift(Od(t,i,s)),i=Rd(t,e),i!=null&&r.push(Od(t,i,s))),t=t.return}return r}function Nl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Rd(n,i),l!=null&&o.unshift(Od(n,l,a))):s||(l=Rd(n,i),l!=null&&o.push(Od(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var h3=/\r\n?/g,f3=/\u0000|\uFFFD/g;function MS(t){return(typeof t=="string"?t:""+t).replace(h3,`
`).replace(f3,"")}function Vf(t,e,n){if(e=MS(e),MS(t)!==e&&n)throw Error(ee(425))}function Jm(){}var W0=null,H0=null;function K0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,m3=typeof clearTimeout=="function"?clearTimeout:void 0,OS=typeof Promise=="function"?Promise:void 0,p3=typeof queueMicrotask=="function"?queueMicrotask:typeof OS<"u"?function(t){return OS.resolve(null).then(t).catch(g3)}:G0;function g3(t){setTimeout(function(){throw t})}function wy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),kd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kd(e)}function Io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),Cs="__reactFiber$"+ru,Vd="__reactProps$"+ru,Ni="__reactContainer$"+ru,q0="__reactEvents$"+ru,v3="__reactListeners$"+ru,y3="__reactHandles$"+ru;function Na(t){var e=t[Cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ni]||n[Cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VS(t);t!==null;){if(n=t[Cs])return n;t=VS(t)}return e}t=n,n=t.parentNode}return null}function Mh(t){return t=t[Cs]||t[Ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function yg(t){return t[Vd]||null}var Q0=[],Kl=-1;function sa(t){return{current:t}}function yt(t){0>Kl||(t.current=Q0[Kl],Q0[Kl]=null,Kl--)}function mt(t,e){Kl++,Q0[Kl]=t.current,t.current=e}var Uo={},Nn=sa(Uo),tr=sa(!1),Qa=Uo;function jc(t,e){var n=t.type.contextTypes;if(!n)return Uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function nr(t){return t=t.childContextTypes,t!=null}function ep(){yt(tr),yt(Nn)}function LS(t,e,n){if(Nn.current!==Uo)throw Error(ee(168));mt(Nn,e),mt(tr,n)}function BN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,nU(t)||"Unknown",s));return Rt({},n,r)}function tp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Uo,Qa=Nn.current,mt(Nn,t),mt(tr,tr.current),!0}function FS(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=BN(t,e,Qa),r.__reactInternalMemoizedMergedChildContext=t,yt(tr),yt(Nn),mt(Nn,t)):yt(tr),mt(tr,n)}var fi=null,xg=!1,_y=!1;function zN(t){fi===null?fi=[t]:fi.push(t)}function x3(t){xg=!0,zN(t)}function ia(){if(!_y&&fi!==null){_y=!0;var t=0,e=ut;try{var n=fi;for(ut=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fi=null,xg=!1}catch(s){throw fi!==null&&(fi=fi.slice(t+1)),mN(Zw,ia),s}finally{ut=e,_y=!1}}return null}var Gl=[],ql=0,np=null,rp=0,Rr=[],Nr=0,Ya=null,vi=1,yi="";function Ea(t,e){Gl[ql++]=rp,Gl[ql++]=np,np=t,rp=e}function WN(t,e,n){Rr[Nr++]=vi,Rr[Nr++]=yi,Rr[Nr++]=Ya,Ya=t;var r=vi;t=yi;var s=32-ss(r)-1;r&=~(1<<s),n+=1;var i=32-ss(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,vi=1<<32-ss(e)+s|n<<s|r,yi=i+t}else vi=1<<i|n<<s|r,yi=t}function o_(t){t.return!==null&&(Ea(t,1),WN(t,1,0))}function a_(t){for(;t===np;)np=Gl[--ql],Gl[ql]=null,rp=Gl[--ql],Gl[ql]=null;for(;t===Ya;)Ya=Rr[--Nr],Rr[Nr]=null,yi=Rr[--Nr],Rr[Nr]=null,vi=Rr[--Nr],Rr[Nr]=null}var gr=null,mr=null,bt=!1,Xr=null;function HN(t,e){var n=Pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function US(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gr=t,mr=Io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gr=t,mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ya!==null?{id:vi,overflow:yi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gr=t,mr=null,!0):!1;default:return!1}}function Y0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Z0(t){if(bt){var e=mr;if(e){var n=e;if(!US(t,e)){if(Y0(t))throw Error(ee(418));e=Io(n.nextSibling);var r=gr;e&&US(t,e)?HN(r,n):(t.flags=t.flags&-4097|2,bt=!1,gr=t)}}else{if(Y0(t))throw Error(ee(418));t.flags=t.flags&-4097|2,bt=!1,gr=t}}}function $S(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gr=t}function Lf(t){if(t!==gr)return!1;if(!bt)return $S(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K0(t.type,t.memoizedProps)),e&&(e=mr)){if(Y0(t))throw KN(),Error(ee(418));for(;e;)HN(t,e),e=Io(e.nextSibling)}if($S(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mr=Io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mr=null}}else mr=gr?Io(t.stateNode.nextSibling):null;return!0}function KN(){for(var t=mr;t;)t=Io(t.nextSibling)}function Dc(){mr=gr=null,bt=!1}function l_(t){Xr===null?Xr=[t]:Xr.push(t)}var w3=$i.ReactCurrentBatchConfig;function Ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Ff(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BS(t){var e=t._init;return e(t._payload)}function GN(t){function e(_,w){if(t){var b=_.deletions;b===null?(_.deletions=[w],_.flags|=16):b.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=Po(_,w),_.index=0,_.sibling=null,_}function i(_,w,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<w?(_.flags|=2,w):b):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,b,A){return w===null||w.tag!==6?(w=Ay(b,_.mode,A),w.return=_,w):(w=s(w,b),w.return=_,w)}function l(_,w,b,A){var P=b.type;return P===$l?d(_,w,b.props.children,A,b.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===io&&BS(P)===w.type)?(A=s(w,b.props),A.ref=Ou(_,w,b),A.return=_,A):(A=_m(b.type,b.key,b.props,null,_.mode,A),A.ref=Ou(_,w,b),A.return=_,A)}function u(_,w,b,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Ry(b,_.mode,A),w.return=_,w):(w=s(w,b.children||[]),w.return=_,w)}function d(_,w,b,A,P){return w===null||w.tag!==7?(w=Ba(b,_.mode,A,P),w.return=_,w):(w=s(w,b),w.return=_,w)}function f(_,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ay(""+w,_.mode,b),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Af:return b=_m(w.type,w.key,w.props,null,_.mode,b),b.ref=Ou(_,null,w),b.return=_,b;case Ul:return w=Ry(w,_.mode,b),w.return=_,w;case io:var A=w._init;return f(_,A(w._payload),b)}if(Hu(w)||Pu(w))return w=Ba(w,_.mode,b,null),w.return=_,w;Ff(_,w)}return null}function m(_,w,b,A){var P=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(_,w,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Af:return b.key===P?l(_,w,b,A):null;case Ul:return b.key===P?u(_,w,b,A):null;case io:return P=b._init,m(_,w,P(b._payload),A)}if(Hu(b)||Pu(b))return P!==null?null:d(_,w,b,A,null);Ff(_,b)}return null}function p(_,w,b,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(b)||null,a(w,_,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Af:return _=_.get(A.key===null?b:A.key)||null,l(w,_,A,P);case Ul:return _=_.get(A.key===null?b:A.key)||null,u(w,_,A,P);case io:var M=A._init;return p(_,w,b,M(A._payload),P)}if(Hu(A)||Pu(A))return _=_.get(b)||null,d(w,_,A,P,null);Ff(w,A)}return null}function E(_,w,b,A){for(var P=null,M=null,C=w,T=w=0,I=null;C!==null&&T<b.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var R=m(_,C,b[T],A);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(_,C),w=i(R,w,T),M===null?P=R:M.sibling=R,M=R,C=I}if(T===b.length)return n(_,C),bt&&Ea(_,T),P;if(C===null){for(;T<b.length;T++)C=f(_,b[T],A),C!==null&&(w=i(C,w,T),M===null?P=C:M.sibling=C,M=C);return bt&&Ea(_,T),P}for(C=r(_,C);T<b.length;T++)I=p(C,_,T,b[T],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),w=i(I,w,T),M===null?P=I:M.sibling=I,M=I);return t&&C.forEach(function(D){return e(_,D)}),bt&&Ea(_,T),P}function v(_,w,b,A){var P=Pu(b);if(typeof P!="function")throw Error(ee(150));if(b=P.call(b),b==null)throw Error(ee(151));for(var M=P=null,C=w,T=w=0,I=null,R=b.next();C!==null&&!R.done;T++,R=b.next()){C.index>T?(I=C,C=null):I=C.sibling;var D=m(_,C,R.value,A);if(D===null){C===null&&(C=I);break}t&&C&&D.alternate===null&&e(_,C),w=i(D,w,T),M===null?P=D:M.sibling=D,M=D,C=I}if(R.done)return n(_,C),bt&&Ea(_,T),P;if(C===null){for(;!R.done;T++,R=b.next())R=f(_,R.value,A),R!==null&&(w=i(R,w,T),M===null?P=R:M.sibling=R,M=R);return bt&&Ea(_,T),P}for(C=r(_,C);!R.done;T++,R=b.next())R=p(C,_,T,R.value,A),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),w=i(R,w,T),M===null?P=R:M.sibling=R,M=R);return t&&C.forEach(function(j){return e(_,j)}),bt&&Ea(_,T),P}function y(_,w,b,A){if(typeof b=="object"&&b!==null&&b.type===$l&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Af:e:{for(var P=b.key,M=w;M!==null;){if(M.key===P){if(P=b.type,P===$l){if(M.tag===7){n(_,M.sibling),w=s(M,b.props.children),w.return=_,_=w;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===io&&BS(P)===M.type){n(_,M.sibling),w=s(M,b.props),w.ref=Ou(_,M,b),w.return=_,_=w;break e}n(_,M);break}else e(_,M);M=M.sibling}b.type===$l?(w=Ba(b.props.children,_.mode,A,b.key),w.return=_,_=w):(A=_m(b.type,b.key,b.props,null,_.mode,A),A.ref=Ou(_,w,b),A.return=_,_=A)}return o(_);case Ul:e:{for(M=b.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(_,w.sibling),w=s(w,b.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Ry(b,_.mode,A),w.return=_,_=w}return o(_);case io:return M=b._init,y(_,w,M(b._payload),A)}if(Hu(b))return E(_,w,b,A);if(Pu(b))return v(_,w,b,A);Ff(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,b),w.return=_,_=w):(n(_,w),w=Ay(b,_.mode,A),w.return=_,_=w),o(_)):n(_,w)}return y}var Mc=GN(!0),qN=GN(!1),sp=sa(null),ip=null,Ql=null,c_=null;function u_(){c_=Ql=ip=null}function d_(t){var e=sp.current;yt(sp),t._currentValue=e}function X0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dc(t,e){ip=t,c_=Ql=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(er=!0),t.firstContext=null)}function Mr(t){var e=t._currentValue;if(c_!==t)if(t={context:t,memoizedValue:e,next:null},Ql===null){if(ip===null)throw Error(ee(308));Ql=t,ip.dependencies={lanes:0,firstContext:t}}else Ql=Ql.next=t;return e}var Pa=null;function h_(t){Pa===null?Pa=[t]:Pa.push(t)}function QN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,h_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oo=!1;function f_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ao(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pi(t,n)}return s=r.interleaved,s===null?(e.next=e,h_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pi(t,n)}function pm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xw(t,n)}}function zS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function op(t,e,n,r){var s=t.updateQueue;oo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,v=a;switch(m=e,p=n,v.tag){case 1:if(E=v.payload,typeof E=="function"){f=E.call(p,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,m=typeof E=="function"?E.call(p,f,m):E,m==null)break e;f=Rt({},f,m);break e;case 2:oo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xa|=o,t.lanes=o,t.memoizedState=f}}function WS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var Oh={},Ns=sa(Oh),Ld=sa(Oh),Fd=sa(Oh);function ka(t){if(t===Oh)throw Error(ee(174));return t}function m_(t,e){switch(mt(Fd,e),mt(Ld,t),mt(Ns,Oh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=k0(e,t)}yt(Ns),mt(Ns,e)}function Oc(){yt(Ns),yt(Ld),yt(Fd)}function ZN(t){ka(Fd.current);var e=ka(Ns.current),n=k0(e,t.type);e!==n&&(mt(Ld,t),mt(Ns,n))}function p_(t){Ld.current===t&&(yt(Ns),yt(Ld))}var Ct=sa(0);function ap(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function g_(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var gm=$i.ReactCurrentDispatcher,Ey=$i.ReactCurrentBatchConfig,Za=0,At=null,Qt=null,tn=null,lp=!1,hd=!1,Ud=0,_3=0;function _n(){throw Error(ee(321))}function v_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ls(t[n],e[n]))return!1;return!0}function y_(t,e,n,r,s,i){if(Za=i,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gm.current=t===null||t.memoizedState===null?S3:C3,t=n(r,s),hd){i=0;do{if(hd=!1,Ud=0,25<=i)throw Error(ee(301));i+=1,tn=Qt=null,e.updateQueue=null,gm.current=I3,t=n(r,s)}while(hd)}if(gm.current=cp,e=Qt!==null&&Qt.next!==null,Za=0,tn=Qt=At=null,lp=!1,e)throw Error(ee(300));return t}function x_(){var t=Ud!==0;return Ud=0,t}function xs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?At.memoizedState=tn=t:tn=tn.next=t,tn}function Or(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=tn===null?At.memoizedState:tn.next;if(e!==null)tn=e,Qt=t;else{if(t===null)throw Error(ee(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},tn===null?At.memoizedState=tn=t:tn=tn.next=t}return tn}function $d(t,e){return typeof e=="function"?e(t):e}function Ty(t){var e=Or(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Qt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Za&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,At.lanes|=d,Xa|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ls(r,e.memoizedState)||(er=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,At.lanes|=i,Xa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sy(t){var e=Or(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ls(i,e.memoizedState)||(er=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function XN(){}function JN(t,e){var n=At,r=Or(),s=e(),i=!ls(r.memoizedState,s);if(i&&(r.memoizedState=s,er=!0),r=r.queue,w_(nP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,Bd(9,tP.bind(null,n,r,s,e),void 0,null),nn===null)throw Error(ee(349));Za&30||eP(n,e,s)}return s}function eP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tP(t,e,n,r){e.value=n,e.getSnapshot=r,rP(e)&&sP(t)}function nP(t,e,n){return n(function(){rP(e)&&sP(t)})}function rP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ls(t,n)}catch{return!0}}function sP(t){var e=Pi(t,1);e!==null&&is(e,t,1,-1)}function HS(t){var e=xs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},e.queue=t,t=t.dispatch=T3.bind(null,At,t),[e.memoizedState,t]}function Bd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iP(){return Or().memoizedState}function vm(t,e,n,r){var s=xs();At.flags|=t,s.memoizedState=Bd(1|e,n,void 0,r===void 0?null:r)}function wg(t,e,n,r){var s=Or();r=r===void 0?null:r;var i=void 0;if(Qt!==null){var o=Qt.memoizedState;if(i=o.destroy,r!==null&&v_(r,o.deps)){s.memoizedState=Bd(e,n,i,r);return}}At.flags|=t,s.memoizedState=Bd(1|e,n,i,r)}function KS(t,e){return vm(8390656,8,t,e)}function w_(t,e){return wg(2048,8,t,e)}function oP(t,e){return wg(4,2,t,e)}function aP(t,e){return wg(4,4,t,e)}function lP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cP(t,e,n){return n=n!=null?n.concat([t]):null,wg(4,4,lP.bind(null,e,t),n)}function __(){}function uP(t,e){var n=Or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dP(t,e){var n=Or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hP(t,e,n){return Za&21?(ls(n,e)||(n=vN(),At.lanes|=n,Xa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=n)}function b3(t,e){var n=ut;ut=n!==0&&4>n?n:4,t(!0);var r=Ey.transition;Ey.transition={};try{t(!1),e()}finally{ut=n,Ey.transition=r}}function fP(){return Or().memoizedState}function E3(t,e,n){var r=No(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mP(t))pP(e,n);else if(n=QN(t,e,n,r),n!==null){var s=$n();is(n,t,r,s),gP(n,e,r)}}function T3(t,e,n){var r=No(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mP(t))pP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ls(a,o)){var l=e.interleaved;l===null?(s.next=s,h_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=QN(t,e,s,r),n!==null&&(s=$n(),is(n,t,r,s),gP(n,e,r))}}function mP(t){var e=t.alternate;return t===At||e!==null&&e===At}function pP(t,e){hd=lp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xw(t,n)}}var cp={readContext:Mr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},S3={readContext:Mr,useCallback:function(t,e){return xs().memoizedState=[t,e===void 0?null:e],t},useContext:Mr,useEffect:KS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vm(4194308,4,lP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vm(4194308,4,t,e)},useInsertionEffect:function(t,e){return vm(4,2,t,e)},useMemo:function(t,e){var n=xs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E3.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=xs();return t={current:t},e.memoizedState=t},useState:HS,useDebugValue:__,useDeferredValue:function(t){return xs().memoizedState=t},useTransition:function(){var t=HS(!1),e=t[0];return t=b3.bind(null,t[1]),xs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,s=xs();if(bt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),nn===null)throw Error(ee(349));Za&30||eP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,KS(nP.bind(null,r,i,t),[t]),r.flags|=2048,Bd(9,tP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=xs(),e=nn.identifierPrefix;if(bt){var n=yi,r=vi;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ud++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C3={readContext:Mr,useCallback:uP,useContext:Mr,useEffect:w_,useImperativeHandle:cP,useInsertionEffect:oP,useLayoutEffect:aP,useMemo:dP,useReducer:Ty,useRef:iP,useState:function(){return Ty($d)},useDebugValue:__,useDeferredValue:function(t){var e=Or();return hP(e,Qt.memoizedState,t)},useTransition:function(){var t=Ty($d)[0],e=Or().memoizedState;return[t,e]},useMutableSource:XN,useSyncExternalStore:JN,useId:fP,unstable_isNewReconciler:!1},I3={readContext:Mr,useCallback:uP,useContext:Mr,useEffect:w_,useImperativeHandle:cP,useInsertionEffect:oP,useLayoutEffect:aP,useMemo:dP,useReducer:Sy,useRef:iP,useState:function(){return Sy($d)},useDebugValue:__,useDeferredValue:function(t){var e=Or();return Qt===null?e.memoizedState=t:hP(e,Qt.memoizedState,t)},useTransition:function(){var t=Sy($d)[0],e=Or().memoizedState;return[t,e]},useMutableSource:XN,useSyncExternalStore:JN,useId:fP,unstable_isNewReconciler:!1};function Kr(t,e){if(t&&t.defaultProps){e=Rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function J0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _g={isMounted:function(t){return(t=t._reactInternals)?vl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),s=No(t),i=Ei(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ao(t,i,s),e!==null&&(is(e,t,s,r),pm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),s=No(t),i=Ei(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ao(t,i,s),e!==null&&(is(e,t,s,r),pm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=No(t),s=Ei(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ao(t,s,r),e!==null&&(is(e,t,r,n),pm(e,t,r))}};function GS(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dd(n,r)||!Dd(s,i):!0}function vP(t,e,n){var r=!1,s=Uo,i=e.contextType;return typeof i=="object"&&i!==null?i=Mr(i):(s=nr(e)?Qa:Nn.current,r=e.contextTypes,i=(r=r!=null)?jc(t,s):Uo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_g,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function qS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_g.enqueueReplaceState(e,e.state,null)}function ex(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},f_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Mr(i):(i=nr(e)?Qa:Nn.current,s.context=jc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(J0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_g.enqueueReplaceState(s,s.state,null),op(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e){try{var n="",r=e;do n+=tU(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var A3=typeof WeakMap=="function"?WeakMap:Map;function yP(t,e,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dp||(dp=!0,dx=r),tx(t,e)},n}function xP(t,e,n){n=Ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){tx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tx(t,e),typeof r!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function QS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new A3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=B3.bind(null,t,e,n),e.then(t,t))}function YS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ei(-1,1),e.tag=2,Ao(n,e,1))),n.lanes|=1),t)}var R3=$i.ReactCurrentOwner,er=!1;function On(t,e,n,r){e.child=t===null?qN(e,null,n,r):Mc(e,t.child,n,r)}function XS(t,e,n,r,s){n=n.render;var i=e.ref;return dc(e,s),r=y_(t,e,n,r,i,s),n=x_(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ki(t,e,s)):(bt&&n&&o_(e),e.flags|=1,On(t,e,r,s),e.child)}function JS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!R_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wP(t,e,i,r,s)):(t=_m(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dd,n(o,r)&&t.ref===e.ref)return ki(t,e,s)}return e.flags|=1,t=Po(i,r),t.ref=e.ref,t.return=e,e.child=t}function wP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dd(i,r)&&t.ref===e.ref)if(er=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(er=!0);else return e.lanes=t.lanes,ki(t,e,s)}return nx(t,e,n,r,s)}function _P(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Zl,cr),cr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(Zl,cr),cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,mt(Zl,cr),cr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,mt(Zl,cr),cr|=r;return On(t,e,s,n),e.child}function bP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nx(t,e,n,r,s){var i=nr(n)?Qa:Nn.current;return i=jc(e,i),dc(e,s),n=y_(t,e,n,r,i,s),r=x_(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ki(t,e,s)):(bt&&r&&o_(e),e.flags|=1,On(t,e,n,s),e.child)}function e1(t,e,n,r,s){if(nr(n)){var i=!0;tp(e)}else i=!1;if(dc(e,s),e.stateNode===null)ym(t,e),vP(e,n,r),ex(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mr(u):(u=nr(n)?Qa:Nn.current,u=jc(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qS(e,o,r,u),oo=!1;var m=e.memoizedState;o.state=m,op(e,r,o,s),l=e.memoizedState,a!==r||m!==l||tr.current||oo?(typeof d=="function"&&(J0(e,n,d,r),l=e.memoizedState),(a=oo||GS(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Kr(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mr(l):(l=nr(n)?Qa:Nn.current,l=jc(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&qS(e,o,r,l),oo=!1,m=e.memoizedState,o.state=m,op(e,r,o,s);var E=e.memoizedState;a!==f||m!==E||tr.current||oo?(typeof p=="function"&&(J0(e,n,p,r),E=e.memoizedState),(u=oo||GS(e,n,u,r,m,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return rx(t,e,n,r,i,s)}function rx(t,e,n,r,s,i){bP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&FS(e,n,!1),ki(t,e,i);r=e.stateNode,R3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mc(e,t.child,null,i),e.child=Mc(e,null,a,i)):On(t,e,a,i),e.memoizedState=r.state,s&&FS(e,n,!0),e.child}function EP(t){var e=t.stateNode;e.pendingContext?LS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LS(t,e.context,!1),m_(t,e.containerInfo)}function t1(t,e,n,r,s){return Dc(),l_(s),e.flags|=256,On(t,e,n,r),e.child}var sx={dehydrated:null,treeContext:null,retryLane:0};function ix(t){return{baseLanes:t,cachePool:null,transitions:null}}function TP(t,e,n){var r=e.pendingProps,s=Ct.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),mt(Ct,s&1),t===null)return Z0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Tg(o,r,0,null),t=Ba(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ix(n),e.memoizedState=sx,t):b_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return N3(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Po(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Po(a,i):(i=Ba(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ix(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=sx,r}return i=t.child,t=i.sibling,r=Po(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function b_(t,e){return e=Tg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uf(t,e,n,r){return r!==null&&l_(r),Mc(e,t.child,null,n),t=b_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Cy(Error(ee(422))),Uf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Tg({mode:"visible",children:r.children},s,0,null),i=Ba(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Mc(e,t.child,null,o),e.child.memoizedState=ix(o),e.memoizedState=sx,i);if(!(e.mode&1))return Uf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ee(419)),r=Cy(i,r,void 0),Uf(t,e,o,r)}if(a=(o&t.childLanes)!==0,er||a){if(r=nn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pi(t,s),is(r,t,s,-1))}return A_(),r=Cy(Error(ee(421))),Uf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mr=Io(s.nextSibling),gr=e,bt=!0,Xr=null,t!==null&&(Rr[Nr++]=vi,Rr[Nr++]=yi,Rr[Nr++]=Ya,vi=t.id,yi=t.overflow,Ya=e),e=b_(e,r.children),e.flags|=4096,e)}function n1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),X0(t.return,e,n)}function Iy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function SP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(On(t,e,r.children,n),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n1(t,n,e);else if(t.tag===19)n1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mt(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ap(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Iy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ap(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Iy(e,!0,n,null,i);break;case"together":Iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ym(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Po(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Po(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P3(t,e,n){switch(e.tag){case 3:EP(e),Dc();break;case 5:ZN(e);break;case 1:nr(e.type)&&tp(e);break;case 4:m_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;mt(sp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mt(Ct,Ct.current&1),e.flags|=128,null):n&e.child.childLanes?TP(t,e,n):(mt(Ct,Ct.current&1),t=ki(t,e,n),t!==null?t.sibling:null);mt(Ct,Ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,_P(t,e,n)}return ki(t,e,n)}var CP,ox,IP,AP;CP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ox=function(){};IP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ka(Ns.current);var i=null;switch(n){case"input":s=A0(t,s),r=A0(t,r),i=[];break;case"select":s=Rt({},s,{value:void 0}),r=Rt({},r,{value:void 0}),i=[];break;case"textarea":s=P0(t,s),r=P0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jm)}j0(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Id.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Id.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&vt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};AP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vu(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k3(t,e,n){var r=e.pendingProps;switch(a_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return nr(e.type)&&ep(),bn(e),null;case 3:return r=e.stateNode,Oc(),yt(tr),yt(Nn),g_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xr!==null&&(mx(Xr),Xr=null))),ox(t,e),bn(e),null;case 5:p_(e);var s=ka(Fd.current);if(n=e.type,t!==null&&e.stateNode!=null)IP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return bn(e),null}if(t=ka(Ns.current),Lf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Cs]=e,r[Vd]=i,t=(e.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(s=0;s<Gu.length;s++)vt(Gu[s],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":dS(r,i),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},vt("invalid",r);break;case"textarea":fS(r,i),vt("invalid",r)}j0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vf(r.textContent,a,t),s=["children",""+a]):Id.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vt("scroll",r)}switch(n){case"input":Rf(r),hS(r,i,!0);break;case"textarea":Rf(r),mS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cs]=e,t[Vd]=r,CP(t,e,!1,!1),e.stateNode=t;e:{switch(o=D0(n,r),n){case"dialog":vt("cancel",t),vt("close",t),s=r;break;case"iframe":case"object":case"embed":vt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Gu.length;s++)vt(Gu[s],t);s=r;break;case"source":vt("error",t),s=r;break;case"img":case"image":case"link":vt("error",t),vt("load",t),s=r;break;case"details":vt("toggle",t),s=r;break;case"input":dS(t,r),s=A0(t,r),vt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Rt({},r,{value:void 0}),vt("invalid",t);break;case"textarea":fS(t,r),s=P0(t,r),vt("invalid",t);break;default:s=r}j0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?iN(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rN(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ad(t,l):typeof l=="number"&&Ad(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Id.hasOwnProperty(i)?l!=null&&i==="onScroll"&&vt("scroll",t):l!=null&&Kw(t,i,l,o))}switch(n){case"input":Rf(t),hS(t,r,!1);break;case"textarea":Rf(t),mS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ac(t,!!r.multiple,i,!1):r.defaultValue!=null&&ac(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)AP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=ka(Fd.current),ka(Ns.current),Lf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cs]=e,(i=r.nodeValue!==n)&&(t=gr,t!==null))switch(t.tag){case 3:Vf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cs]=e,e.stateNode=r}return bn(e),null;case 13:if(yt(Ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&mr!==null&&e.mode&1&&!(e.flags&128))KN(),Dc(),e.flags|=98560,i=!1;else if(i=Lf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[Cs]=e}else Dc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),i=!1}else Xr!==null&&(mx(Xr),Xr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?Zt===0&&(Zt=3):A_())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return Oc(),ox(t,e),t===null&&Md(e.stateNode.containerInfo),bn(e),null;case 10:return d_(e.type._context),bn(e),null;case 17:return nr(e.type)&&ep(),bn(e),null;case 19:if(yt(Ct),i=e.memoizedState,i===null)return bn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Vu(i,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ap(t),o!==null){for(e.flags|=128,Vu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mt(Ct,Ct.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ut()>Lc&&(e.flags|=128,r=!0,Vu(i,!1),e.lanes=4194304)}else{if(!r)if(t=ap(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return bn(e),null}else 2*Ut()-i.renderingStartTime>Lc&&n!==1073741824&&(e.flags|=128,r=!0,Vu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ut(),e.sibling=null,n=Ct.current,mt(Ct,r?n&1|2:n&1),e):(bn(e),null);case 22:case 23:return I_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cr&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function j3(t,e){switch(a_(e),e.tag){case 1:return nr(e.type)&&ep(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oc(),yt(tr),yt(Nn),g_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p_(e),null;case 13:if(yt(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Dc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Ct),null;case 4:return Oc(),null;case 10:return d_(e.type._context),null;case 22:case 23:return I_(),null;case 24:return null;default:return null}}var $f=!1,In=!1,D3=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Yl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ot(t,e,r)}else n.current=null}function ax(t,e,n){try{n()}catch(r){Ot(t,e,r)}}var r1=!1;function M3(t,e){if(W0=Ym,t=jN(),i_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(H0={focusedElem:t,selectionRange:n},Ym=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,y=E.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Kr(e.type,v),y);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(A){Ot(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return E=r1,r1=!1,E}function fd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ax(e,n,i)}s=s.next}while(s!==r)}}function bg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RP(t){var e=t.alternate;e!==null&&(t.alternate=null,RP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cs],delete e[Vd],delete e[q0],delete e[v3],delete e[y3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NP(t){return t.tag===5||t.tag===3||t.tag===4}function s1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jm));else if(r!==4&&(t=t.child,t!==null))for(cx(t,e,n),t=t.sibling;t!==null;)cx(t,e,n),t=t.sibling}function ux(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ux(t,e,n),t=t.sibling;t!==null;)ux(t,e,n),t=t.sibling}var ln=null,Yr=!1;function Qi(t,e,n){for(n=n.child;n!==null;)PP(t,e,n),n=n.sibling}function PP(t,e,n){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(mg,n)}catch{}switch(n.tag){case 5:In||Yl(n,e);case 6:var r=ln,s=Yr;ln=null,Qi(t,e,n),ln=r,Yr=s,ln!==null&&(Yr?(t=ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(Yr?(t=ln,n=n.stateNode,t.nodeType===8?wy(t.parentNode,n):t.nodeType===1&&wy(t,n),kd(t)):wy(ln,n.stateNode));break;case 4:r=ln,s=Yr,ln=n.stateNode.containerInfo,Yr=!0,Qi(t,e,n),ln=r,Yr=s;break;case 0:case 11:case 14:case 15:if(!In&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ax(n,e,o),s=s.next}while(s!==r)}Qi(t,e,n);break;case 1:if(!In&&(Yl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ot(n,e,a)}Qi(t,e,n);break;case 21:Qi(t,e,n);break;case 22:n.mode&1?(In=(r=In)||n.memoizedState!==null,Qi(t,e,n),In=r):Qi(t,e,n);break;default:Qi(t,e,n)}}function i1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D3),e.forEach(function(r){var s=W3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ln=a.stateNode,Yr=!1;break e;case 3:ln=a.stateNode.containerInfo,Yr=!0;break e;case 4:ln=a.stateNode.containerInfo,Yr=!0;break e}a=a.return}if(ln===null)throw Error(ee(160));PP(i,o,s),ln=null,Yr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ot(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kP(e,t),e=e.sibling}function kP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Br(e,t),ys(t),r&4){try{fd(3,t,t.return),bg(3,t)}catch(v){Ot(t,t.return,v)}try{fd(5,t,t.return)}catch(v){Ot(t,t.return,v)}}break;case 1:Br(e,t),ys(t),r&512&&n!==null&&Yl(n,n.return);break;case 5:if(Br(e,t),ys(t),r&512&&n!==null&&Yl(n,n.return),t.flags&32){var s=t.stateNode;try{Ad(s,"")}catch(v){Ot(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&eN(s,i),D0(a,o);var u=D0(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?iN(s,f):d==="dangerouslySetInnerHTML"?rN(s,f):d==="children"?Ad(s,f):Kw(s,d,f,u)}switch(a){case"input":R0(s,i);break;case"textarea":tN(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ac(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?ac(s,!!i.multiple,i.defaultValue,!0):ac(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vd]=i}catch(v){Ot(t,t.return,v)}}break;case 6:if(Br(e,t),ys(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ot(t,t.return,v)}}break;case 3:if(Br(e,t),ys(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kd(e.containerInfo)}catch(v){Ot(t,t.return,v)}break;case 4:Br(e,t),ys(t);break;case 13:Br(e,t),ys(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(S_=Ut())),r&4&&i1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(In=(u=In)||d,Br(e,t),In=u):Br(e,t),ys(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(f=ye=d;ye!==null;){switch(m=ye,p=m.child,m.tag){case 0:case 11:case 14:case 15:fd(4,m,m.return);break;case 1:Yl(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){Ot(r,n,v)}}break;case 5:Yl(m,m.return);break;case 22:if(m.memoizedState!==null){a1(f);continue}}p!==null?(p.return=m,ye=p):a1(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sN("display",o))}catch(v){Ot(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ot(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Br(e,t),ys(t),r&4&&i1(t);break;case 21:break;default:Br(e,t),ys(t)}}function ys(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NP(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ad(s,""),r.flags&=-33);var i=s1(t);ux(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s1(t);cx(t,a,o);break;default:throw Error(ee(161))}}catch(l){Ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O3(t,e,n){ye=t,jP(t)}function jP(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$f;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||In;a=$f;var u=In;if($f=o,(In=l)&&!u)for(ye=s;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?l1(s):l!==null?(l.return=o,ye=l):l1(s);for(;i!==null;)ye=i,jP(i),i=i.sibling;ye=s,$f=a,In=u}o1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):o1(t)}}function o1(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:In||bg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!In)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&WS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}WS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&kd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}In||e.flags&512&&lx(e)}catch(m){Ot(e,e.return,m)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function a1(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function l1(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bg(4,e)}catch(l){Ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ot(e,s,l)}}var i=e.return;try{lx(e)}catch(l){Ot(e,i,l)}break;case 5:var o=e.return;try{lx(e)}catch(l){Ot(e,o,l)}}}catch(l){Ot(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var V3=Math.ceil,up=$i.ReactCurrentDispatcher,E_=$i.ReactCurrentOwner,kr=$i.ReactCurrentBatchConfig,rt=0,nn=null,Ht=null,pn=0,cr=0,Zl=sa(0),Zt=0,zd=null,Xa=0,Eg=0,T_=0,md=null,Xn=null,S_=0,Lc=1/0,hi=null,dp=!1,dx=null,Ro=null,Bf=!1,_o=null,hp=0,pd=0,hx=null,xm=-1,wm=0;function $n(){return rt&6?Ut():xm!==-1?xm:xm=Ut()}function No(t){return t.mode&1?rt&2&&pn!==0?pn&-pn:w3.transition!==null?(wm===0&&(wm=vN()),wm):(t=ut,t!==0||(t=window.event,t=t===void 0?16:TN(t.type)),t):1}function is(t,e,n,r){if(50<pd)throw pd=0,hx=null,Error(ee(185));jh(t,n,r),(!(rt&2)||t!==nn)&&(t===nn&&(!(rt&2)&&(Eg|=n),Zt===4&&lo(t,pn)),rr(t,r),n===1&&rt===0&&!(e.mode&1)&&(Lc=Ut()+500,xg&&ia()))}function rr(t,e){var n=t.callbackNode;wU(t,e);var r=Qm(t,t===nn?pn:0);if(r===0)n!==null&&vS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vS(n),e===1)t.tag===0?x3(c1.bind(null,t)):zN(c1.bind(null,t)),p3(function(){!(rt&6)&&ia()}),n=null;else{switch(yN(r)){case 1:n=Zw;break;case 4:n=pN;break;case 16:n=qm;break;case 536870912:n=gN;break;default:n=qm}n=$P(n,DP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DP(t,e){if(xm=-1,wm=0,rt&6)throw Error(ee(327));var n=t.callbackNode;if(hc()&&t.callbackNode!==n)return null;var r=Qm(t,t===nn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fp(t,r);else{e=r;var s=rt;rt|=2;var i=OP();(nn!==t||pn!==e)&&(hi=null,Lc=Ut()+500,$a(t,e));do try{U3();break}catch(a){MP(t,a)}while(!0);u_(),up.current=i,rt=s,Ht!==null?e=0:(nn=null,pn=0,e=Zt)}if(e!==0){if(e===2&&(s=F0(t),s!==0&&(r=s,e=fx(t,s))),e===1)throw n=zd,$a(t,0),lo(t,r),rr(t,Ut()),n;if(e===6)lo(t,r);else{if(s=t.current.alternate,!(r&30)&&!L3(s)&&(e=fp(t,r),e===2&&(i=F0(t),i!==0&&(r=i,e=fx(t,i))),e===1))throw n=zd,$a(t,0),lo(t,r),rr(t,Ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Ta(t,Xn,hi);break;case 3:if(lo(t,r),(r&130023424)===r&&(e=S_+500-Ut(),10<e)){if(Qm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=G0(Ta.bind(null,t,Xn,hi),e);break}Ta(t,Xn,hi);break;case 4:if(lo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ss(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V3(r/1960))-r,10<r){t.timeoutHandle=G0(Ta.bind(null,t,Xn,hi),r);break}Ta(t,Xn,hi);break;case 5:Ta(t,Xn,hi);break;default:throw Error(ee(329))}}}return rr(t,Ut()),t.callbackNode===n?DP.bind(null,t):null}function fx(t,e){var n=md;return t.current.memoizedState.isDehydrated&&($a(t,e).flags|=256),t=fp(t,e),t!==2&&(e=Xn,Xn=n,e!==null&&mx(e)),t}function mx(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function L3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ls(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lo(t,e){for(e&=~T_,e&=~Eg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ss(e),r=1<<n;t[n]=-1,e&=~r}}function c1(t){if(rt&6)throw Error(ee(327));hc();var e=Qm(t,0);if(!(e&1))return rr(t,Ut()),null;var n=fp(t,e);if(t.tag!==0&&n===2){var r=F0(t);r!==0&&(e=r,n=fx(t,r))}if(n===1)throw n=zd,$a(t,0),lo(t,e),rr(t,Ut()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ta(t,Xn,hi),rr(t,Ut()),null}function C_(t,e){var n=rt;rt|=1;try{return t(e)}finally{rt=n,rt===0&&(Lc=Ut()+500,xg&&ia())}}function Ja(t){_o!==null&&_o.tag===0&&!(rt&6)&&hc();var e=rt;rt|=1;var n=kr.transition,r=ut;try{if(kr.transition=null,ut=1,t)return t()}finally{ut=r,kr.transition=n,rt=e,!(rt&6)&&ia()}}function I_(){cr=Zl.current,yt(Zl)}function $a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,m3(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(a_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ep();break;case 3:Oc(),yt(tr),yt(Nn),g_();break;case 5:p_(r);break;case 4:Oc();break;case 13:yt(Ct);break;case 19:yt(Ct);break;case 10:d_(r.type._context);break;case 22:case 23:I_()}n=n.return}if(nn=t,Ht=t=Po(t.current,null),pn=cr=e,Zt=0,zd=null,T_=Eg=Xa=0,Xn=md=null,Pa!==null){for(e=0;e<Pa.length;e++)if(n=Pa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Pa=null}return t}function MP(t,e){do{var n=Ht;try{if(u_(),gm.current=cp,lp){for(var r=At.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lp=!1}if(Za=0,tn=Qt=At=null,hd=!1,Ud=0,E_.current=null,n===null||n.return===null){Zt=1,zd=e,Ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=YS(o);if(p!==null){p.flags&=-257,ZS(p,o,a,i,e),p.mode&1&&QS(i,u,e),e=p,l=u;var E=e.updateQueue;if(E===null){var v=new Set;v.add(l),e.updateQueue=v}else E.add(l);break e}else{if(!(e&1)){QS(i,u,e),A_();break e}l=Error(ee(426))}}else if(bt&&a.mode&1){var y=YS(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ZS(y,o,a,i,e),l_(Vc(l,a));break e}}i=l=Vc(l,a),Zt!==4&&(Zt=2),md===null?md=[i]:md.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=yP(i,l,e);zS(i,_);break e;case 1:a=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ro===null||!Ro.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=xP(i,a,e);zS(i,A);break e}}i=i.return}while(i!==null)}LP(n)}catch(P){e=P,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(!0)}function OP(){var t=up.current;return up.current=cp,t===null?cp:t}function A_(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),nn===null||!(Xa&268435455)&&!(Eg&268435455)||lo(nn,pn)}function fp(t,e){var n=rt;rt|=2;var r=OP();(nn!==t||pn!==e)&&(hi=null,$a(t,e));do try{F3();break}catch(s){MP(t,s)}while(!0);if(u_(),rt=n,up.current=r,Ht!==null)throw Error(ee(261));return nn=null,pn=0,Zt}function F3(){for(;Ht!==null;)VP(Ht)}function U3(){for(;Ht!==null&&!dU();)VP(Ht)}function VP(t){var e=UP(t.alternate,t,cr);t.memoizedProps=t.pendingProps,e===null?LP(t):Ht=e,E_.current=null}function LP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=j3(n,e),n!==null){n.flags&=32767,Ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Ht=null;return}}else if(n=k3(n,e,cr),n!==null){Ht=n;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);Zt===0&&(Zt=5)}function Ta(t,e,n){var r=ut,s=kr.transition;try{kr.transition=null,ut=1,$3(t,e,n,r)}finally{kr.transition=s,ut=r}return null}function $3(t,e,n,r){do hc();while(_o!==null);if(rt&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(_U(t,i),t===nn&&(Ht=nn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bf||(Bf=!0,$P(qm,function(){return hc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kr.transition,kr.transition=null;var o=ut;ut=1;var a=rt;rt|=4,E_.current=null,M3(t,n),kP(n,t),a3(H0),Ym=!!W0,H0=W0=null,t.current=n,O3(n),hU(),rt=a,ut=o,kr.transition=i}else t.current=n;if(Bf&&(Bf=!1,_o=t,hp=s),i=t.pendingLanes,i===0&&(Ro=null),pU(n.stateNode),rr(t,Ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(dp)throw dp=!1,t=dx,dx=null,t;return hp&1&&t.tag!==0&&hc(),i=t.pendingLanes,i&1?t===hx?pd++:(pd=0,hx=t):pd=0,ia(),null}function hc(){if(_o!==null){var t=yN(hp),e=kr.transition,n=ut;try{if(kr.transition=null,ut=16>t?16:t,_o===null)var r=!1;else{if(t=_o,_o=null,hp=0,rt&6)throw Error(ee(331));var s=rt;for(rt|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ye=u;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:fd(8,d,i)}var f=d.child;if(f!==null)f.return=d,ye=f;else for(;ye!==null;){d=ye;var m=d.sibling,p=d.return;if(RP(d),d===u){ye=null;break}if(m!==null){m.return=p,ye=m;break}ye=p}}}var E=i.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ye=_;break e}ye=i.return}}var w=t.current;for(ye=w;ye!==null;){o=ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ye=b;else e:for(o=w;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bg(9,a)}}catch(P){Ot(a,a.return,P)}if(a===o){ye=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ye=A;break e}ye=a.return}}if(rt=s,ia(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(mg,t)}catch{}r=!0}return r}finally{ut=n,kr.transition=e}}return!1}function u1(t,e,n){e=Vc(n,e),e=yP(t,e,1),t=Ao(t,e,1),e=$n(),t!==null&&(jh(t,1,e),rr(t,e))}function Ot(t,e,n){if(t.tag===3)u1(t,t,n);else for(;e!==null;){if(e.tag===3){u1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ro===null||!Ro.has(r))){t=Vc(n,t),t=xP(e,t,1),e=Ao(e,t,1),t=$n(),e!==null&&(jh(e,1,t),rr(e,t));break}}e=e.return}}function B3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(pn&n)===n&&(Zt===4||Zt===3&&(pn&130023424)===pn&&500>Ut()-S_?$a(t,0):T_|=n),rr(t,e)}function FP(t,e){e===0&&(t.mode&1?(e=kf,kf<<=1,!(kf&130023424)&&(kf=4194304)):e=1);var n=$n();t=Pi(t,e),t!==null&&(jh(t,e,n),rr(t,n))}function z3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FP(t,n)}function W3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),FP(t,n)}var UP;UP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return er=!1,P3(t,e,n);er=!!(t.flags&131072)}else er=!1,bt&&e.flags&1048576&&WN(e,rp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ym(t,e),t=e.pendingProps;var s=jc(e,Nn.current);dc(e,n),s=y_(null,e,r,t,s,n);var i=x_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(i=!0,tp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,f_(e),s.updater=_g,e.stateNode=s,s._reactInternals=e,ex(e,r,t,n),e=rx(null,e,r,!0,i,n)):(e.tag=0,bt&&i&&o_(e),On(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ym(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=K3(r),t=Kr(r,t),s){case 0:e=nx(null,e,r,t,n);break e;case 1:e=e1(null,e,r,t,n);break e;case 11:e=XS(null,e,r,t,n);break e;case 14:e=JS(null,e,r,Kr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),nx(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),e1(t,e,r,s,n);case 3:e:{if(EP(e),t===null)throw Error(ee(387));r=e.pendingProps,i=e.memoizedState,s=i.element,YN(t,e),op(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vc(Error(ee(423)),e),e=t1(t,e,r,n,s);break e}else if(r!==s){s=Vc(Error(ee(424)),e),e=t1(t,e,r,n,s);break e}else for(mr=Io(e.stateNode.containerInfo.firstChild),gr=e,bt=!0,Xr=null,n=qN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dc(),r===s){e=ki(t,e,n);break e}On(t,e,r,n)}e=e.child}return e;case 5:return ZN(e),t===null&&Z0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,K0(r,s)?o=null:i!==null&&K0(r,i)&&(e.flags|=32),bP(t,e),On(t,e,o,n),e.child;case 6:return t===null&&Z0(e),null;case 13:return TP(t,e,n);case 4:return m_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mc(e,null,r,n):On(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),XS(t,e,r,s,n);case 7:return On(t,e,e.pendingProps,n),e.child;case 8:return On(t,e,e.pendingProps.children,n),e.child;case 12:return On(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,mt(sp,r._currentValue),r._currentValue=o,i!==null)if(ls(i.value,o)){if(i.children===s.children&&!tr.current){e=ki(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ei(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),X0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),X0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}On(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dc(e,n),s=Mr(s),r=r(s),e.flags|=1,On(t,e,r,n),e.child;case 14:return r=e.type,s=Kr(r,e.pendingProps),s=Kr(r.type,s),JS(t,e,r,s,n);case 15:return wP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),ym(t,e),e.tag=1,nr(r)?(t=!0,tp(e)):t=!1,dc(e,n),vP(e,r,s),ex(e,r,s,n),rx(null,e,r,!0,t,n);case 19:return SP(t,e,n);case 22:return _P(t,e,n)}throw Error(ee(156,e.tag))};function $P(t,e){return mN(t,e)}function H3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,n,r){return new H3(t,e,n,r)}function R_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function K3(t){if(typeof t=="function")return R_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qw)return 11;if(t===Qw)return 14}return 2}function Po(t,e){var n=t.alternate;return n===null?(n=Pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _m(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")R_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $l:return Ba(n.children,s,i,e);case Gw:o=8,s|=8;break;case T0:return t=Pr(12,n,e,s|2),t.elementType=T0,t.lanes=i,t;case S0:return t=Pr(13,n,e,s),t.elementType=S0,t.lanes=i,t;case C0:return t=Pr(19,n,e,s),t.elementType=C0,t.lanes=i,t;case ZR:return Tg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QR:o=10;break e;case YR:o=9;break e;case qw:o=11;break e;case Qw:o=14;break e;case io:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Pr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ba(t,e,n,r){return t=Pr(7,t,r,e),t.lanes=n,t}function Tg(t,e,n,r){return t=Pr(22,t,r,e),t.elementType=ZR,t.lanes=n,t.stateNode={isHidden:!1},t}function Ay(t,e,n){return t=Pr(6,t,null,e),t.lanes=n,t}function Ry(t,e,n){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cy(0),this.expirationTimes=cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function N_(t,e,n,r,s,i,o,a,l){return t=new G3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f_(i),t}function q3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BP(t){if(!t)return Uo;t=t._reactInternals;e:{if(vl(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(nr(n))return BN(t,n,e)}return e}function zP(t,e,n,r,s,i,o,a,l){return t=N_(n,r,!0,t,s,i,o,a,l),t.context=BP(null),n=t.current,r=$n(),s=No(n),i=Ei(r,s),i.callback=e??null,Ao(n,i,s),t.current.lanes=s,jh(t,s,r),rr(t,r),t}function Sg(t,e,n,r){var s=e.current,i=$n(),o=No(s);return n=BP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ei(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ao(s,e,o),t!==null&&(is(t,s,o,i),pm(t,s,o)),o}function mp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function P_(t,e){d1(t,e),(t=t.alternate)&&d1(t,e)}function Q3(){return null}var WP=typeof reportError=="function"?reportError:function(t){console.error(t)};function k_(t){this._internalRoot=t}Cg.prototype.render=k_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Sg(t,e,null,null)};Cg.prototype.unmount=k_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ja(function(){Sg(null,t,null,null)}),e[Ni]=null}};function Cg(t){this._internalRoot=t}Cg.prototype.unstable_scheduleHydration=function(t){if(t){var e=_N();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ao.length&&e!==0&&e<ao[n].priority;n++);ao.splice(n,0,t),n===0&&EN(t)}};function j_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h1(){}function Y3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mp(o);i.call(u)}}var o=zP(e,r,t,0,null,!1,!1,"",h1);return t._reactRootContainer=o,t[Ni]=o.current,Md(t.nodeType===8?t.parentNode:t),Ja(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mp(l);a.call(u)}}var l=N_(t,0,!1,null,null,!1,!1,"",h1);return t._reactRootContainer=l,t[Ni]=l.current,Md(t.nodeType===8?t.parentNode:t),Ja(function(){Sg(e,l,n,r)}),l}function Ag(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mp(o);a.call(l)}}Sg(e,o,t,s)}else o=Y3(n,e,t,s,r);return mp(o)}xN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ku(e.pendingLanes);n!==0&&(Xw(e,n|1),rr(e,Ut()),!(rt&6)&&(Lc=Ut()+500,ia()))}break;case 13:Ja(function(){var r=Pi(t,1);if(r!==null){var s=$n();is(r,t,1,s)}}),P_(t,1)}};Jw=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=$n();is(e,t,134217728,n)}P_(t,134217728)}};wN=function(t){if(t.tag===13){var e=No(t),n=Pi(t,e);if(n!==null){var r=$n();is(n,t,e,r)}P_(t,e)}};_N=function(){return ut};bN=function(t,e){var n=ut;try{return ut=t,e()}finally{ut=n}};O0=function(t,e,n){switch(e){case"input":if(R0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yg(r);if(!s)throw Error(ee(90));JR(r),R0(r,s)}}}break;case"textarea":tN(t,n);break;case"select":e=n.value,e!=null&&ac(t,!!n.multiple,e,!1)}};lN=C_;cN=Ja;var Z3={usingClientEntryPoint:!1,Events:[Mh,Hl,yg,oN,aN,C_]},Lu={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X3={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hN(t),t===null?null:t.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||Q3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{mg=zf.inject(X3),Rs=zf}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z3;br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j_(e))throw Error(ee(200));return q3(t,e,null,n)};br.createRoot=function(t,e){if(!j_(t))throw Error(ee(299));var n=!1,r="",s=WP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=N_(t,1,!1,null,null,n,!1,r,s),t[Ni]=e.current,Md(t.nodeType===8?t.parentNode:t),new k_(e)};br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=hN(e),t=t===null?null:t.stateNode,t};br.flushSync=function(t){return Ja(t)};br.hydrate=function(t,e,n){if(!Ig(e))throw Error(ee(200));return Ag(null,t,e,!0,n)};br.hydrateRoot=function(t,e,n){if(!j_(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=WP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zP(e,null,t,1,n??null,s,!1,i,o),t[Ni]=e.current,Md(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cg(e)};br.render=function(t,e,n){if(!Ig(e))throw Error(ee(200));return Ag(null,t,e,!1,n)};br.unmountComponentAtNode=function(t){if(!Ig(t))throw Error(ee(40));return t._reactRootContainer?(Ja(function(){Ag(null,null,t,!1,function(){t._reactRootContainer=null,t[Ni]=null})}),!0):!1};br.unstable_batchedUpdates=C_;br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ig(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Ag(t,e,n,!1,r)};br.version="18.3.1-next-f1338f8080-20240426";function HP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HP)}catch(t){console.error(t)}}HP(),HR.exports=br;var yl=HR.exports;const KP=jR(yl);var GP,f1=yl;GP=f1.createRoot,f1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}var bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bo||(bo={}));const m1="popstate";function J3(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return px("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:pp(s)}return t$(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e$(){return Math.random().toString(36).substr(2,8)}function p1(t,e){return{usr:t.state,key:t.key,idx:e}}function px(t,e,n,r){return n===void 0&&(n=null),Wd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?su(e):e,{state:n,key:e&&e.key||r||e$()})}function pp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function su(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function t$(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bo.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Wd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=bo.Pop;let y=d(),_=y==null?null:y-u;u=y,l&&l({action:a,location:v.location,delta:_})}function m(y,_){a=bo.Push;let w=px(v.location,y,_);u=d()+1;let b=p1(w,u),A=v.createHref(w);try{o.pushState(b,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function p(y,_){a=bo.Replace;let w=px(v.location,y,_);u=d();let b=p1(w,u),A=v.createHref(w);o.replaceState(b,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function E(y){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:pp(y);return w=w.replace(/ $/,"%20"),$t(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let v={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(m1,f),l=y,()=>{s.removeEventListener(m1,f),l=null}},createHref(y){return e(s,y)},createURL:E,encodeLocation(y){let _=E(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(y){return o.go(y)}};return v}var g1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(g1||(g1={}));function n$(t,e,n){return n===void 0&&(n="/"),r$(t,e,n)}function r$(t,e,n,r){let s=typeof e=="string"?su(e):e,i=D_(s.pathname||"/",n);if(i==null)return null;let o=QP(t);s$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=g$(i);a=f$(o[l],u)}return a}function QP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&($t(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ko([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&($t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QP(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:d$(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of YP(i.path))s(i,o,l)}),e}function YP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=YP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function s$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:h$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i$=/^:[\w-]+$/,o$=3,a$=2,l$=1,c$=10,u$=-2,v1=t=>t==="*";function d$(t,e){let n=t.split("/"),r=n.length;return n.some(v1)&&(r+=u$),e&&(r+=a$),n.filter(s=>!v1(s)).reduce((s,i)=>s+(i$.test(i)?o$:i===""?l$:c$),r)}function h$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function f$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=m$({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ko([i,f.pathname]),pathnameBase:w$(ko([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ko([i,f.pathnameBase]))}return o}function m$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const E=a[f];return p&&!E?u[m]=void 0:u[m]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function p$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function g$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function v$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?su(t):t;return{pathname:n?n.startsWith("/")?n:y$(n,e):e,search:_$(r),hash:b$(s)}}function y$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M_(t,e){let n=x$(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function O_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=su(t):(s=Wd({},t),$t(!s.pathname||!s.pathname.includes("?"),Ny("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),Ny("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),Ny("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=v$(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ko=t=>t.join("/").replace(/\/\/+/g,"/"),w$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZP=["post","put","patch","delete"];new Set(ZP);const T$=["get",...ZP];new Set(T$);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}const V_=g.createContext(null),S$=g.createContext(null),oa=g.createContext(null),Rg=g.createContext(null),aa=g.createContext({outlet:null,matches:[],isDataRoute:!1}),XP=g.createContext(null);function C$(t,e){let{relative:n}=e===void 0?{}:e;iu()||$t(!1);let{basename:r,navigator:s}=g.useContext(oa),{hash:i,pathname:o,search:a}=ek(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ko([r,o])),s.createHref({pathname:l,search:a,hash:i})}function iu(){return g.useContext(Rg)!=null}function Bi(){return iu()||$t(!1),g.useContext(Rg).location}function JP(t){g.useContext(oa).static||g.useLayoutEffect(t)}function la(){let{isDataRoute:t}=g.useContext(aa);return t?F$():I$()}function I$(){iu()||$t(!1);let t=g.useContext(V_),{basename:e,future:n,navigator:r}=g.useContext(oa),{matches:s}=g.useContext(aa),{pathname:i}=Bi(),o=JSON.stringify(M_(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return JP(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=O_(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ko([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function ek(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(oa),{matches:s}=g.useContext(aa),{pathname:i}=Bi(),o=JSON.stringify(M_(s,r.v7_relativeSplatPath));return g.useMemo(()=>O_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function A$(t,e){return R$(t,e)}function R$(t,e,n,r){iu()||$t(!1);let{navigator:s,static:i}=g.useContext(oa),{matches:o}=g.useContext(aa),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Bi(),f;if(e){var m;let _=typeof e=="string"?su(e):e;u==="/"||(m=_.pathname)!=null&&m.startsWith(u)||$t(!1),f=_}else f=d;let p=f.pathname||"/",E=p;if(u!=="/"){let _=u.replace(/^\//,"").split("/");E="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=n$(t,{pathname:E}),y=D$(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ko([u,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:ko([u,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&y?g.createElement(Rg.Provider,{value:{location:Hd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:bo.Pop}},y):y}function N$(){let t=L$(),e=E$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const P$=g.createElement(N$,null);class k$ extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(aa.Provider,{value:this.props.routeContext},g.createElement(XP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j$(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(V_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(aa.Provider,{value:e},r)}function D$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||$t(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,E=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,E=!1,v=null,y=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||P$,l&&(u<0&&m===0?(U$("route-fallback"),E=!0,y=null):u===m&&(E=!0,y=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),w=()=>{let b;return p?b=v:E?b=y:f.route.Component?b=g.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,g.createElement(j$,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(k$,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var tk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tk||{}),nk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nk||{});function M$(t){let e=g.useContext(V_);return e||$t(!1),e}function O$(t){let e=g.useContext(S$);return e||$t(!1),e}function V$(t){let e=g.useContext(aa);return e||$t(!1),e}function rk(t){let e=V$(),n=e.matches[e.matches.length-1];return n.route.id||$t(!1),n.route.id}function L$(){var t;let e=g.useContext(XP),n=O$(),r=rk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function F$(){let{router:t}=M$(tk.UseNavigateStable),e=rk(nk.UseNavigateStable),n=g.useRef(!1);return JP(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hd({fromRouteId:e},i)))},[t,e])}const y1={};function U$(t,e,n){y1[t]||(y1[t]=!0)}function $$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gx(t){let{to:e,replace:n,state:r,relative:s}=t;iu()||$t(!1);let{future:i,static:o}=g.useContext(oa),{matches:a}=g.useContext(aa),{pathname:l}=Bi(),u=la(),d=O_(e,M_(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ai(t){$t(!1)}function B$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bo.Pop,navigator:i,static:o=!1,future:a}=t;iu()&&$t(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Hd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=su(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:E="default"}=r,v=g.useMemo(()=>{let y=D_(d,l);return y==null?null:{location:{pathname:y,search:f,hash:m,state:p,key:E},navigationType:s}},[l,d,f,m,p,E,s]);return v==null?null:g.createElement(oa.Provider,{value:u},g.createElement(Rg.Provider,{children:n,value:v}))}function z$(t){let{children:e,location:n}=t;return A$(vx(e),n)}new Promise(()=>{});function vx(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,vx(r.props.children,i));return}r.type!==ai&&$t(!1),!r.props.index||!r.props.children||$t(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vx(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yx.apply(this,arguments)}function W$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function H$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K$(t,e){return t.button===0&&(!e||e==="_self")&&!H$(t)}function xx(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function G$(t,e){let n=xx(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const q$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Q$="6";try{window.__reactRouterVersion=Q$}catch{}const Y$="startTransition",x1=zw[Y$];function Z$(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=J3({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(f=>{u&&x1?x1(()=>l(f)):l(f)},[l,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>$$(r),[r]),g.createElement(B$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const X$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L_=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,m=W$(e,q$),{basename:p}=g.useContext(oa),E,v=!1;if(typeof u=="string"&&J$.test(u)&&(E=u,X$))try{let b=new URL(window.location.href),A=u.startsWith("//")?new URL(b.protocol+u):new URL(u),P=D_(A.pathname,p);A.origin===b.origin&&P!=null?u=P+A.search+A.hash:v=!0}catch{}let y=C$(u,{relative:s}),_=e6(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||_(b)}return g.createElement("a",yx({},m,{href:E||y,onClick:v||i?r:w,ref:n,target:l}))});var w1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(w1||(w1={}));var _1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_1||(_1={}));function e6(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=la(),u=Bi(),d=ek(t,{relative:o});return g.useCallback(f=>{if(K$(f,n)){f.preventDefault();let m=r!==void 0?r:pp(u)===pp(d);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}function t6(t){let e=g.useRef(xx(t)),n=g.useRef(!1),r=Bi(),s=g.useMemo(()=>G$(r.search,n.current?null:e.current),[r.search]),i=la(),o=g.useCallback((a,l)=>{const u=xx(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var Ng=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pg=typeof window>"u"||"Deno"in globalThis;function Gr(){}function n6(t,e){return typeof t=="function"?t(e):t}function r6(t){return typeof t=="number"&&t>=0&&t!==1/0}function s6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function b1(t,e){return typeof t=="function"?t(e):t}function i6(t,e){return typeof t=="function"?t(e):t}function E1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==F_(o,e.options))return!1}else if(!Gd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function T1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Kd(e.options.mutationKey)!==Kd(i))return!1}else if(!Gd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function F_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kd)(t)}function Kd(t){return JSON.stringify(t,(e,n)=>wx(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gd(t[n],e[n])):!1}function sk(t,e){if(t===e)return t;const n=S1(t)&&S1(e);if(n||wx(t)&&wx(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=sk(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function S1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wx(t){if(!C1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!C1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function C1(t){return Object.prototype.toString.call(t)==="[object Object]"}function o6(t){return new Promise(e=>{setTimeout(e,t)})}function a6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sk(t,e):e}function l6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function c6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var U_=Symbol();function ik(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===U_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oa,po,Ec,SR,u6=(SR=class extends Ng{constructor(){super();it(this,Oa);it(this,po);it(this,Ec);Fe(this,Ec,e=>{if(!Pg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,po)||this.setEventListener(H(this,Ec))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,po))==null||e.call(this),Fe(this,po,void 0))}setEventListener(e){var n;Fe(this,Ec,e),(n=H(this,po))==null||n.call(this),Fe(this,po,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,Oa)!==e&&(Fe(this,Oa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,Oa)=="boolean"?H(this,Oa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oa=new WeakMap,po=new WeakMap,Ec=new WeakMap,SR),ok=new u6,Tc,go,Sc,CR,d6=(CR=class extends Ng{constructor(){super();it(this,Tc,!0);it(this,go);it(this,Sc);Fe(this,Sc,e=>{if(!Pg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,go)||this.setEventListener(H(this,Sc))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,go))==null||e.call(this),Fe(this,go,void 0))}setEventListener(e){var n;Fe(this,Sc,e),(n=H(this,go))==null||n.call(this),Fe(this,go,e(this.setOnline.bind(this)))}setOnline(e){H(this,Tc)!==e&&(Fe(this,Tc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,Tc)}},Tc=new WeakMap,go=new WeakMap,Sc=new WeakMap,CR),gp=new d6;function h6(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function f6(t){return Math.min(1e3*2**t,3e4)}function ak(t){return(t??"online")==="online"?gp.isOnline():!0}var lk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Py(t){return t instanceof lk}function ck(t){let e=!1,n=0,r=!1,s;const i=h6(),o=v=>{var y;r||(m(new lk(v)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ok.isFocused()&&(t.networkMode==="always"||gp.isOnline())&&t.canRun(),d=()=>ak(t.networkMode)&&t.canRun(),f=v=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var y;s=_=>{(r||u())&&v(_)},(y=t.onPause)==null||y.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),E=()=>{if(r)return;let v;const y=n===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(f).catch(_=>{var M;if(r)return;const w=t.retry??(Pg?0:3),b=t.retryDelay??f6,A=typeof b=="function"?b(n,_):b,P=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!P){m(_);return}n++,(M=t.onFail)==null||M.call(t,n,_),o6(A).then(()=>u()?void 0:p()).then(()=>{e?m(_):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?E():p().then(E),i)}}var m6=t=>setTimeout(t,0);function p6(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=m6;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Fn=p6(),Va,IR,uk=(IR=class{constructor(){it(this,Va)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r6(this.gcTime)&&Fe(this,Va,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pg?1/0:5*60*1e3))}clearGcTimeout(){H(this,Va)&&(clearTimeout(H(this,Va)),Fe(this,Va,void 0))}},Va=new WeakMap,IR),Cc,Ic,Ar,La,Tn,Nh,Fa,qr,li,AR,g6=(AR=class extends uk{constructor(n){super();it(this,qr);it(this,Cc);it(this,Ic);it(this,Ar);it(this,La);it(this,Tn);it(this,Nh);it(this,Fa);Fe(this,Fa,!1),Fe(this,Nh,n.defaultOptions),this.setOptions(n.options),this.observers=[],Fe(this,La,n.client),Fe(this,Ar,H(this,La).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Fe(this,Cc,y6(this.options)),this.state=n.state??H(this,Cc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,Tn))==null?void 0:n.promise}setOptions(n){this.options={...H(this,Nh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Ar).remove(this)}setData(n,r){const s=a6(this.state.data,n,this.options);return wn(this,qr,li).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){wn(this,qr,li).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,Tn))==null?void 0:s.promise;return(i=H(this,Tn))==null||i.cancel(n),r?r.then(Gr).catch(Gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Cc))}isActive(){return this.observers.some(n=>i6(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===U_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!s6(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Tn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Tn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,Ar).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,Tn)&&(H(this,Fa)?H(this,Tn).cancel({revert:!0}):H(this,Tn).cancelRetry()),this.scheduleGc()),H(this,Ar).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wn(this,qr,li).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,Tn))return H(this,Tn).continueRetry(),H(this,Tn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Fe(this,Fa,!0),s.signal)})},o=()=>{const m=ik(this.options,r),p={client:H(this,La),queryKey:this.queryKey,meta:this.meta};return i(p),Fe(this,Fa,!1),this.options.persister?this.options.persister(m,p,this):m(p)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,La),state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),Fe(this,Ic,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&wn(this,qr,li).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=m=>{var p,E,v,y;Py(m)&&m.silent||wn(this,qr,li).call(this,{type:"error",error:m}),Py(m)||((E=(p=H(this,Ar).config).onError)==null||E.call(p,m,this),(y=(v=H(this,Ar).config).onSettled)==null||y.call(v,this.state.data,m,this)),this.scheduleGc()};return Fe(this,Tn,ck({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var p,E,v,y;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(_){l(_);return}(E=(p=H(this,Ar).config).onSuccess)==null||E.call(p,m,this),(y=(v=H(this,Ar).config).onSettled)==null||y.call(v,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,p)=>{wn(this,qr,li).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{wn(this,qr,li).call(this,{type:"pause"})},onContinue:()=>{wn(this,qr,li).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),H(this,Tn).start()}},Cc=new WeakMap,Ic=new WeakMap,Ar=new WeakMap,La=new WeakMap,Tn=new WeakMap,Nh=new WeakMap,Fa=new WeakMap,qr=new WeakSet,li=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...v6(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Py(i)&&i.revert&&H(this,Ic)?{...H(this,Ic),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Fn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Ar).notify({query:this,type:"updated",action:n})})},AR);function v6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ak(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function y6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Es,RR,x6=(RR=class extends Ng{constructor(e={}){super();it(this,Es);this.config=e,Fe(this,Es,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??F_(s,n);let o=this.get(i);return o||(o=new g6({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,Es).has(e.queryHash)||(H(this,Es).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,Es).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,Es).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,Es).get(e)}getAll(){return[...H(this,Es).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>E1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>E1(e,r)):n}notify(e){Fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Es=new WeakMap,RR),Ts,Dn,Ua,Ss,to,NR,w6=(NR=class extends uk{constructor(n){super();it(this,Ss);it(this,Ts);it(this,Dn);it(this,Ua);this.mutationId=n.mutationId,Fe(this,Dn,n.mutationCache),Fe(this,Ts,[]),this.state=n.state||_6(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,Ts).includes(n)||(H(this,Ts).push(n),this.clearGcTimeout(),H(this,Dn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Fe(this,Ts,H(this,Ts).filter(r=>r!==n)),this.scheduleGc(),H(this,Dn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,Ts).length||(this.state.status==="pending"?this.scheduleGc():H(this,Dn).remove(this))}continue(){var n;return((n=H(this,Ua))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,f,m,p,E,v,y,_,w,b,A,P,M,C,T,I;const r=()=>{wn(this,Ss,to).call(this,{type:"continue"})};Fe(this,Ua,ck({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{wn(this,Ss,to).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{wn(this,Ss,to).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Dn).canRun(this)}));const s=this.state.status==="pending",i=!H(this,Ua).canStart();try{if(s)r();else{wn(this,Ss,to).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=H(this,Dn).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));D!==this.state.context&&wn(this,Ss,to).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const R=await H(this,Ua).start();return await((f=(d=H(this,Dn).config).onSuccess)==null?void 0:f.call(d,R,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,R,n,this.state.context)),await((v=(E=H(this,Dn).config).onSettled)==null?void 0:v.call(E,R,null,this.state.variables,this.state.context,this)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,R,null,n,this.state.context)),wn(this,Ss,to).call(this,{type:"success",data:R}),R}catch(R){try{throw await((b=(w=H(this,Dn).config).onError)==null?void 0:b.call(w,R,n,this.state.context,this)),await((P=(A=this.options).onError)==null?void 0:P.call(A,R,n,this.state.context)),await((C=(M=H(this,Dn).config).onSettled)==null?void 0:C.call(M,void 0,R,this.state.variables,this.state.context,this)),await((I=(T=this.options).onSettled)==null?void 0:I.call(T,void 0,R,n,this.state.context)),R}finally{wn(this,Ss,to).call(this,{type:"error",error:R})}}finally{H(this,Dn).runNext(this)}}},Ts=new WeakMap,Dn=new WeakMap,Ua=new WeakMap,Ss=new WeakSet,to=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fn.batch(()=>{H(this,Ts).forEach(s=>{s.onMutationUpdate(n)}),H(this,Dn).notify({mutation:this,type:"updated",action:n})})},NR);function _6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pi,Qr,Ph,PR,b6=(PR=class extends Ng{constructor(e={}){super();it(this,pi);it(this,Qr);it(this,Ph);this.config=e,Fe(this,pi,new Set),Fe(this,Qr,new Map),Fe(this,Ph,0)}build(e,n,r){const s=new w6({mutationCache:this,mutationId:++Cf(this,Ph)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){H(this,pi).add(e);const n=Wf(e);if(typeof n=="string"){const r=H(this,Qr).get(n);r?r.push(e):H(this,Qr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(H(this,pi).delete(e)){const n=Wf(e);if(typeof n=="string"){const r=H(this,Qr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&H(this,Qr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Wf(e);if(typeof n=="string"){const r=H(this,Qr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Wf(e);if(typeof n=="string"){const s=(r=H(this,Qr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fn.batch(()=>{H(this,pi).forEach(e=>{this.notify({type:"removed",mutation:e})}),H(this,pi).clear(),H(this,Qr).clear()})}getAll(){return Array.from(H(this,pi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>T1(n,r))}findAll(e={}){return this.getAll().filter(n=>T1(e,n))}notify(e){Fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Fn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Gr))))}},pi=new WeakMap,Qr=new WeakMap,Ph=new WeakMap,PR);function Wf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function I1(t){return{onFetch:(e,n)=>{var d,f,m,p,E;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=ik(e.options,e.fetchOptions),w=async(b,A,P)=>{if(v)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const M={client:e.client,queryKey:e.queryKey,pageParam:A,direction:P?"backward":"forward",meta:e.options.meta};y(M);const C=await _(M),{maxPages:T}=e.options,I=P?c6:l6;return{pages:I(b.pages,C,T),pageParams:I(b.pageParams,A,T)}};if(s&&i.length){const b=s==="backward",A=b?E6:A1,P={pages:i,pageParams:o},M=A(r,P);a=await w(P,M,b)}else{const b=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:A1(r,a);if(l>0&&A==null)break;a=await w(a,A),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var v,y;return(y=(v=e.options).persister)==null?void 0:y.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function A1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function E6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var jt,vo,yo,Ac,Rc,xo,Nc,Pc,kR,T6=(kR=class{constructor(t={}){it(this,jt);it(this,vo);it(this,yo);it(this,Ac);it(this,Rc);it(this,xo);it(this,Nc);it(this,Pc);Fe(this,jt,t.queryCache||new x6),Fe(this,vo,t.mutationCache||new b6),Fe(this,yo,t.defaultOptions||{}),Fe(this,Ac,new Map),Fe(this,Rc,new Map),Fe(this,xo,0)}mount(){Cf(this,xo)._++,H(this,xo)===1&&(Fe(this,Nc,ok.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,jt).onFocus())})),Fe(this,Pc,gp.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,jt).onOnline())})))}unmount(){var t,e;Cf(this,xo)._--,H(this,xo)===0&&((t=H(this,Nc))==null||t.call(this),Fe(this,Nc,void 0),(e=H(this,Pc))==null||e.call(this),Fe(this,Pc,void 0))}isFetching(t){return H(this,jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,vo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,jt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=H(this,jt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(b1(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return H(this,jt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,jt).get(r.queryHash),i=s==null?void 0:s.state.data,o=n6(e,i);if(o!==void 0)return H(this,jt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Fn.batch(()=>H(this,jt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,jt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,jt);Fn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,jt);return Fn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Fn.batch(()=>H(this,jt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Gr).catch(Gr)}invalidateQueries(t,e={}){return Fn.batch(()=>(H(this,jt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Fn.batch(()=>H(this,jt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Gr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Gr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,jt).build(this,e);return n.isStaleByTime(b1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gr).catch(Gr)}fetchInfiniteQuery(t){return t.behavior=I1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gr).catch(Gr)}ensureInfiniteQueryData(t){return t.behavior=I1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gp.isOnline()?H(this,vo).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,jt)}getMutationCache(){return H(this,vo)}getDefaultOptions(){return H(this,yo)}setDefaultOptions(t){Fe(this,yo,t)}setQueryDefaults(t,e){H(this,Ac).set(Kd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,Ac).values()],n={};return e.forEach(r=>{Gd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){H(this,Rc).set(Kd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,Rc).values()],n={};return e.forEach(r=>{Gd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,yo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=F_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===U_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,yo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,jt).clear(),H(this,vo).clear()}},jt=new WeakMap,vo=new WeakMap,yo=new WeakMap,Ac=new WeakMap,Rc=new WeakMap,xo=new WeakMap,Nc=new WeakMap,Pc=new WeakMap,kR),S6=g.createContext(void 0),C6=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(S6.Provider,{value:t,children:e}));const I6=1,A6=1e6;let ky=0;function R6(){return ky=(ky+1)%Number.MAX_SAFE_INTEGER,ky.toString()}const jy=new Map,N6=t=>e=>{if(jy.has(e))return;const n=setTimeout(()=>{jy.delete(e),t({type:"REMOVE_TOAST",toastId:e})},A6);jy.set(e,n)},P6=t=>{const e=N6(t);return(n,r)=>{switch(r.type){case"ADD_TOAST":return{...n,toasts:[r.toast,...n.toasts].slice(0,I6)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?e(s):n.toasts.forEach(i=>{e(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===s||s===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return r.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==r.toastId)}}}},dk=g.createContext(void 0),k6={toasts:[]};function j6({children:t}){const e=g.useRef(()=>{}),n=g.useMemo(()=>P6(a=>e.current(a)),[]),[r,s]=g.useReducer(n,k6);g.useEffect(()=>{e.current=s},[s]);const i=g.useCallback(a=>{const l=R6(),u=f=>s({type:"UPDATE_TOAST",toast:{...f,id:l}}),d=()=>s({type:"DISMISS_TOAST",toastId:l});return s({type:"ADD_TOAST",toast:{...a,id:l,open:!0,onOpenChange:f=>{f||d()}}}),{id:l,dismiss:d,update:u}},[s]),o=g.useCallback(a=>{s({type:"DISMISS_TOAST",toastId:a})},[s]);return c.jsx(dk.Provider,{value:{toasts:r.toasts,toast:i,dismiss:o},children:t})}const D6=()=>{const t=g.useContext(dk);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t};function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function R1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kg(...t){return e=>{let n=!1;const r=t.map(s=>{const i=R1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():R1(t[s],null)}}}}function Ke(...t){return g.useCallback(kg(...t),t)}function M6(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function jn(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=f=>{var _;const{scope:m,children:p,...E}=f,v=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,y=g.useMemo(()=>E,Object.values(E));return c.jsx(v.Provider,{value:y,children:p})};u.displayName=i+"Provider";function d(f,m){var v;const p=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,E=g.useContext(p);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,O6(s,...e)]}function O6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function el(t){const e=V6(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(L6);if(l){const u=l.props.children,d=a.map(f=>f===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var hk=el("Slot");function V6(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=U6(s),a=F6(i,s.props);return s.type!==g.Fragment&&(a.ref=r?kg(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fk=Symbol("radix.slottable");function mk(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=fk,e}function L6(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fk}function F6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function U6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jg(t){const e=t+"CollectionProvider",[n,r]=jn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:_}=v,w=K.useRef(null),b=K.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:b,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=el(a),u=K.forwardRef((v,y)=>{const{scope:_,children:w}=v,b=i(a,_),A=Ke(y,b.collectionRef);return c.jsx(l,{ref:A,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=el(d),p=K.forwardRef((v,y)=>{const{scope:_,children:w,...b}=v,A=K.useRef(null),P=Ke(y,A),M=i(d,_);return K.useEffect(()=>(M.itemMap.set(A,{ref:A,...b}),()=>void M.itemMap.delete(A))),c.jsx(m,{[f]:"",ref:P,children:w})});p.displayName=d;function E(v){const y=i(t+"CollectionConsumer",v);return K.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((M,C)=>b.indexOf(M.ref.current)-b.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},E,r]}var $6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=$6.reduce((t,e)=>{const n=el(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $_(t,e){t&&yl.flushSync(()=>t.dispatchEvent(e))}function Bn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function B6(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var z6="DismissableLayer",_x="dismissableLayer.update",W6="dismissableLayer.pointerDownOutside",H6="dismissableLayer.focusOutside",N1,pk=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ou=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(pk),[d,f]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),E=Ke(e,C=>f(C)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(y),w=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,A=w>=_,P=G6(C=>{const T=C.target,I=[...u.branches].some(R=>R.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),M=q6(C=>{const T=C.target;[...u.branches].some(R=>R.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return B6(C=>{w===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(N1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),P1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=N1)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),P1())},[d,u]),g.useEffect(()=>{const C=()=>p({});return document.addEventListener(_x,C),()=>document.removeEventListener(_x,C)},[]),c.jsx(Se.div,{...l,ref:E,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,P.onPointerDownCapture)})});ou.displayName=z6;var K6="DismissableLayerBranch",gk=g.forwardRef((t,e)=>{const n=g.useContext(pk),r=g.useRef(null),s=Ke(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Se.div,{...t,ref:s})});gk.displayName=K6;function G6(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){vk(W6,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function q6(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&vk(H6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function P1(){const t=new CustomEvent(_x);document.dispatchEvent(t)}function vk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$_(s,i):s.dispatchEvent(i)}var Q6=ou,Y6=gk,Kt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Z6="Portal",Vh=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Kt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?KP.createPortal(c.jsx(Se.div,{...r,ref:e}),o):null});Vh.displayName=Z6;function X6(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Vr=t=>{const{present:e,children:n}=t,r=J6(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ke(r.ref,e9(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Vr.displayName="Presence";function J6(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=X6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Hf(r.current);i.current=a==="mounted"?u:"none"},[a]),Kt(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,p=Hf(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Kt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const v=Hf(r.current).includes(p.animationName);if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=p=>{p.target===e&&(i.current=Hf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Hf(t){return(t==null?void 0:t.animationName)||"none"}function e9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var t9=zw[" useInsertionEffect ".trim().toString()]||Kt;function Us({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=n9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=g.useCallback(d=>{var f;if(a){const m=r9(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[a,t,i,o]);return[l,u]}function n9({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return t9(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function r9(t){return typeof t=="function"}var yk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),s9="VisuallyHidden",Dg=g.forwardRef((t,e)=>c.jsx(Se.span,{...t,ref:e,style:{...yk,...t.style}}));Dg.displayName=s9;var i9=Dg,B_="ToastProvider",[z_,o9,a9]=jg("Toast"),[xk,dae]=jn("Toast",[a9]),[l9,Mg]=xk(B_),wk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${B_}\`. Expected non-empty \`string\`.`),c.jsx(z_.Provider,{scope:e,children:c.jsx(l9,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};wk.displayName=B_;var _k="ToastViewport",c9=["F8"],bx="toast.viewportPause",Ex="toast.viewportResume",bk=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=c9,label:s="Notifications ({hotkey})",...i}=t,o=Mg(_k,n),a=o9(n),l=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),m=Ke(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;g.useEffect(()=>{const y=_=>{var b;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),g.useEffect(()=>{const y=l.current,_=f.current;if(E&&y&&_){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(bx);_.dispatchEvent(M),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Ex);_.dispatchEvent(M),o.isClosePausedRef.current=!1}},A=M=>{!y.contains(M.relatedTarget)&&b()},P=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",A),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",P),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",P),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[E,o.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:y})=>{const w=a().map(b=>{const A=b.ref.current,P=[A,...b9(A)];return y==="forwards"?P:P.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const y=f.current;if(y){const _=w=>{var P,M,C;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const T=document.activeElement,I=w.shiftKey;if(w.target===y&&I){(P=u.current)==null||P.focus();return}const j=v({tabbingDirection:I?"backwards":"forwards"}),N=j.findIndex(z=>z===T);Dy(j.slice(N+1))?w.preventDefault():I?(M=u.current)==null||M.focus():(C=d.current)==null||C.focus()}};return y.addEventListener("keydown",_),()=>y.removeEventListener("keydown",_)}},[a,v]),c.jsxs(Y6,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&c.jsx(Tx,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Dy(y)}}),c.jsx(z_.Slot,{scope:n,children:c.jsx(Se.ol,{tabIndex:-1,...i,ref:m})}),E&&c.jsx(Tx,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Dy(y)}})]})});bk.displayName=_k;var Ek="ToastFocusProxy",Tx=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Mg(Ek,n);return c.jsx(Dg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Tx.displayName=Ek;var Lh="Toast",u9="toast.swipeStart",d9="toast.swipeMove",h9="toast.swipeCancel",f9="toast.swipeEnd",Tk=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Us({prop:r,defaultProp:s??!0,onChange:i,caller:Lh});return c.jsx(Vr,{present:n||a,children:c.jsx(g9,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Bn(t.onPause),onResume:Bn(t.onResume),onSwipeStart:oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Tk.displayName=Lh;var[m9,p9]=xk(Lh,{onClose(){}}),g9=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...E}=t,v=Mg(Lh,n),[y,_]=g.useState(null),w=Ke(e,z=>_(z)),b=g.useRef(null),A=g.useRef(null),P=s||v.duration,M=g.useRef(0),C=g.useRef(P),T=g.useRef(0),{onToastAdd:I,onToastRemove:R}=v,D=Bn(()=>{var ae;(y==null?void 0:y.contains(document.activeElement))&&((ae=v.viewport)==null||ae.focus()),o()}),j=g.useCallback(z=>{!z||z===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(D,z))},[D]);g.useEffect(()=>{const z=v.viewport;if(z){const ae=()=>{j(C.current),u==null||u()},ne=()=>{const Q=new Date().getTime()-M.current;C.current=C.current-Q,window.clearTimeout(T.current),l==null||l()};return z.addEventListener(bx,ne),z.addEventListener(Ex,ae),()=>{z.removeEventListener(bx,ne),z.removeEventListener(Ex,ae)}}},[v.viewport,P,l,u,j]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&j(P)},[i,P,v.isClosePausedRef,j]),g.useEffect(()=>(I(),()=>R()),[I,R]);const N=g.useMemo(()=>y?Pk(y):null,[y]);return v.viewport?c.jsxs(c.Fragment,{children:[N&&c.jsx(v9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),c.jsx(m9,{scope:n,onClose:D,children:yl.createPortal(c.jsx(z_.ItemSlot,{scope:n,children:c.jsx(Q6,{asChild:!0,onEscapeKeyDown:oe(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...E,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:oe(t.onPointerDown,z=>{z.button===0&&(b.current={x:z.clientX,y:z.clientY})}),onPointerMove:oe(t.onPointerMove,z=>{if(!b.current)return;const ae=z.clientX-b.current.x,ne=z.clientY-b.current.y,Q=!!A.current,$=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Z=$?V(0,ae):0,pe=$?0:V(0,ne),re=z.pointerType==="touch"?10:2,he={x:Z,y:pe},te={originalEvent:z,delta:he};Q?(A.current=he,Kf(d9,f,te,{discrete:!1})):k1(he,v.swipeDirection,re)?(A.current=he,Kf(u9,d,te,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ae)>re||Math.abs(ne)>re)&&(b.current=null)}),onPointerUp:oe(t.onPointerUp,z=>{const ae=A.current,ne=z.target;if(ne.hasPointerCapture(z.pointerId)&&ne.releasePointerCapture(z.pointerId),A.current=null,b.current=null,ae){const Q=z.currentTarget,$={originalEvent:z,delta:ae};k1(ae,v.swipeDirection,v.swipeThreshold)?Kf(f9,p,$,{discrete:!0}):Kf(h9,m,$,{discrete:!0}),Q.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),v9=t=>{const{__scopeToast:e,children:n,...r}=t,s=Mg(Lh,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return w9(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(Vh,{asChild:!0,children:c.jsx(Dg,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},y9="ToastTitle",Sk=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Se.div,{...r,ref:e})});Sk.displayName=y9;var x9="ToastDescription",Ck=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Se.div,{...r,ref:e})});Ck.displayName=x9;var Ik="ToastAction",Ak=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(Nk,{altText:n,asChild:!0,children:c.jsx(W_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ik}\`. Expected non-empty \`string\`.`),null)});Ak.displayName=Ik;var Rk="ToastClose",W_=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=p9(Rk,n);return c.jsx(Nk,{asChild:!0,children:c.jsx(Se.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,s.onClose)})})});W_.displayName=Rk;var Nk=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Pk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Pk(r))}}),e}function Kf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$_(s,i):s.dispatchEvent(i)}var k1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function w9(t=()=>{}){const e=Bn(t);Kt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _9(t){return t.nodeType===t.ELEMENT_NODE}function b9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var E9=wk,kk=bk,jk=Tk,Dk=Sk,Mk=Ck,Ok=Ak,Vk=W_;function Lk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Lk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Lk(t))&&(r&&(r+=" "),r+=e);return r}const j1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,D1=Fk,Og=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return D1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=j1(d)||j1(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(E=>{let[v,y]=E;return Array.isArray(y)?y.includes({...i,...a}[v]):{...i,...a}[v]===y})?[...u,f,m]:u},[]);return D1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...S9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Uk("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(C9,{ref:i,iconNode:e,className:Uk(`lucide-${T9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Me("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=Me("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Me("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=Me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=Me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Me("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=Me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=Me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=Me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Me("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Me("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=Me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),G_="-",U9=t=>{const e=B9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(G_);return a[0]===""&&a.length!==1&&a.shift(),Gk(a,e)||$9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Gk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Gk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(G_);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},$1=/^\[(.+)\]$/,$9=t=>{if($1.test(t)){const e=$1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},B9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return W9(Object.entries(t.classGroups),n).forEach(([i,o])=>{Nx(o,r,i,e)}),r},Nx=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:B1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(z9(s)){Nx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Nx(o,B1(e,i),n,r)})})},B1=(t,e)=>{let n=t;return e.split(G_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},z9=t=>t.isThemeGetter,W9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,H9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},qk="!",K9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let y=0;y<a.length;y++){let _=a[y];if(u===0){if(_===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(d,y)),d=y+i;continue}if(_==="/"){f=y;continue}}_==="["?u++:_==="]"&&u--}const m=l.length===0?a:a.substring(d),p=m.startsWith(qk),E=p?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:E,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},G9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},q9=t=>({cache:H9(t.cacheSize),parseClassName:K9(t),...U9(t)}),Q9=/\s+/,Y9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Q9);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let E=!!p,v=r(E?m.substring(0,p):m);if(!v){if(!E){a=u+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=u+(a.length>0?" "+a:a);continue}E=!1}const y=G9(d).join(":"),_=f?y+qk:y,w=_+v;if(i.includes(w))continue;i.push(w);const b=s(v,E);for(let A=0;A<b.length;++A){const P=b[A];i.push(_+P)}a=u+(a.length>0?" "+a:a)}return a};function Z9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Qk(e))&&(r&&(r+=" "),r+=n);return r}const Qk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qk(t[r]))&&(n&&(n+=" "),n+=e);return n};function X9(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=q9(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Y9(l,n);return s(l,d),d}return function(){return i(Z9.apply(null,arguments))}}const gt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Yk=/^\[(?:([a-z-]+):)?(.+)\]$/i,J9=/^\d+\/\d+$/,eB=new Set(["px","full","screen"]),tB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ii=t=>fc(t)||eB.has(t)||J9.test(t),Yi=t=>au(t,"length",fB),fc=t=>!!t&&!Number.isNaN(Number(t)),Vy=t=>au(t,"number",fc),Fu=t=>!!t&&Number.isInteger(Number(t)),oB=t=>t.endsWith("%")&&fc(t.slice(0,-1)),$e=t=>Yk.test(t),Zi=t=>tB.test(t),aB=new Set(["length","size","percentage"]),lB=t=>au(t,aB,Zk),cB=t=>au(t,"position",Zk),uB=new Set(["image","url"]),dB=t=>au(t,uB,pB),hB=t=>au(t,"",mB),Uu=()=>!0,au=(t,e,n)=>{const r=Yk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},fB=t=>nB.test(t)&&!rB.test(t),Zk=()=>!1,mB=t=>sB.test(t),pB=t=>iB.test(t),gB=()=>{const t=gt("colors"),e=gt("spacing"),n=gt("blur"),r=gt("brightness"),s=gt("borderColor"),i=gt("borderRadius"),o=gt("borderSpacing"),a=gt("borderWidth"),l=gt("contrast"),u=gt("grayscale"),d=gt("hueRotate"),f=gt("invert"),m=gt("gap"),p=gt("gradientColorStops"),E=gt("gradientColorStopPositions"),v=gt("inset"),y=gt("margin"),_=gt("opacity"),w=gt("padding"),b=gt("saturate"),A=gt("scale"),P=gt("sepia"),M=gt("skew"),C=gt("space"),T=gt("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",$e,e],j=()=>[$e,e],N=()=>["",ii,Yi],z=()=>["auto",fc,$e],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",$e],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[fc,$e];return{cacheSize:500,separator:":",theme:{colors:[Uu],spacing:[ii,Yi],blur:["none","",Zi,$e],brightness:pe(),borderColor:[t],borderRadius:["none","","full",Zi,$e],borderSpacing:j(),borderWidth:N(),contrast:pe(),grayscale:V(),hueRotate:pe(),invert:V(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[oB,Yi],inset:D(),margin:D(),opacity:pe(),padding:j(),saturate:pe(),scale:pe(),sepia:V(),skew:pe(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Zi]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),$e]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fu,$e]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Fu,$e]}],"grid-cols":[{"grid-cols":[Uu]}],"col-start-end":[{col:["auto",{span:["full",Fu,$e]},$e]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Uu]}],"row-start-end":[{row:["auto",{span:[Fu,$e]},$e]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[Zi]},Zi]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zi,Yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vy]}],"font-family":[{font:[Uu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",fc,Vy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ii,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ii,Yi]}],"underline-offset":[{"underline-offset":["auto",ii,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),cB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[ii,$e]}],"outline-w":[{outline:[ii,Yi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ii,Yi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zi,hB]}],"shadow-color":[{shadow:[Uu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zi,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Fu,$e]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ii,Yi,Vy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vB=X9(gB);function le(...t){return vB(Fk(t))}const yB=E9,Xk=g.forwardRef(({className:t,...e},n)=>c.jsx(kk,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Xk.displayName=kk.displayName;const xB=Og("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Jk=g.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(jk,{ref:r,className:le(xB({variant:e}),t),...n}));Jk.displayName=jk.displayName;const wB=g.forwardRef(({className:t,...e},n)=>c.jsx(Ok,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));wB.displayName=Ok.displayName;const ej=g.forwardRef(({className:t,...e},n)=>c.jsx(Vk,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(tl,{className:"h-4 w-4"})}));ej.displayName=Vk.displayName;const tj=g.forwardRef(({className:t,...e},n)=>c.jsx(Dk,{ref:n,className:le("text-sm font-semibold",t),...e}));tj.displayName=Dk.displayName;const nj=g.forwardRef(({className:t,...e},n)=>c.jsx(Mk,{ref:n,className:le("text-sm opacity-90",t),...e}));nj.displayName=Mk.displayName;function _B(){const{toasts:t}=D6();return c.jsxs(yB,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(Jk,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(tj,{children:n}),r&&c.jsx(nj,{children:r})]}),s,c.jsx(ej,{})]},e)}),c.jsx(Xk,{})]})}var z1=["light","dark"],bB="(prefers-color-scheme: dark)",EB=g.createContext(void 0),TB={setTheme:t=>{},themes:[]},SB=()=>{var t;return(t=g.useContext(EB))!=null?t:TB};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?z1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(E,v=!1,y=!0)=>{let _=o?o[E]:E,w=v?E+"|| ''":`'${_}'`,b="";return s&&y&&!v&&z1.includes(E)&&(b+=`d.style.colorScheme = '${E}';`),n==="class"?v||_?b+=`c.add(${w})`:b+="null":_&&(b+=`d[s](n,${w})`),b},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${bB}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var CB=t=>{switch(t){case"success":return RB;case"info":return PB;case"warning":return NB;case"error":return kB;default:return null}},IB=Array(12).fill(0),AB=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},IB.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),RB=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NB=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),PB=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kB=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jB=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DB=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Px=1,MB=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Px++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],K.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(VB(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Px++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yn=new MB,OB=(t,e)=>{let n=(e==null?void 0:e.id)||Px++;return Yn.addToast({title:t,...e,id:n}),n},VB=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",LB=OB,FB=()=>Yn.toasts,UB=()=>Yn.getActiveToasts(),Ce=Object.assign(LB,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:FB,getToasts:UB});function $B(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$B(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gf(t){return t.label!==void 0}var BB=3,zB="32px",WB="16px",W1=4e3,HB=356,KB=14,GB=20,qB=200;function zr(...t){return t.filter(Boolean).join(" ")}function QB(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var YB=t=>{var e,n,r,s,i,o,a,l,u,d,f;let{invert:m,toast:p,unstyled:E,interacting:v,setHeights:y,visibleToasts:_,heights:w,index:b,toasts:A,expanded:P,removeToast:M,defaultRichColors:C,closeButton:T,style:I,cancelButtonStyle:R,actionButtonStyle:D,className:j="",descriptionClassName:N="",duration:z,position:ae,gap:ne,loadingIcon:Q,expandByDefault:$,classNames:V,icons:Z,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:re}=t,[he,te]=K.useState(null),[ve,Ee]=K.useState(null),[L,se]=K.useState(!1),[Ie,we]=K.useState(!1),[xe,Le]=K.useState(!1),[Tt,Pt]=K.useState(!1),[ir,Gn]=K.useState(!1),[Tr,ti]=K.useState(0),[Lr,ga]=K.useState(0),Fr=K.useRef(p.duration||z||W1),O=K.useRef(null),U=K.useRef(null),W=b===0,de=b+1<=_,Y=p.type,q=p.dismissible!==!1,fe=p.className||"",Ge=p.descriptionClassName||"",dt=K.useMemo(()=>w.findIndex(De=>De.toastId===p.id)||0,[w,p.id]),zt=K.useMemo(()=>{var De;return(De=p.closeButton)!=null?De:T},[p.closeButton,T]),ps=K.useMemo(()=>p.duration||z||W1,[p.duration,z]),gs=K.useRef(0),or=K.useRef(0),Wi=K.useRef(0),Ur=K.useRef(null),[wu,Hi]=ae.split("-"),_u=K.useMemo(()=>w.reduce((De,nt,ht)=>ht>=dt?De:De+nt.height,0),[w,dt]),bu=DB(),va=p.invert||m,ya=Y==="loading";or.current=K.useMemo(()=>dt*ne+_u,[dt,_u]),K.useEffect(()=>{Fr.current=ps},[ps]),K.useEffect(()=>{se(!0)},[]),K.useEffect(()=>{let De=U.current;if(De){let nt=De.getBoundingClientRect().height;return ga(nt),y(ht=>[{toastId:p.id,height:nt,position:p.position},...ht]),()=>y(ht=>ht.filter(rn=>rn.toastId!==p.id))}},[y,p.id]),K.useLayoutEffect(()=>{if(!L)return;let De=U.current,nt=De.style.height;De.style.height="auto";let ht=De.getBoundingClientRect().height;De.style.height=nt,ga(ht),y(rn=>rn.find(qn=>qn.toastId===p.id)?rn.map(qn=>qn.toastId===p.id?{...qn,height:ht}:qn):[{toastId:p.id,height:ht,position:p.position},...rn])},[L,p.title,p.description,y,p.id]);let Sr=K.useCallback(()=>{we(!0),ti(or.current),y(De=>De.filter(nt=>nt.toastId!==p.id)),setTimeout(()=>{M(p)},qB)},[p,M,y,or]);K.useEffect(()=>{if(p.promise&&Y==="loading"||p.duration===1/0||p.type==="loading")return;let De;return P||v||re&&bu?(()=>{if(Wi.current<gs.current){let nt=new Date().getTime()-gs.current;Fr.current=Fr.current-nt}Wi.current=new Date().getTime()})():Fr.current!==1/0&&(gs.current=new Date().getTime(),De=setTimeout(()=>{var nt;(nt=p.onAutoClose)==null||nt.call(p,p),Sr()},Fr.current)),()=>clearTimeout(De)},[P,v,p,Y,re,bu,Sr]),K.useEffect(()=>{p.delete&&Sr()},[Sr,p.delete]);function ni(){var De,nt,ht;return Z!=null&&Z.loading?K.createElement("div",{className:zr(V==null?void 0:V.loader,(De=p==null?void 0:p.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":Y==="loading"},Z.loading):Q?K.createElement("div",{className:zr(V==null?void 0:V.loader,(nt=p==null?void 0:p.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":Y==="loading"},Q):K.createElement(AB,{className:zr(V==null?void 0:V.loader,(ht=p==null?void 0:p.classNames)==null?void 0:ht.loader),visible:Y==="loading"})}return K.createElement("li",{tabIndex:0,ref:U,className:zr(j,fe,V==null?void 0:V.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Y],(n=p==null?void 0:p.classNames)==null?void 0:n[Y]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||E),"data-mounted":L,"data-promise":!!p.promise,"data-swiped":ir,"data-removed":Ie,"data-visible":de,"data-y-position":wu,"data-x-position":Hi,"data-index":b,"data-front":W,"data-swiping":xe,"data-dismissible":q,"data-type":Y,"data-invert":va,"data-swipe-out":Tt,"data-swipe-direction":ve,"data-expanded":!!(P||$&&L),style:{"--index":b,"--toasts-before":b,"--z-index":A.length-b,"--offset":`${Ie?Tr:or.current}px`,"--initial-height":$?"auto":`${Lr}px`,...I,...p.style},onDragEnd:()=>{Le(!1),te(null),Ur.current=null},onPointerDown:De=>{ya||!q||(O.current=new Date,ti(or.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(Le(!0),Ur.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,nt,ht,rn;if(Tt||!q)return;Ur.current=null;let qn=Number(((De=U.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wt=Number(((nt=U.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vs=new Date().getTime()-((ht=O.current)==null?void 0:ht.getTime()),sn=he==="x"?qn:wt,Qn=Math.abs(sn)/vs;if(Math.abs(sn)>=GB||Qn>.11){ti(or.current),(rn=p.onDismiss)==null||rn.call(p,p),Ee(he==="x"?qn>0?"right":"left":wt>0?"down":"up"),Sr(),Pt(!0),Gn(!1);return}Le(!1),te(null)},onPointerMove:De=>{var nt,ht,rn,qn;if(!Ur.current||!q||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;let wt=De.clientY-Ur.current.y,vs=De.clientX-Ur.current.x,sn=(ht=t.swipeDirections)!=null?ht:QB(ae);!he&&(Math.abs(vs)>1||Math.abs(wt)>1)&&te(Math.abs(vs)>Math.abs(wt)?"x":"y");let Qn={x:0,y:0};he==="y"?(sn.includes("top")||sn.includes("bottom"))&&(sn.includes("top")&&wt<0||sn.includes("bottom")&&wt>0)&&(Qn.y=wt):he==="x"&&(sn.includes("left")||sn.includes("right"))&&(sn.includes("left")&&vs<0||sn.includes("right")&&vs>0)&&(Qn.x=vs),(Math.abs(Qn.x)>0||Math.abs(Qn.y)>0)&&Gn(!0),(rn=U.current)==null||rn.style.setProperty("--swipe-amount-x",`${Qn.x}px`),(qn=U.current)==null||qn.style.setProperty("--swipe-amount-y",`${Qn.y}px`)}},zt&&!p.jsx?K.createElement("button",{"aria-label":pe,"data-disabled":ya,"data-close-button":!0,onClick:ya||!q?()=>{}:()=>{var De;Sr(),(De=p.onDismiss)==null||De.call(p,p)},className:zr(V==null?void 0:V.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=Z==null?void 0:Z.close)!=null?i:jB):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:K.createElement(K.Fragment,null,Y||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:zr(V==null?void 0:V.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ni():null,p.type!=="loading"?p.icon||(Z==null?void 0:Z[Y])||CB(Y):null):null,K.createElement("div",{"data-content":"",className:zr(V==null?void 0:V.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:zr(V==null?void 0:V.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?K.createElement("div",{"data-description":"",className:zr(N,Ge,V==null?void 0:V.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&Gf(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:De=>{var nt,ht;Gf(p.cancel)&&q&&((ht=(nt=p.cancel).onClick)==null||ht.call(nt,De),Sr())},className:zr(V==null?void 0:V.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&Gf(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:De=>{var nt,ht;Gf(p.action)&&((ht=(nt=p.action).onClick)==null||ht.call(nt,De),!De.defaultPrevented&&Sr())},className:zr(V==null?void 0:V.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function H1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ZB(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?WB:zB;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var rj=g.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:E=BB,toastOptions:v,dir:y=H1(),gap:_=KB,loadingIcon:w,icons:b,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:P}=t,[M,C]=K.useState([]),T=K.useMemo(()=>Array.from(new Set([r].concat(M.filter(re=>re.position).map(re=>re.position)))),[M,r]),[I,R]=K.useState([]),[D,j]=K.useState(!1),[N,z]=K.useState(!1),[ae,ne]=K.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=K.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=K.useRef(null),Z=K.useRef(!1),pe=K.useCallback(re=>{C(he=>{var te;return(te=he.find(ve=>ve.id===re.id))!=null&&te.delete||Yn.dismiss(re.id),he.filter(({id:ve})=>ve!==re.id)})},[]);return K.useEffect(()=>Yn.subscribe(re=>{if(re.dismiss){C(he=>he.map(te=>te.id===re.id?{...te,delete:!0}:te));return}setTimeout(()=>{KP.flushSync(()=>{C(he=>{let te=he.findIndex(ve=>ve.id===re.id);return te!==-1?[...he.slice(0,te),{...he[te],...re},...he.slice(te+1)]:[re,...he]})})})}),[]),K.useEffect(()=>{if(d!=="system"){ne(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:he})=>{ne(he?"dark":"light")})}catch{re.addListener(({matches:te})=>{try{ne(te?"dark":"light")}catch(ve){console.error(ve)}})}},[d]),K.useEffect(()=>{M.length<=1&&j(!1)},[M]),K.useEffect(()=>{let re=he=>{var te,ve;s.every(Ee=>he[Ee]||he.code===Ee)&&(j(!0),(te=Q.current)==null||te.focus()),he.code==="Escape"&&(document.activeElement===Q.current||(ve=Q.current)!=null&&ve.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[s]),K.useEffect(()=>{if(Q.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,Z.current=!1)}},[Q.current]),K.createElement("section",{ref:e,"aria-label":`${A} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((re,he)=>{var te;let[ve,Ee]=re.split("-");return M.length?K.createElement("ol",{key:re,dir:y==="auto"?H1():y,tabIndex:-1,ref:Q,className:a,"data-sonner-toaster":!0,"data-theme":ae,"data-y-position":ve,"data-lifted":D&&M.length>1&&!i,"data-x-position":Ee,style:{"--front-toast-height":`${((te=I[0])==null?void 0:te.height)||0}px`,"--width":`${HB}px`,"--gap":`${_}px`,...p,...ZB(l,u)},onBlur:L=>{Z.current&&!L.currentTarget.contains(L.relatedTarget)&&(Z.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,V.current=L.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{N||j(!1)},onDragEnd:()=>j(!1),onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},M.filter(L=>!L.position&&he===0||L.position===re).map((L,se)=>{var Ie,we;return K.createElement(YB,{key:L.id,icons:b,index:se,toast:L,defaultRichColors:f,duration:(Ie=v==null?void 0:v.duration)!=null?Ie:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:E,closeButton:(we=v==null?void 0:v.closeButton)!=null?we:o,interacting:N,position:re,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:pe,toasts:M.filter(xe=>xe.position==L.position),heights:I.filter(xe=>xe.position==L.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const XB=({...t})=>{const{theme:e="system"}=SB();return c.jsx(rj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var JB=zw[" useId ".trim().toString()]||(()=>{}),ez=0;function os(t){const[e,n]=g.useState(JB());return Kt(()=>{n(r=>r??String(ez++))},[t]),e?`radix-${e}`:""}const tz=["top","right","bottom","left"],$o=Math.min,dr=Math.max,yp=Math.round,qf=Math.floor,Ps=t=>({x:t,y:t}),nz={left:"right",right:"left",bottom:"top",top:"bottom"},rz={start:"end",end:"start"};function kx(t,e,n){return dr(t,$o(e,n))}function ji(t,e){return typeof t=="function"?t(e):t}function Di(t){return t.split("-")[0]}function lu(t){return t.split("-")[1]}function q_(t){return t==="x"?"y":"x"}function Q_(t){return t==="y"?"height":"width"}function Bo(t){return["top","bottom"].includes(Di(t))?"y":"x"}function Y_(t){return q_(Bo(t))}function sz(t,e,n){n===void 0&&(n=!1);const r=lu(t),s=Y_(t),i=Q_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=xp(o)),[o,xp(o)]}function iz(t){const e=xp(t);return[jx(t),e,jx(e)]}function jx(t){return t.replace(/start|end/g,e=>rz[e])}function oz(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function az(t,e,n,r){const s=lu(t);let i=oz(Di(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(jx)))),i}function xp(t){return t.replace(/left|right|bottom|top/g,e=>nz[e])}function lz(t){return{top:0,right:0,bottom:0,left:0,...t}}function sj(t){return typeof t!="number"?lz(t):{top:t,right:t,bottom:t,left:t}}function wp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function K1(t,e,n){let{reference:r,floating:s}=t;const i=Bo(e),o=Y_(e),a=Q_(o),l=Di(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(lu(e)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const cz=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=K1(u,r,l),m=r,p={},E=0;for(let v=0;v<a.length;v++){const{name:y,fn:_}=a[v],{x:w,y:b,data:A,reset:P}=await _({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=b??f,p={...p,[y]:{...p[y],...A}},P&&E<=50&&(E++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:d,y:f}=K1(u,m,l)),v=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Qd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ji(e,t),E=sj(p),y=a[m?f==="floating"?"reference":"floating":f],_=wp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},P=wp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(_.top-P.top+E.top)/A.y,bottom:(P.bottom-_.bottom+E.bottom)/A.y,left:(_.left-P.left+E.left)/A.x,right:(P.right-_.right+E.right)/A.x}}const uz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=ji(t,e)||{};if(u==null)return{};const f=sj(d),m={x:n,y:r},p=Y_(s),E=Q_(p),v=await o.getDimensions(u),y=p==="y",_=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",A=i.reference[E]+i.reference[p]-m[p]-i.floating[E],P=m[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=M?M[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[b]||i.floating[E]);const T=A/2-P/2,I=C/2-v[E]/2-1,R=$o(f[_],I),D=$o(f[w],I),j=R,N=C-v[E]-D,z=C/2-v[E]/2+T,ae=kx(j,z,N),ne=!l.arrow&&lu(s)!=null&&z!==ae&&i.reference[E]/2-(z<j?R:D)-v[E]/2<0,Q=ne?z<j?z-j:z-N:0;return{[p]:m[p]+Q,data:{[p]:ae,centerOffset:z-ae-Q,...ne&&{alignmentOffset:Q}},reset:ne}}}),dz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:v=!0,...y}=ji(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Di(s),w=Bo(a),b=Di(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=m||(b||!v?[xp(a)]:iz(a)),M=E!=="none";!m&&M&&P.push(...az(a,v,E,A));const C=[a,...P],T=await Qd(e,y),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(T[_]),f){const z=sz(s,o,A);I.push(T[z[0]],T[z[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(z=>z<=0)){var D,j;const z=(((D=i.flip)==null?void 0:D.index)||0)+1,ae=C[z];if(ae)return{data:{index:z,overflows:R},reset:{placement:ae}};let ne=(j=R.filter(Q=>Q.overflows[0]<=0).sort((Q,$)=>Q.overflows[1]-$.overflows[1])[0])==null?void 0:j.placement;if(!ne)switch(p){case"bestFit":{var N;const Q=(N=R.filter($=>{if(M){const V=Bo($.placement);return V===w||V==="y"}return!0}).map($=>[$.placement,$.overflows.filter(V=>V>0).reduce((V,Z)=>V+Z,0)]).sort(($,V)=>$[1]-V[1])[0])==null?void 0:N[0];Q&&(ne=Q);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function G1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function q1(t){return tz.some(e=>t[e]>=0)}const hz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ji(t,e);switch(r){case"referenceHidden":{const i=await Qd(e,{...s,elementContext:"reference"}),o=G1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:q1(o)}}}case"escaped":{const i=await Qd(e,{...s,altBoundary:!0}),o=G1(i,n.floating);return{data:{escapedOffsets:o,escaped:q1(o)}}}default:return{}}}}};async function fz(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Di(n),a=lu(n),l=Bo(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=ji(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof E=="number"&&(p=a==="end"?E*-1:E),l?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const mz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await fz(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},pz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:_,y:w}=y;return{x:_,y:w}}},...l}=ji(t,e),u={x:n,y:r},d=await Qd(e,l),f=Bo(Di(s)),m=q_(f);let p=u[m],E=u[f];if(i){const y=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=p+d[y],b=p-d[_];p=kx(w,p,b)}if(o){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=E+d[y],b=E-d[_];E=kx(w,E,b)}const v=a.fn({...e,[m]:p,[f]:E});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},gz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ji(t,e),d={x:n,y:r},f=Bo(s),m=q_(f);let p=d[m],E=d[f];const v=ji(a,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=m==="y"?"height":"width",A=i.reference[m]-i.floating[b]+y.mainAxis,P=i.reference[m]+i.reference[b]-y.mainAxis;p<A?p=A:p>P&&(p=P)}if(u){var _,w;const b=m==="y"?"width":"height",A=["top","left"].includes(Di(s)),P=i.reference[f]-i.floating[b]+(A&&((_=o.offset)==null?void 0:_[f])||0)+(A?0:y.crossAxis),M=i.reference[f]+i.reference[b]+(A?0:((w=o.offset)==null?void 0:w[f])||0)-(A?y.crossAxis:0);E<P?E=P:E>M&&(E=M)}return{[m]:p,[f]:E}}}},vz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ji(t,e),d=await Qd(e,u),f=Di(s),m=lu(s),p=Bo(s)==="y",{width:E,height:v}=i.floating;let y,_;f==="top"||f==="bottom"?(y=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,y=m==="end"?"top":"bottom");const w=v-d.top-d.bottom,b=E-d.left-d.right,A=$o(v-d[y],w),P=$o(E-d[_],b),M=!e.middlewareData.shift;let C=A,T=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=w),M&&!m){const R=dr(d.left,0),D=dr(d.right,0),j=dr(d.top,0),N=dr(d.bottom,0);p?T=E-2*(R!==0||D!==0?R+D:dr(d.left,d.right)):C=v-2*(j!==0||N!==0?j+N:dr(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const I=await o.getDimensions(a.floating);return E!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Lg(){return typeof window<"u"}function cu(t){return ij(t)?(t.nodeName||"").toLowerCase():"#document"}function vr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ys(t){var e;return(e=(ij(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ij(t){return Lg()?t instanceof Node||t instanceof vr(t).Node:!1}function cs(t){return Lg()?t instanceof Element||t instanceof vr(t).Element:!1}function $s(t){return Lg()?t instanceof HTMLElement||t instanceof vr(t).HTMLElement:!1}function Q1(t){return!Lg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vr(t).ShadowRoot}function Fh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=us(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function yz(t){return["table","td","th"].includes(cu(t))}function Fg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Z_(t){const e=X_(),n=cs(t)?us(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xz(t){let e=zo(t);for(;$s(e)&&!Fc(e);){if(Z_(e))return e;if(Fg(e))return null;e=zo(e)}return null}function X_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fc(t){return["html","body","#document"].includes(cu(t))}function us(t){return vr(t).getComputedStyle(t)}function Ug(t){return cs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zo(t){if(cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q1(t)&&t.host||Ys(t);return Q1(e)?e.host:e}function oj(t){const e=zo(t);return Fc(e)?t.ownerDocument?t.ownerDocument.body:t.body:$s(e)&&Fh(e)?e:oj(e)}function Yd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=vr(s);if(i){const a=Dx(o);return e.concat(o,o.visualViewport||[],Fh(s)?s:[],a&&n?Yd(a):[])}return e.concat(s,Yd(s,[],n))}function Dx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aj(t){const e=us(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=$s(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=yp(n)!==i||yp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function J_(t){return cs(t)?t:t.contextElement}function mc(t){const e=J_(t);if(!$s(e))return Ps(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aj(e);let o=(i?yp(n.width):n.width)/r,a=(i?yp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const wz=Ps(0);function lj(t){const e=vr(t);return!X_()||!e.visualViewport?wz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _z(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vr(t)?!1:e}function nl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=J_(t);let o=Ps(1);e&&(r?cs(r)&&(o=mc(r)):o=mc(t));const a=_z(i,n,r)?lj(i):Ps(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=vr(i),p=r&&cs(r)?vr(r):r;let E=m,v=Dx(E);for(;v&&r&&p!==E;){const y=mc(v),_=v.getBoundingClientRect(),w=us(v),b=_.left+(v.clientLeft+parseFloat(w.paddingLeft))*y.x,A=_.top+(v.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,f*=y.y,l+=b,u+=A,E=vr(v),v=Dx(E)}}return wp({width:d,height:f,x:l,y:u})}function eb(t,e){const n=Ug(t).scrollLeft;return e?e.left+n:nl(Ys(t)).left+n}function cj(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:eb(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function bz(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ys(r),a=e?Fg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Ps(1);const d=Ps(0),f=$s(r);if((f||!f&&!i)&&((cu(r)!=="body"||Fh(o))&&(l=Ug(r)),$s(r))){const p=nl(r);u=mc(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!i?cj(o,l,!0):Ps(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function Ez(t){return Array.from(t.getClientRects())}function Tz(t){const e=Ys(t),n=Ug(t),r=t.ownerDocument.body,s=dr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=dr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+eb(t);const a=-n.scrollTop;return us(r).direction==="rtl"&&(o+=dr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Sz(t,e){const n=vr(t),r=Ys(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=X_();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function Cz(t,e){const n=nl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=$s(t)?mc(t):Ps(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Y1(t,e,n){let r;if(e==="viewport")r=Sz(t,n);else if(e==="document")r=Tz(Ys(t));else if(cs(e))r=Cz(e,n);else{const s=lj(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return wp(r)}function uj(t,e){const n=zo(t);return n===e||!cs(n)||Fc(n)?!1:us(n).position==="fixed"||uj(n,e)}function Iz(t,e){const n=e.get(t);if(n)return n;let r=Yd(t,[],!1).filter(a=>cs(a)&&cu(a)!=="body"),s=null;const i=us(t).position==="fixed";let o=i?zo(t):t;for(;cs(o)&&!Fc(o);){const a=us(o),l=Z_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fh(o)&&!l&&uj(t,o))?r=r.filter(d=>d!==o):s=a,o=zo(o)}return e.set(t,r),r}function Az(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Fg(e)?[]:Iz(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=Y1(e,d,s);return u.top=dr(f.top,u.top),u.right=$o(f.right,u.right),u.bottom=$o(f.bottom,u.bottom),u.left=dr(f.left,u.left),u},Y1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Rz(t){const{width:e,height:n}=aj(t);return{width:e,height:n}}function Nz(t,e,n){const r=$s(e),s=Ys(e),i=n==="fixed",o=nl(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ps(0);if(r||!r&&!i)if((cu(e)!=="body"||Fh(s))&&(a=Ug(e)),r){const m=nl(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=eb(s));const u=s&&!r&&!i?cj(s,a):Ps(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Ly(t){return us(t).position==="static"}function Z1(t,e){if(!$s(t)||us(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ys(t)===n&&(n=n.ownerDocument.body),n}function dj(t,e){const n=vr(t);if(Fg(t))return n;if(!$s(t)){let s=zo(t);for(;s&&!Fc(s);){if(cs(s)&&!Ly(s))return s;s=zo(s)}return n}let r=Z1(t,e);for(;r&&yz(r)&&Ly(r);)r=Z1(r,e);return r&&Fc(r)&&Ly(r)&&!Z_(r)?n:r||xz(t)||n}const Pz=async function(t){const e=this.getOffsetParent||dj,n=this.getDimensions,r=await n(t.floating);return{reference:Nz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kz(t){return us(t).direction==="rtl"}const jz={convertOffsetParentRelativeRectToViewportRelativeRect:bz,getDocumentElement:Ys,getClippingRect:Az,getOffsetParent:dj,getElementRects:Pz,getClientRects:Ez,getDimensions:Rz,getScale:mc,isElement:cs,isRTL:kz};function hj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Dz(t,e){let n=null,r;const s=Ys(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(a||e(),!m||!p)return;const E=qf(f),v=qf(s.clientWidth-(d+m)),y=qf(s.clientHeight-(f+p)),_=qf(d),b={rootMargin:-E+"px "+-v+"px "+-y+"px "+-_+"px",threshold:dr(0,$o(1,l))||1};let A=!0;function P(M){const C=M[0].intersectionRatio;if(C!==l){if(!A)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!hj(u,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(P,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,b)}n.observe(t)}return o(!0),i}function Mz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=J_(t),d=s||i?[...u?Yd(u):[],...Yd(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=u&&a?Dz(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(_=>{let[w]=_;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let E,v=l?nl(t):null;l&&y();function y(){const _=nl(t);v&&!hj(v,_)&&n(),v=_,E=requestAnimationFrame(y)}return n(),()=>{var _;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(E)}}const Oz=mz,Vz=pz,Lz=dz,Fz=vz,Uz=hz,X1=uz,$z=gz,Bz=(t,e,n)=>{const r=new Map,s={platform:jz,...n},i={...s.platform,_c:r};return cz(t,e,{...s,platform:i})};var bm=typeof document<"u"?g.useLayoutEffect:g.useEffect;function _p(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_p(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_p(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function fj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function J1(t,e){const n=fj(t);return Math.round(e*n)/n}function Fy(t){const e=g.useRef(t);return bm(()=>{e.current=t}),e}function zz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(r);_p(m,r)||p(r);const[E,v]=g.useState(null),[y,_]=g.useState(null),w=g.useCallback($=>{$!==M.current&&(M.current=$,v($))},[]),b=g.useCallback($=>{$!==C.current&&(C.current=$,_($))},[]),A=i||E,P=o||y,M=g.useRef(null),C=g.useRef(null),T=g.useRef(d),I=l!=null,R=Fy(l),D=Fy(s),j=Fy(u),N=g.useCallback(()=>{if(!M.current||!C.current)return;const $={placement:e,strategy:n,middleware:m};D.current&&($.platform=D.current),Bz(M.current,C.current,$).then(V=>{const Z={...V,isPositioned:j.current!==!1};z.current&&!_p(T.current,Z)&&(T.current=Z,yl.flushSync(()=>{f(Z)}))})},[m,e,n,D,j]);bm(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const z=g.useRef(!1);bm(()=>(z.current=!0,()=>{z.current=!1}),[]),bm(()=>{if(A&&(M.current=A),P&&(C.current=P),A&&P){if(R.current)return R.current(A,P,N);N()}},[A,P,N,R,I]);const ae=g.useMemo(()=>({reference:M,floating:C,setReference:w,setFloating:b}),[w,b]),ne=g.useMemo(()=>({reference:A,floating:P}),[A,P]),Q=g.useMemo(()=>{const $={position:n,left:0,top:0};if(!ne.floating)return $;const V=J1(ne.floating,d.x),Z=J1(ne.floating,d.y);return a?{...$,transform:"translate("+V+"px, "+Z+"px)",...fj(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Z}},[n,a,ne.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:N,refs:ae,elements:ne,floatingStyles:Q}),[d,N,ae,ne,Q])}const Wz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?X1({element:r.current,padding:s}).fn(n):{}:r?X1({element:r,padding:s}).fn(n):{}}}},Hz=(t,e)=>({...Oz(t),options:[t,e]}),Kz=(t,e)=>({...Vz(t),options:[t,e]}),Gz=(t,e)=>({...$z(t),options:[t,e]}),qz=(t,e)=>({...Lz(t),options:[t,e]}),Qz=(t,e)=>({...Fz(t),options:[t,e]}),Yz=(t,e)=>({...Uz(t),options:[t,e]}),Zz=(t,e)=>({...Wz(t),options:[t,e]});var Xz="Arrow",mj=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(Se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});mj.displayName=Xz;var Jz=mj;function tb(t){const[e,n]=g.useState(void 0);return Kt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var nb="Popper",[pj,uu]=jn(nb),[e8,gj]=pj(nb),vj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return c.jsx(e8,{scope:e,anchor:r,onAnchorChange:s,children:n})};vj.displayName=nb;var yj="PopperAnchor",xj=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=gj(yj,n),o=g.useRef(null),a=Ke(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(Se.div,{...s,ref:a})});xj.displayName=yj;var rb="PopperContent",[t8,n8]=pj(rb),wj=g.forwardRef((t,e)=>{var L,se,Ie,we,xe,Le;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:E,...v}=t,y=gj(rb,n),[_,w]=g.useState(null),b=Ke(e,Tt=>w(Tt)),[A,P]=g.useState(null),M=tb(A),C=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],j=D.length>0,N={padding:R,boundary:D.filter(s8),altBoundary:j},{refs:z,floatingStyles:ae,placement:ne,isPositioned:Q,middlewareData:$}=zz({strategy:"fixed",placement:I,whileElementsMounted:(...Tt)=>Mz(...Tt,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[Hz({mainAxis:s+T,alignmentAxis:o}),l&&Kz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Gz():void 0,...N}),l&&qz({...N}),Qz({...N,apply:({elements:Tt,rects:Pt,availableWidth:ir,availableHeight:Gn})=>{const{width:Tr,height:ti}=Pt.reference,Lr=Tt.floating.style;Lr.setProperty("--radix-popper-available-width",`${ir}px`),Lr.setProperty("--radix-popper-available-height",`${Gn}px`),Lr.setProperty("--radix-popper-anchor-width",`${Tr}px`),Lr.setProperty("--radix-popper-anchor-height",`${ti}px`)}}),A&&Zz({element:A,padding:a}),i8({arrowWidth:C,arrowHeight:T}),m&&Yz({strategy:"referenceHidden",...N})]}),[V,Z]=Ej(ne),pe=Bn(E);Kt(()=>{Q&&(pe==null||pe())},[Q,pe]);const re=(L=$.arrow)==null?void 0:L.x,he=(se=$.arrow)==null?void 0:se.y,te=((Ie=$.arrow)==null?void 0:Ie.centerOffset)!==0,[ve,Ee]=g.useState();return Kt(()=>{_&&Ee(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:Q?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(we=$.transformOrigin)==null?void 0:we.x,(xe=$.transformOrigin)==null?void 0:xe.y].join(" "),...((Le=$.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(t8,{scope:n,placedSide:V,onArrowChange:P,arrowX:re,arrowY:he,shouldHideArrow:te,children:c.jsx(Se.div,{"data-side":V,"data-align":Z,...v,ref:b,style:{...v.style,animation:Q?void 0:"none"}})})})});wj.displayName=rb;var _j="PopperArrow",r8={top:"bottom",right:"left",bottom:"top",left:"right"},bj=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=n8(_j,r),o=r8[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(Jz,{...s,ref:n,style:{...s.style,display:"block"}})})});bj.displayName=_j;function s8(t){return t!==null}var i8=t=>({name:"transformOrigin",options:t,fn(e){var y,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=Ej(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let E="",v="";return u==="bottom"?(E=o?f:`${m}px`,v=`${-l}px`):u==="top"?(E=o?f:`${m}px`,v=`${r.floating.height+l}px`):u==="right"?(E=`${-l}px`,v=o?f:`${p}px`):u==="left"&&(E=`${r.floating.width+l}px`,v=o?f:`${p}px`),{data:{x:E,y:v}}}});function Ej(t){const[e,n="center"]=t.split("-");return[e,n]}var sb=vj,ib=xj,ob=wj,ab=bj,[$g,hae]=jn("Tooltip",[uu]),Bg=uu(),Tj="TooltipProvider",o8=700,Mx="tooltip.open",[a8,lb]=$g(Tj),Sj=t=>{const{__scopeTooltip:e,delayDuration:n=o8,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(a8,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};Sj.displayName=Tj;var Zd="Tooltip",[l8,zg]=$g(Zd),Cj=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=lb(Zd,t.__scopeTooltip),u=Bg(e),[d,f]=g.useState(null),m=os(),p=g.useRef(0),E=o??l.disableHoverableContent,v=a??l.delayDuration,y=g.useRef(!1),[_,w]=Us({prop:r,defaultProp:s??!1,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Mx))):l.onClose(),i==null||i(C)},caller:Zd}),b=g.useMemo(()=>_?y.current?"delayed-open":"instant-open":"closed",[_]),A=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,w(!0)},[w]),P=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),M=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,w(!0),p.current=0},v)},[v,w]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),c.jsx(sb,{...u,children:c.jsx(l8,{scope:e,contentId:m,open:_,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayedRef.current?M():A()},[l.isOpenDelayedRef,M,A]),onTriggerLeave:g.useCallback(()=>{E?P():(window.clearTimeout(p.current),p.current=0)},[P,E]),onOpen:A,onClose:P,disableHoverableContent:E,children:n})})};Cj.displayName=Zd;var Ox="TooltipTrigger",Ij=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=zg(Ox,n),i=lb(Ox,n),o=Bg(n),a=g.useRef(null),l=Ke(e,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(ib,{asChild:!0,...o,children:c.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:oe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:oe(t.onBlur,s.onClose),onClick:oe(t.onClick,s.onClose)})})});Ij.displayName=Ox;var c8="TooltipPortal",[fae,u8]=$g(c8,{forceMount:void 0}),Uc="TooltipContent",Aj=g.forwardRef((t,e)=>{const n=u8(Uc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=zg(Uc,t.__scopeTooltip);return c.jsx(Vr,{present:r||o.open,children:o.disableHoverableContent?c.jsx(Rj,{side:s,...i,ref:e}):c.jsx(d8,{side:s,...i,ref:e})})}),d8=g.forwardRef((t,e)=>{const n=zg(Uc,t.__scopeTooltip),r=lb(Uc,t.__scopeTooltip),s=g.useRef(null),i=Ke(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=g.useCallback(()=>{a(null),f(!1)},[f]),p=g.useCallback((E,v)=>{const y=E.currentTarget,_={x:E.clientX,y:E.clientY},w=g8(_,y.getBoundingClientRect()),b=v8(_,w),A=y8(v.getBoundingClientRect()),P=w8([...b,...A]);a(P),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(l&&d){const E=y=>p(y,d),v=y=>p(y,l);return l.addEventListener("pointerleave",E),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",v)}}},[l,d,p,m]),g.useEffect(()=>{if(o){const E=v=>{const y=v.target,_={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),b=!x8(_,o);w?m():b&&(m(),u())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,d,o,u,m]),c.jsx(Rj,{...t,ref:i})}),[h8,f8]=$g(Zd,{isInside:!1}),m8=mk("TooltipContent"),Rj=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=zg(Uc,n),u=Bg(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(Mx,d),()=>document.removeEventListener(Mx,d)),[d]),g.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(ou,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(ob,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(m8,{children:r}),c.jsx(h8,{scope:n,isInside:!0,children:c.jsx(i9,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Aj.displayName=Uc;var Nj="TooltipArrow",p8=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bg(n);return f8(Nj,n).isInside?null:c.jsx(ab,{...s,...r,ref:e})});p8.displayName=Nj;function g8(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function v8(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function y8(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function x8(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function w8(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_8(e)}function _8(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var b8=Sj,E8=Cj,T8=Ij,Pj=Aj;const kj=b8,S8=E8,C8=T8,jj=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(Pj,{ref:r,sideOffset:e,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));jj.displayName=Pj.displayName;const cb=Og("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Be=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?hk:"button";return c.jsx(o,{className:le(cb({variant:e,size:n,className:t})),ref:i,...s})});Be.displayName="Button";var Dj={exports:{}},Mj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=g;function I8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var A8=typeof Object.is=="function"?Object.is:I8,R8=$c.useState,N8=$c.useEffect,P8=$c.useLayoutEffect,k8=$c.useDebugValue;function j8(t,e){var n=e(),r=R8({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return P8(function(){s.value=n,s.getSnapshot=e,Uy(s)&&i({inst:s})},[t,n,e]),N8(function(){return Uy(s)&&i({inst:s}),t(function(){Uy(s)&&i({inst:s})})},[t]),k8(n),n}function Uy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!A8(t,n)}catch{return!0}}function D8(t,e){return e()}var M8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?D8:j8;Mj.useSyncExternalStore=$c.useSyncExternalStore!==void 0?$c.useSyncExternalStore:M8;Dj.exports=Mj;var O8=Dj.exports;function V8(){return O8.useSyncExternalStore(L8,()=>!0,()=>!1)}function L8(){return()=>{}}var ub="Avatar",[F8,mae]=jn(ub),[U8,Oj]=F8(ub),Vj=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return c.jsx(U8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(Se.span,{...r,ref:e})})});Vj.displayName=ub;var Lj="AvatarImage",Fj=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=Oj(Lj,n),a=$8(r,i),l=Bn(u=>{s(u),o.onImageLoadingStatusChange(u)});return Kt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(Se.img,{...i,ref:e,src:r}):null});Fj.displayName=Lj;var Uj="AvatarFallback",$j=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=Oj(Uj,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(Se.span,{...s,ref:e}):null});$j.displayName=Uj;function eC(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $8(t,{referrerPolicy:e,crossOrigin:n}){const r=V8(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=g.useState(()=>eC(i,t));return Kt(()=>{a(eC(i,t))},[i,t]),Kt(()=>{const l=f=>()=>{a(f)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),o}var Bj=Vj,zj=Fj,Wj=$j;const Bs=g.forwardRef(({className:t,...e},n)=>c.jsx(Bj,{ref:n,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bs.displayName=Bj.displayName;const zs=g.forwardRef(({className:t,...e},n)=>c.jsx(zj,{ref:n,className:le("aspect-square h-full w-full",t),...e}));zs.displayName=zj.displayName;const Ws=g.forwardRef(({className:t,...e},n)=>c.jsx(Wj,{ref:n,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ws.displayName=Wj.displayName;const B8=()=>{};var tC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},z8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Kj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new W8;const m=i<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H8=function(t){const e=Hj(t);return Kj.encodeByteArray(e,!0)},bp=function(t){return H8(t).replace(/\./g,"")},Gj=function(t){try{return Kj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=()=>K8().__FIREBASE_DEFAULTS__,q8=()=>{if(typeof process>"u"||typeof tC>"u")return;const t=tC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gj(t[1]);return e&&JSON.parse(e)},Wg=()=>{try{return B8()||G8()||q8()||Q8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qj=t=>{var e,n;return(n=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qj=t=>{const e=qj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yj=()=>{var t;return(t=Wg())===null||t===void 0?void 0:t.config},Zj=t=>{var e;return(e=Wg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bp(JSON.stringify(n)),bp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function X8(){var t;const e=(t=Wg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n7(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r7(){return!X8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s7(){try{return typeof indexedDB=="object"}catch{return!1}}function i7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="FirebaseError";class Zs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o7,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uh.prototype.create)}}class Uh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?a7(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Zs(s,a,r)}}function a7(t,e){return t.replace(l7,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const l7=/\{\$([^}]+)}/g;function c7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(nC(i)&&nC(o)){if(!rl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function nC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u7(t,e){const n=new d7(t,e);return n.subscribe.bind(n)}class d7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h7(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=$y),s.error===void 0&&(s.error=$y),s.complete===void 0&&(s.complete=$y);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $y(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class Wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p7(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m7(t){return t===Ca?void 0:t}function p7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const v7={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},y7=Qe.INFO,x7={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},w7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=x7[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class db{constructor(e){this.name=e,this._logLevel=y7,this._logHandler=w7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const _7=(t,e)=>e.some(n=>t instanceof n);let rC,sC;function b7(){return rC||(rC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E7(){return sC||(sC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jj=new WeakMap,Vx=new WeakMap,e2=new WeakMap,By=new WeakMap,hb=new WeakMap;function T7(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(jo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Jj.set(n,t)}).catch(()=>{}),hb.set(e,t),e}function S7(t){if(Vx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vx.set(t,e)}let Lx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C7(t){Lx=t(Lx)}function I7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zy(this),e,...n);return e2.set(r,e.sort?e.sort():[e]),jo(r)}:E7().includes(t)?function(...e){return t.apply(zy(this),e),jo(Jj.get(this))}:function(...e){return jo(t.apply(zy(this),e))}}function A7(t){return typeof t=="function"?I7(t):(t instanceof IDBTransaction&&S7(t),_7(t,b7())?new Proxy(t,Lx):t)}function jo(t){if(t instanceof IDBRequest)return T7(t);if(By.has(t))return By.get(t);const e=A7(t);return e!==t&&(By.set(t,e),hb.set(e,t)),e}const zy=t=>hb.get(t);function R7(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=jo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(jo(o.result),l.oldVersion,l.newVersion,jo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const N7=["get","getKey","getAll","getAllKeys","count"],P7=["put","add","delete","clear"],Wy=new Map;function iC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wy.get(e))return Wy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=P7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||N7.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Wy.set(e,i),i}C7(t=>({...t,get:(e,n,r)=>iC(e,n)||t.get(e,n,r),has:(e,n)=>!!iC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fx="@firebase/app",oC="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new db("@firebase/app"),D7="@firebase/app-compat",M7="@firebase/analytics-compat",O7="@firebase/analytics",V7="@firebase/app-check-compat",L7="@firebase/app-check",F7="@firebase/auth",U7="@firebase/auth-compat",$7="@firebase/database",B7="@firebase/data-connect",z7="@firebase/database-compat",W7="@firebase/functions",H7="@firebase/functions-compat",K7="@firebase/installations",G7="@firebase/installations-compat",q7="@firebase/messaging",Q7="@firebase/messaging-compat",Y7="@firebase/performance",Z7="@firebase/performance-compat",X7="@firebase/remote-config",J7="@firebase/remote-config-compat",eW="@firebase/storage",tW="@firebase/storage-compat",nW="@firebase/firestore",rW="@firebase/vertexai",sW="@firebase/firestore-compat",iW="firebase",oW="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="[DEFAULT]",aW={[Fx]:"fire-core",[D7]:"fire-core-compat",[O7]:"fire-analytics",[M7]:"fire-analytics-compat",[L7]:"fire-app-check",[V7]:"fire-app-check-compat",[F7]:"fire-auth",[U7]:"fire-auth-compat",[$7]:"fire-rtdb",[B7]:"fire-data-connect",[z7]:"fire-rtdb-compat",[W7]:"fire-fn",[H7]:"fire-fn-compat",[K7]:"fire-iid",[G7]:"fire-iid-compat",[q7]:"fire-fcm",[Q7]:"fire-fcm-compat",[Y7]:"fire-perf",[Z7]:"fire-perf-compat",[X7]:"fire-rc",[J7]:"fire-rc-compat",[eW]:"fire-gcs",[tW]:"fire-gcs-compat",[nW]:"fire-fst",[sW]:"fire-fst-compat",[rW]:"fire-vertex","fire-js":"fire-js",[iW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Map,$x=new Map,Bx=new Map;function aC(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function il(t){const e=t.name;if(Bx.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Bx.set(e,t);for(const n of sl.values())aC(n,t);for(const n of $x.values())aC(n,t);return!0}function Hg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new Uh("app","Firebase",lW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=oW;function fb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ux,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Do.create("bad-app-name",{appName:String(s)});if(n||(n=Yj()),!n)throw Do.create("no-options");const i=sl.get(s);if(i){if(rl(n,i.options)&&rl(r,i.config))return i;throw Do.create("duplicate-app",{appName:s})}const o=new g7(s);for(const l of Bx.values())o.addComponent(l);const a=new cW(n,r,o);return sl.set(s,a),a}function Bh(t=Ux){const e=sl.get(t);if(!e&&t===Ux&&Yj())return fb();if(!e)throw Do.create("no-app",{appName:t});return e}function uW(){return Array.from(sl.values())}async function dW(t){let e=!1;const n=t.name;sl.has(n)?(e=!0,sl.delete(n)):$x.has(n)&&t.decRefCount()<=0&&($x.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function ks(t,e,n){var r;let s=(r=aW[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(a.join(" "));return}il(new Wo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW="firebase-heartbeat-database",fW=1,Xd="firebase-heartbeat-store";let Hy=null;function t2(){return Hy||(Hy=R7(hW,fW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),Hy}async function mW(t){try{const n=(await t2()).transaction(Xd),r=await n.objectStore(Xd).get(n2(t));return await n.done,r}catch(e){if(e instanceof Zs)Mi.warn(e.message);else{const n=Do.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function lC(t,e){try{const r=(await t2()).transaction(Xd,"readwrite");await r.objectStore(Xd).put(e,n2(t)),await r.done}catch(n){if(n instanceof Zs)Mi.warn(n.message);else{const r=Do.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function n2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=1024,gW=30;class vW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>gW){const o=wW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cC(),{heartbeatsToSend:r,unsentEntries:s}=yW(this._heartbeatsCache.heartbeats),i=bp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mi.warn(n),""}}}function cC(){return new Date().toISOString().substring(0,10)}function yW(t,e=pW){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),uC(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),uC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s7()?i7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function uC(t){return bp(JSON.stringify({version:2,heartbeats:t})).length}function wW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t){il(new Wo("platform-logger",e=>new k7(e),"PRIVATE")),il(new Wo("heartbeat",e=>new vW(e),"PRIVATE")),ks(Fx,oC,t),ks(Fx,oC,"esm2017"),ks("fire-js","")}_W("");var Is=function(){return Is=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Is.apply(this,arguments)};function zh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bW(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function r2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EW=r2,s2=new Uh("auth","Firebase",r2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new db("@firebase/auth");function TW(t,...e){Ep.logLevel<=Qe.WARN&&Ep.warn(`Auth (${xl}): ${t}`,...e)}function Em(t,...e){Ep.logLevel<=Qe.ERROR&&Ep.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,...e){throw mb(t,...e)}function js(t,...e){return mb(t,...e)}function i2(t,e,n){const r=Object.assign(Object.assign({},EW()),{[e]:n});return new Uh("auth","Firebase",r).create(e,{appName:t.name})}function Ti(t){return i2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s2.create(t,...e)}function Ne(t,e,...n){if(!t)throw mb(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Em(e),new Error(e)}function Oi(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SW(){return dC()==="http:"||dC()==="https:"}function dC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SW()||e7()||"connection"in navigator)?navigator.onLine:!0}function IW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=Z8()||t7()}get(){return CW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NW=new Wh(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Js(t,e,n,r,s={}){return a2(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=$h(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return J8()||(u.referrerPolicy="no-referrer"),o2.fetch()(await l2(t,t.config.apiHost,n,a),u)})}async function a2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AW),e);try{const s=new kW(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Qf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qf(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw i2(t,d,u);ds(t,d)}}catch(s){if(s instanceof Zs)throw s;ds(t,"network-request-failed",{message:String(s)})}}async function Hh(t,e,n,r,s={}){const i=await Js(t,e,n,r,s);return"mfaPendingCredential"in i&&ds(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function l2(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?pb(t.config,s):`${t.config.apiScheme}://${s}`;return RW.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function PW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),NW.get())})}}function Qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=js(t,e,r);return s.customData._tokenResponse=n,s}function hC(t){return t!==void 0&&t.enterprise!==void 0}class jW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DW(t,e){return Js(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(t,e){return Js(t,"POST","/v1/accounts:delete",e)}async function Tp(t,e){return Js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OW(t,e=!1){const n=Gt(t),r=await n.getIdToken(e),s=gb(r);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:gd(Ky(s.auth_time)),issuedAtTime:gd(Ky(s.iat)),expirationTime:gd(Ky(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ky(t){return Number(t)*1e3}function gb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Em("JWT malformed, contained fewer than 3 sections"),null;try{const s=Gj(n);return s?JSON.parse(s):(Em("Failed to decode base64 JWT payload"),null)}catch(s){return Em("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fC(t){const e=gb(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zs&&VW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gd(this.lastLoginAt),this.creationTime=gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Jd(t,Tp(n,{idToken:r}));Ne(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?c2(i.providerUserInfo):[],a=UW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Wx(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function FW(t){const e=Gt(t);await Sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UW(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function c2(t){return t.map(e=>{var{providerId:n}=e,r=zh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $W(t,e){const n=await a2(t,{},async()=>{const r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await l2(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",o2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BW(t,e){return Js(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=fC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $W(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new pc;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ne(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=zh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Jd(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OW(this,e)}reload(){return FW(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await Jd(this,MW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:A,isAnonymous:P,providerData:M,stsTokenManager:C}=n;Ne(b&&C,e,"internal-error");const T=pc.fromJSON(this.name,C);Ne(typeof b=="string",e,"internal-error"),Xi(f,e.name),Xi(m,e.name),Ne(typeof A=="boolean",e,"internal-error"),Ne(typeof P=="boolean",e,"internal-error"),Xi(p,e.name),Xi(E,e.name),Xi(v,e.name),Xi(y,e.name),Xi(_,e.name),Xi(w,e.name);const I=new ts({uid:b,auth:e,email:m,emailVerified:A,displayName:f,isAnonymous:P,photoURL:E,phoneNumber:p,tenantId:v,stsTokenManager:T,createdAt:_,lastLoginAt:w});return M&&Array.isArray(M)&&(I.providerData=M.map(R=>Object.assign({},R))),y&&(I._redirectEventId=y),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new pc;s.updateFromServerResponse(n);const i=new ts({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?c2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new pc;a.updateFromIdToken(r);const l=new ts({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Wx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Map;function wi(t){Oi(t instanceof Function,"Expected a class definition");let e=mC.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u2.type="NONE";const pC=u2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e,n){return`firebase:${t}:${e}:${n}`}class gc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Tm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Tm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tp(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gc(wi(pC),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||wi(pC);const o=Tm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const m=await Tp(e,{idToken:d}).catch(()=>{});if(!m)break;f=await ts._fromGetAccountInfoResponse(e,m,d)}else f=ts._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new gc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new gc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g2(e))return"Blackberry";if(v2(e))return"Webos";if(h2(e))return"Safari";if((e.includes("chrome/")||f2(e))&&!e.includes("edge/"))return"Chrome";if(p2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function d2(t=Pn()){return/firefox\//i.test(t)}function h2(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f2(t=Pn()){return/crios\//i.test(t)}function m2(t=Pn()){return/iemobile/i.test(t)}function p2(t=Pn()){return/android/i.test(t)}function g2(t=Pn()){return/blackberry/i.test(t)}function v2(t=Pn()){return/webos/i.test(t)}function vb(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zW(t=Pn()){var e;return vb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WW(){return n7()&&document.documentMode===10}function y2(t=Pn()){return vb(t)||p2(t)||v2(t)||g2(t)||/windows phone/i.test(t)||m2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e=[]){let n;switch(t){case"Browser":n=gC(Pn());break;case"Worker":n=`${gC(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(t,e={}){return Js(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=6;class qW{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:GW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vC(this),this.idTokenSubscription=new vC(this),this.beforeStateQueue=new HW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await gc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tp(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Ti(this));const n=e?Gt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KW(this),n=new qW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await gc.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(t){return Gt(t)}class vC{constructor(e){this.auth=e,this.observer=null,this.addObserver=u7(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YW(t){Kg=t}function w2(t){return Kg.loadJS(t)}function ZW(){return Kg.recaptchaEnterpriseScript}function XW(){return Kg.gapiScript}function JW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eH{constructor(){this.enterprise=new tH}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tH{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nH="recaptcha-enterprise",_2="NO_RECAPTCHA";class rH{constructor(e){this.type=nH,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{DW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jW(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;hC(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(_2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eH().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&hC(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZW();l.length!==0&&(l+=a),w2(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function yC(t,e,n,r=!1,s=!1){const i=new rH(t);let o;if(s)o=_2;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cp(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await yC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await yC(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(t,e){const n=Hg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(rl(i,e??{}))return s;ds(s,"already-initialized")}return n.initialize({options:e})}function iH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oH(t,e,n){const r=ca(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=b2(e),{host:o,port:a}=aH(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(rl(u,r.config.emulator)&&rl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,lH()}function b2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aH(t){const e=b2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:xC(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:xC(o)}}}function xC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(t,e){return Js(t,"POST","/v1/accounts:resetPassword",Xs(t,e))}async function uH(t,e){return Js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dH(t,e){return Hh(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}async function hH(t,e){return Js(t,"POST","/v1/accounts:sendOobCode",Xs(t,e))}async function fH(t,e){return hH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(t,e){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function pH(t,e){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends yb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new eh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,n,"signInWithPassword",dH);case"emailLink":return mH(e,{email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,r,"signUpPassword",uH);case"emailLink":return pH(e,{idToken:n,email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e){return Hh(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH="http://localhost";class ol extends yb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ol(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=zh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ol(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vc(e,n)}buildRequest(){const e={requestUri:gH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$h(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yH(t){const e=qu(Qu(t)).link,n=e?qu(Qu(e)).deep_link_id:null,r=qu(Qu(t)).deep_link_id;return(r?qu(Qu(r)).link:null)||r||n||e||t}class xb{constructor(e){var n,r,s,i,o,a;const l=qu(Qu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=vH((s=l.mode)!==null&&s!==void 0?s:null);Ne(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=yH(e);try{return new xb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.providerId=du.PROVIDER_ID}static credential(e,n){return eh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xb.parseLink(n);return Ne(r,"argument-error"),eh._fromEmailAndCode(e,r.code,r.tenantId)}}du.PROVIDER_ID="password";du.EMAIL_PASSWORD_SIGN_IN_METHOD="password";du.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends E2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Kh{constructor(){super("facebook.com")}static credential(e){return ol._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ol._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.GOOGLE_SIGN_IN_METHOD="google.com";ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Kh{constructor(){super("github.com")}static credential(e){return ol._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Kh{constructor(){super("twitter.com")}static credential(e,n){return ol._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mo.credential(n,r)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xH(t,e){return Hh(t,"POST","/v1/accounts:signUp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ts._fromIdTokenResponse(e,r,s),o=wC(r);return new al({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=wC(r);return new al({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function wC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Zs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ip.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ip(e,n,r,s)}}function T2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ip._fromErrorAndOperation(t,i,e,r):i})}async function wH(t,e,n=!1){const r=await Jd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return al._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _H(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Ti(r));const s="reauthenticate";try{const i=await Jd(t,T2(r,s,e,t),n);Ne(i.idToken,r,"internal-error");const o=gb(i.idToken);Ne(o,r,"internal-error");const{sub:a}=o;return Ne(t.uid===a,r,"user-mismatch"),al._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ds(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e,n=!1){if(fr(t.app))return Promise.reject(Ti(t));const r="signIn",s=await T2(t,r,e),i=await al._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function bH(t,e){return S2(ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(t){const e=ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Gg(t,e,n){const r=ca(t);await Cp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",fH)}async function EH(t,e,n){await cH(Gt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wb(t),r})}async function TH(t,e,n){if(fr(t.app))return Promise.reject(Ti(t));const r=ca(t),o=await Cp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&wb(t),l}),a=await al._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function SH(t,e,n){return fr(t.app)?Promise.reject(Ti(t)):bH(Gt(t),du.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t,e){return Gt(t).setPersistence(e)}function IH(t,e,n,r){return Gt(t).onIdTokenChanged(e,n,r)}function AH(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function RH(t,e,n,r){return Gt(t).onAuthStateChanged(e,n,r)}function Sm(t){return Gt(t).signOut()}const Ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=1e3,PH=10;class I2 extends C2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);WW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I2.type="LOCAL";const A2=I2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2 extends C2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}R2.type="SESSION";const N2=R2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new qg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await kH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=_b("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return window}function DH(t){Ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){return typeof Ds().WorkerGlobalScope<"u"&&typeof Ds().importScripts=="function"}async function MH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VH(){return P2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="firebaseLocalStorageDb",LH=1,Rp="firebaseLocalStorage",j2="fbase_key";class Gh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qg(t,e){return t.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function FH(){const t=indexedDB.deleteDatabase(k2);return new Gh(t).toPromise()}function Hx(){const t=indexedDB.open(k2,LH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rp,{keyPath:j2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),await FH(),e(await Hx()))})})}async function _C(t,e,n){const r=Qg(t,!0).put({[j2]:e,value:n});return new Gh(r).toPromise()}async function UH(t,e){const n=Qg(t,!1).get(e),r=await new Gh(n).toPromise();return r===void 0?null:r.value}function bC(t,e){const n=Qg(t,!0).delete(e);return new Gh(n).toPromise()}const $H=800,BH=3;class D2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qg._getInstance(VH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MH(),!this.activeServiceWorker)return;this.sender=new jH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hx();return await _C(e,Ap,"1"),await bC(e,Ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_C(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Qg(s,!1).getAll();return new Gh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D2.type="LOCAL";const zH=D2;new Wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t,e){return e?wi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends yb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HH(t){return S2(t.auth,new bb(t),t.bypassAuthState)}function KH(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),_H(n,new bb(t),t.bypassAuthState)}async function GH(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),wH(n,new bb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HH;case"linkViaPopup":case"linkViaRedirect":return GH;case"reauthViaPopup":case"reauthViaRedirect":return KH;default:ds(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=new Wh(2e3,1e4);class ec extends M2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ec.currentPopupAction&&ec.currentPopupAction.cancel(),ec.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=_b();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ec.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qH.get())};e()}}ec.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH="pendingRedirect",Cm=new Map;class YH extends M2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cm.get(this.auth._key());if(!e){try{const r=await ZH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cm.set(this.auth._key(),e)}return this.bypassAuthState||Cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZH(t,e){const n=eK(e),r=JH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function XH(t,e){Cm.set(t._key(),e)}function JH(t){return wi(t._redirectPersistence)}function eK(t){return Tm(QH,t.config.apiKey,t.name)}async function tK(t,e,n=!1){if(fr(t.app))return Promise.reject(Ti(t));const r=ca(t),s=WH(r,e),o=await new YH(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=10*60*1e3;class rK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!O2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(js(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nK&&this.cachedEventUids.clear(),this.cachedEventUids.has(EC(e))}saveEventToCache(e){this.cachedEventUids.add(EC(e)),this.lastProcessedEventTime=Date.now()}}function EC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function O2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iK(t,e={}){return Js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aK=/^https?/;async function lK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iK(t);for(const n of e)try{if(cK(n))return}catch{}ds(t,"unauthorized-domain")}function cK(t){const e=zx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aK.test(n))return!1;if(oK.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=new Wh(3e4,6e4);function TC(){const t=Ds().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dK(t){return new Promise((e,n)=>{var r,s,i;function o(){TC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TC(),n(js(t,"network-request-failed"))},timeout:uK.get()})}if(!((s=(r=Ds().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ds().gapi)===null||i===void 0)&&i.load)o();else{const a=JW("iframefcb");return Ds()[a]=()=>{gapi.load?o():n(js(t,"network-request-failed"))},w2(`${XW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Im=null,e})}let Im=null;function hK(t){return Im=Im||dK(t),Im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=new Wh(5e3,15e3),mK="__/auth/iframe",pK="emulator/auth/iframe",gK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yK(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pb(e,pK):`https://${t.config.authDomain}/${mK}`,r={apiKey:e.apiKey,appName:t.name,v:xl},s=vK.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$h(r).slice(1)}`}async function xK(t){const e=await hK(t),n=Ds().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:yK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gK,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=js(t,"network-request-failed"),a=Ds().setTimeout(()=>{i(o)},fK.get());function l(){Ds().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_K=500,bK=600,EK="_blank",TK="http://localhost";class SC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SK(t,e,n,r=_K,s=bK){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wK),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Pn().toLowerCase();n&&(a=f2(u)?EK:n),d2(u)&&(e=e||TK,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[p,E])=>`${m}${p}=${E},`,"");if(zW(u)&&a!=="_self")return CK(e||"",a),new SC(null);const f=window.open(e||"",a,d);Ne(f,t,"popup-blocked");try{f.focus()}catch{}return new SC(f)}function CK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK="__/auth/handler",AK="emulator/auth/handler",RK=encodeURIComponent("fac");async function CC(t,e,n,r,s,i){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xl,eventId:s};if(e instanceof E2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Kh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${RK}=${encodeURIComponent(l)}`:"";return`${NK(t)}?${$h(a).slice(1)}${u}`}function NK({config:t}){return t.emulator?pb(t,AK):`https://${t.authDomain}/${IK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="webStorageSupport";class PK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N2,this._completeRedirectFn=tK,this._overrideRedirectResult=XH}async _openPopup(e,n,r,s){var i;Oi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await CC(e,n,r,zx(),s);return SK(e,o,_b())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await CC(e,n,r,zx(),s);return DH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Oi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xK(e),r=new rK(e);return n.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gy,{type:Gy},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Gy];o!==void 0&&n(!!o),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y2()||h2()||vb()}}const kK=PK;var IC="@firebase/auth",AC="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MK(t){il(new Wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x2(t)},u=new QW(r,s,i,l);return iH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),il(new Wo("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new jK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(IC,AC,DK(t)),ks(IC,AC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=5*60,VK=Zj("authIdTokenMaxAge")||OK;let RC=null;const LK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VK)return;const s=n==null?void 0:n.token;RC!==s&&(RC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Eb(t=Bh()){const e=Hg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sH(t,{popupRedirectResolver:kK,persistence:[zH,A2,N2]}),r=Zj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=LK(i.toString());AH(n,o,()=>o(n.currentUser)),IH(n,a=>o(a))}}const s=qj("auth");return s&&oH(n,`http://${s}`),n}function FK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=js("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",FK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MK("Browser");var NC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mo,V2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(R,D,j){for(var N=Array(arguments.length-2),z=2;z<arguments.length;z++)N[z-2]=arguments[z];return T.prototype[D].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,I){I||(I=0);var R=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)R[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)R[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],D=C.g[2];var j=C.g[3],N=T+(j^I&(D^j))+R[0]+3614090360&4294967295;T=I+(N<<7&4294967295|N>>>25),N=j+(D^T&(I^D))+R[1]+3905402710&4294967295,j=T+(N<<12&4294967295|N>>>20),N=D+(I^j&(T^I))+R[2]+606105819&4294967295,D=j+(N<<17&4294967295|N>>>15),N=I+(T^D&(j^T))+R[3]+3250441966&4294967295,I=D+(N<<22&4294967295|N>>>10),N=T+(j^I&(D^j))+R[4]+4118548399&4294967295,T=I+(N<<7&4294967295|N>>>25),N=j+(D^T&(I^D))+R[5]+1200080426&4294967295,j=T+(N<<12&4294967295|N>>>20),N=D+(I^j&(T^I))+R[6]+2821735955&4294967295,D=j+(N<<17&4294967295|N>>>15),N=I+(T^D&(j^T))+R[7]+4249261313&4294967295,I=D+(N<<22&4294967295|N>>>10),N=T+(j^I&(D^j))+R[8]+1770035416&4294967295,T=I+(N<<7&4294967295|N>>>25),N=j+(D^T&(I^D))+R[9]+2336552879&4294967295,j=T+(N<<12&4294967295|N>>>20),N=D+(I^j&(T^I))+R[10]+4294925233&4294967295,D=j+(N<<17&4294967295|N>>>15),N=I+(T^D&(j^T))+R[11]+2304563134&4294967295,I=D+(N<<22&4294967295|N>>>10),N=T+(j^I&(D^j))+R[12]+1804603682&4294967295,T=I+(N<<7&4294967295|N>>>25),N=j+(D^T&(I^D))+R[13]+4254626195&4294967295,j=T+(N<<12&4294967295|N>>>20),N=D+(I^j&(T^I))+R[14]+2792965006&4294967295,D=j+(N<<17&4294967295|N>>>15),N=I+(T^D&(j^T))+R[15]+1236535329&4294967295,I=D+(N<<22&4294967295|N>>>10),N=T+(D^j&(I^D))+R[1]+4129170786&4294967295,T=I+(N<<5&4294967295|N>>>27),N=j+(I^D&(T^I))+R[6]+3225465664&4294967295,j=T+(N<<9&4294967295|N>>>23),N=D+(T^I&(j^T))+R[11]+643717713&4294967295,D=j+(N<<14&4294967295|N>>>18),N=I+(j^T&(D^j))+R[0]+3921069994&4294967295,I=D+(N<<20&4294967295|N>>>12),N=T+(D^j&(I^D))+R[5]+3593408605&4294967295,T=I+(N<<5&4294967295|N>>>27),N=j+(I^D&(T^I))+R[10]+38016083&4294967295,j=T+(N<<9&4294967295|N>>>23),N=D+(T^I&(j^T))+R[15]+3634488961&4294967295,D=j+(N<<14&4294967295|N>>>18),N=I+(j^T&(D^j))+R[4]+3889429448&4294967295,I=D+(N<<20&4294967295|N>>>12),N=T+(D^j&(I^D))+R[9]+568446438&4294967295,T=I+(N<<5&4294967295|N>>>27),N=j+(I^D&(T^I))+R[14]+3275163606&4294967295,j=T+(N<<9&4294967295|N>>>23),N=D+(T^I&(j^T))+R[3]+4107603335&4294967295,D=j+(N<<14&4294967295|N>>>18),N=I+(j^T&(D^j))+R[8]+1163531501&4294967295,I=D+(N<<20&4294967295|N>>>12),N=T+(D^j&(I^D))+R[13]+2850285829&4294967295,T=I+(N<<5&4294967295|N>>>27),N=j+(I^D&(T^I))+R[2]+4243563512&4294967295,j=T+(N<<9&4294967295|N>>>23),N=D+(T^I&(j^T))+R[7]+1735328473&4294967295,D=j+(N<<14&4294967295|N>>>18),N=I+(j^T&(D^j))+R[12]+2368359562&4294967295,I=D+(N<<20&4294967295|N>>>12),N=T+(I^D^j)+R[5]+4294588738&4294967295,T=I+(N<<4&4294967295|N>>>28),N=j+(T^I^D)+R[8]+2272392833&4294967295,j=T+(N<<11&4294967295|N>>>21),N=D+(j^T^I)+R[11]+1839030562&4294967295,D=j+(N<<16&4294967295|N>>>16),N=I+(D^j^T)+R[14]+4259657740&4294967295,I=D+(N<<23&4294967295|N>>>9),N=T+(I^D^j)+R[1]+2763975236&4294967295,T=I+(N<<4&4294967295|N>>>28),N=j+(T^I^D)+R[4]+1272893353&4294967295,j=T+(N<<11&4294967295|N>>>21),N=D+(j^T^I)+R[7]+4139469664&4294967295,D=j+(N<<16&4294967295|N>>>16),N=I+(D^j^T)+R[10]+3200236656&4294967295,I=D+(N<<23&4294967295|N>>>9),N=T+(I^D^j)+R[13]+681279174&4294967295,T=I+(N<<4&4294967295|N>>>28),N=j+(T^I^D)+R[0]+3936430074&4294967295,j=T+(N<<11&4294967295|N>>>21),N=D+(j^T^I)+R[3]+3572445317&4294967295,D=j+(N<<16&4294967295|N>>>16),N=I+(D^j^T)+R[6]+76029189&4294967295,I=D+(N<<23&4294967295|N>>>9),N=T+(I^D^j)+R[9]+3654602809&4294967295,T=I+(N<<4&4294967295|N>>>28),N=j+(T^I^D)+R[12]+3873151461&4294967295,j=T+(N<<11&4294967295|N>>>21),N=D+(j^T^I)+R[15]+530742520&4294967295,D=j+(N<<16&4294967295|N>>>16),N=I+(D^j^T)+R[2]+3299628645&4294967295,I=D+(N<<23&4294967295|N>>>9),N=T+(D^(I|~j))+R[0]+4096336452&4294967295,T=I+(N<<6&4294967295|N>>>26),N=j+(I^(T|~D))+R[7]+1126891415&4294967295,j=T+(N<<10&4294967295|N>>>22),N=D+(T^(j|~I))+R[14]+2878612391&4294967295,D=j+(N<<15&4294967295|N>>>17),N=I+(j^(D|~T))+R[5]+4237533241&4294967295,I=D+(N<<21&4294967295|N>>>11),N=T+(D^(I|~j))+R[12]+1700485571&4294967295,T=I+(N<<6&4294967295|N>>>26),N=j+(I^(T|~D))+R[3]+2399980690&4294967295,j=T+(N<<10&4294967295|N>>>22),N=D+(T^(j|~I))+R[10]+4293915773&4294967295,D=j+(N<<15&4294967295|N>>>17),N=I+(j^(D|~T))+R[1]+2240044497&4294967295,I=D+(N<<21&4294967295|N>>>11),N=T+(D^(I|~j))+R[8]+1873313359&4294967295,T=I+(N<<6&4294967295|N>>>26),N=j+(I^(T|~D))+R[15]+4264355552&4294967295,j=T+(N<<10&4294967295|N>>>22),N=D+(T^(j|~I))+R[6]+2734768916&4294967295,D=j+(N<<15&4294967295|N>>>17),N=I+(j^(D|~T))+R[13]+1309151649&4294967295,I=D+(N<<21&4294967295|N>>>11),N=T+(D^(I|~j))+R[4]+4149444226&4294967295,T=I+(N<<6&4294967295|N>>>26),N=j+(I^(T|~D))+R[11]+3174756917&4294967295,j=T+(N<<10&4294967295|N>>>22),N=D+(T^(j|~I))+R[2]+718787259&4294967295,D=j+(N<<15&4294967295|N>>>17),N=I+(j^(D|~T))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,R=this.B,D=this.h,j=0;j<T;){if(D==0)for(;j<=I;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<T;)if(R[D++]=C.charCodeAt(j++),D==this.blockSize){s(this,R),D=0;break}}else for(;j<T;)if(R[D++]=C[j++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var R=0;32>R;R+=8)C[I++]=this.g[T]>>>R&255;return C};function i(C,T){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function o(C,T){this.h=T;for(var I=[],R=!0,D=C.length-1;0<=D;D--){var j=C[D]|0;R&&j==T||(I[D]=j,R=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return y(u(-C));for(var T=[],I=1,R=0;C>=I;R++)T[R]=C/I|0,I*=4294967296;return new o(T,0)}function d(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return y(d(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(T,8)),R=f,D=0;D<C.length;D+=8){var j=Math.min(8,C.length-D),N=parseInt(C.substring(D,D+j),T);8>j?(j=u(Math.pow(T,j)),R=R.j(j).add(u(N))):(R=R.j(I),R=R.add(u(N)))}return R}var f=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-y(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var R=this.i(I);C+=(0<=R?R:4294967296+R)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(v(this))return"-"+y(this).toString(C);for(var T=u(Math.pow(C,6)),I=this,R="";;){var D=A(I,T).g;I=_(I,D.j(T));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=D,E(I))return j+R;for(;6>j.length;)j="0"+j;R=j+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=_(this,C),v(C)?-1:E(C)?0:1};function y(C){for(var T=C.g.length,I=[],R=0;R<T;R++)I[R]=~C.g[R];return new o(I,~C.h).add(m)}t.abs=function(){return v(this)?y(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],R=0,D=0;D<=T;D++){var j=R+(this.i(D)&65535)+(C.i(D)&65535),N=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);R=N>>>16,j&=65535,N&=65535,I[D]=N<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(C,T){return C.add(y(T))}t.j=function(C){if(E(this)||E(C))return f;if(v(this))return v(C)?y(this).j(y(C)):y(y(this).j(C));if(v(C))return y(this.j(y(C)));if(0>this.l(p)&&0>C.l(p))return u(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],R=0;R<2*T;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<C.g.length;D++){var j=this.i(R)>>>16,N=this.i(R)&65535,z=C.i(D)>>>16,ae=C.i(D)&65535;I[2*R+2*D]+=N*ae,w(I,2*R+2*D),I[2*R+2*D+1]+=j*ae,w(I,2*R+2*D+1),I[2*R+2*D+1]+=N*z,w(I,2*R+2*D+1),I[2*R+2*D+2]+=j*z,w(I,2*R+2*D+2)}for(R=0;R<T;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=T;R<2*T;R++)I[R]=0;return new o(I,0)};function w(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function b(C,T){this.g=C,this.h=T}function A(C,T){if(E(T))throw Error("division by zero");if(E(C))return new b(f,f);if(v(C))return T=A(y(C),T),new b(y(T.g),y(T.h));if(v(T))return T=A(C,y(T)),new b(y(T.g),T.h);if(30<C.g.length){if(v(C)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var I=m,R=T;0>=R.l(C);)I=P(I),R=P(R);var D=M(I,1),j=M(R,1);for(R=M(R,2),I=M(I,2);!E(R);){var N=j.add(R);0>=N.l(C)&&(D=D.add(I),j=N),R=M(R,1),I=M(I,1)}return T=_(C,D.j(T)),new b(D,T)}for(D=f;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),j=u(I),N=j.j(T);v(N)||0<N.l(C);)I-=R,j=u(I),N=j.j(T);E(j)&&(j=m),D=D.add(j),C=_(C,N)}return new b(D,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],R=0;R<T;R++)I[R]=this.i(R)&C.i(R);return new o(I,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],R=0;R<T;R++)I[R]=this.i(R)|C.i(R);return new o(I,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],R=0;R<T;R++)I[R]=this.i(R)^C.i(R);return new o(I,this.h^C.h)};function P(C){for(var T=C.g.length+1,I=[],R=0;R<T;R++)I[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(I,C.h)}function M(C,T){var I=T>>5;T%=32;for(var R=C.g.length-I,D=[],j=0;j<R;j++)D[j]=0<T?C.i(j+I)>>>T|C.i(j+I+1)<<32-T:C.i(j+I);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,V2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Mo=o}).apply(typeof NC<"u"?NC:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L2,Yu,F2,Am,Kx,U2,$2,B2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,S){return h==Array.prototype||h==Object.prototype||(h[x]=S.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var x=0;x<h.length;++x){var S=h[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(h,x){if(x)e:{var S=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var F=h[k];if(!(F in S))break e;S=S[F]}h=h[h.length-1],k=S[h],x=x(k),x!=k&&x!=null&&e(S,h,{configurable:!0,writable:!0,value:x})}}function i(h,x){h instanceof String&&(h+="");var S=0,k=!1,F={next:function(){if(!k&&S<h.length){var B=S++;return{value:x(B,h[B]),done:!1}}return k=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(h){return h||function(){return i(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function u(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function d(h,x,S){return h.call.apply(h.bind,arguments)}function f(h,x,S){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,k),h.apply(x,F)}}return function(){return h.apply(x,arguments)}}function m(h,x,S){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function p(h,x){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function E(h,x){function S(){}S.prototype=x.prototype,h.aa=x.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(k,F,B){for(var ie=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ie[ft-2]=arguments[ft];return x.prototype[F].apply(k,ie)}}function v(h){const x=h.length;if(0<x){const S=Array(x);for(let k=0;k<x;k++)S[k]=h[k];return S}return[]}function y(h,x){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(l(k)){const F=h.length||0,B=k.length||0;h.length=F+B;for(let ie=0;ie<B;ie++)h[F+ie]=k[ie]}else h.push(k)}}class _{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function w(h){return/^[\s\xa0]*$/.test(h)}function b(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(h,x,S){for(const k in h)x.call(S,h[k],k,h)}function C(h,x){for(const S in h)x.call(void 0,h[S],S,h)}function T(h){const x={};for(const S in h)x[S]=h[S];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,x){let S,k;for(let F=1;F<arguments.length;F++){k=arguments[F];for(S in k)h[S]=k[S];for(let B=0;B<I.length;B++)S=I[B],Object.prototype.hasOwnProperty.call(k,S)&&(h[S]=k[S])}}function D(h){var x=1;h=h.split(":");const S=[];for(;0<x&&h.length;)S.push(h.shift()),x--;return h.length&&S.push(h.join(":")),S}function j(h){a.setTimeout(()=>{throw h},0)}function N(){var h=V;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class z{constructor(){this.h=this.g=null}add(x,S){const k=ae.get();k.set(x,S),this.h?this.h.next=k:this.g=k,this.h=k}}var ae=new _(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,$=!1,V=new z,Z=()=>{const h=a.Promise.resolve(void 0);Q=()=>{h.then(pe)}};var pe=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(S){j(S)}var x=ae;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}$=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};a.addEventListener("test",S,x),a.removeEventListener("test",S,x)}catch{}return h}();function ve(h,x){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(P){e:{try{A(x.nodeName);var F=!0;break e}catch{}F=!1}F||(x=null)}}else S=="mouseover"?x=h.fromElement:S=="mouseout"&&(x=h.toElement);this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ve.aa.h.call(this)}}E(ve,he);var Ee={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),se=0;function Ie(h,x,S,k,F){this.listener=h,this.proxy=null,this.src=x,this.type=S,this.capture=!!k,this.ha=F,this.key=++se,this.da=this.fa=!1}function we(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xe(h){this.src=h,this.g={},this.h=0}xe.prototype.add=function(h,x,S,k,F){var B=h.toString();h=this.g[B],h||(h=this.g[B]=[],this.h++);var ie=Tt(h,x,k,F);return-1<ie?(x=h[ie],S||(x.fa=!1)):(x=new Ie(x,this.src,B,!!k,F),x.fa=S,h.push(x)),x};function Le(h,x){var S=x.type;if(S in h.g){var k=h.g[S],F=Array.prototype.indexOf.call(k,x,void 0),B;(B=0<=F)&&Array.prototype.splice.call(k,F,1),B&&(we(x),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Tt(h,x,S,k){for(var F=0;F<h.length;++F){var B=h[F];if(!B.da&&B.listener==x&&B.capture==!!S&&B.ha==k)return F}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),ir={};function Gn(h,x,S,k,F){if(Array.isArray(x)){for(var B=0;B<x.length;B++)Gn(h,x[B],S,k,F);return null}return S=de(S),h&&h[L]?h.K(x,S,u(k)?!!k.capture:!1,F):Tr(h,x,S,!1,k,F)}function Tr(h,x,S,k,F,B){if(!x)throw Error("Invalid event type");var ie=u(F)?!!F.capture:!!F,ft=U(h);if(ft||(h[Pt]=ft=new xe(h)),S=ft.add(x,S,k,ie,B),S.proxy)return S;if(k=ti(),S.proxy=k,k.src=h,k.listener=S,h.addEventListener)te||(F=ie),F===void 0&&(F=!1),h.addEventListener(x.toString(),k,F);else if(h.attachEvent)h.attachEvent(Fr(x.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ti(){function h(S){return x.call(h.src,h.listener,S)}const x=O;return h}function Lr(h,x,S,k,F){if(Array.isArray(x))for(var B=0;B<x.length;B++)Lr(h,x[B],S,k,F);else k=u(k)?!!k.capture:!!k,S=de(S),h&&h[L]?(h=h.i,x=String(x).toString(),x in h.g&&(B=h.g[x],S=Tt(B,S,k,F),-1<S&&(we(B[S]),Array.prototype.splice.call(B,S,1),B.length==0&&(delete h.g[x],h.h--)))):h&&(h=U(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Tt(x,S,k,F)),(S=-1<h?x[h]:null)&&ga(S))}function ga(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[L])Le(x.i,h);else{var S=h.type,k=h.proxy;x.removeEventListener?x.removeEventListener(S,k,h.capture):x.detachEvent?x.detachEvent(Fr(S),k):x.addListener&&x.removeListener&&x.removeListener(k),(S=U(x))?(Le(S,h),S.h==0&&(S.src=null,x[Pt]=null)):we(h)}}}function Fr(h){return h in ir?ir[h]:ir[h]="on"+h}function O(h,x){if(h.da)h=!0;else{x=new ve(x,this);var S=h.listener,k=h.ha||h.src;h.fa&&ga(h),h=S.call(k,x)}return h}function U(h){return h=h[Pt],h instanceof xe?h:null}var W="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(h){return typeof h=="function"?h:(h[W]||(h[W]=function(x){return h.handleEvent(x)}),h[W])}function Y(){re.call(this),this.i=new xe(this),this.M=this,this.F=null}E(Y,re),Y.prototype[L]=!0,Y.prototype.removeEventListener=function(h,x,S,k){Lr(this,h,x,S,k)};function q(h,x){var S,k=h.F;if(k)for(S=[];k;k=k.F)S.push(k);if(h=h.M,k=x.type||x,typeof x=="string")x=new he(x,h);else if(x instanceof he)x.target=x.target||h;else{var F=x;x=new he(k,h),R(x,F)}if(F=!0,S)for(var B=S.length-1;0<=B;B--){var ie=x.g=S[B];F=fe(ie,k,!0,x)&&F}if(ie=x.g=h,F=fe(ie,k,!0,x)&&F,F=fe(ie,k,!1,x)&&F,S)for(B=0;B<S.length;B++)ie=x.g=S[B],F=fe(ie,k,!1,x)&&F}Y.prototype.N=function(){if(Y.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var S=h.g[x],k=0;k<S.length;k++)we(S[k]);delete h.g[x],h.h--}}this.F=null},Y.prototype.K=function(h,x,S,k){return this.i.add(String(h),x,!1,S,k)},Y.prototype.L=function(h,x,S,k){return this.i.add(String(h),x,!0,S,k)};function fe(h,x,S,k){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var F=!0,B=0;B<x.length;++B){var ie=x[B];if(ie&&!ie.da&&ie.capture==S){var ft=ie.listener,on=ie.ha||ie.src;ie.fa&&Le(h.i,ie),F=ft.call(on,k)!==!1&&F}}return F&&!k.defaultPrevented}function Ge(h,x,S){if(typeof h=="function")S&&(h=m(h,S));else if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(h,x||0)}function dt(h){h.g=Ge(()=>{h.g=null,h.i&&(h.i=!1,dt(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class zt extends re{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(h){re.call(this),this.h=h,this.g={}}E(ps,re);var gs=[];function or(h){M(h.g,function(x,S){this.g.hasOwnProperty(S)&&ga(x)},h),h.g={}}ps.prototype.N=function(){ps.aa.N.call(this),or(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=a.JSON.stringify,Ur=a.JSON.parse,wu=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Hi(){}Hi.prototype.h=null;function _u(h){return h.h||(h.h=h.i())}function bu(){}var va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ya(){he.call(this,"d")}E(ya,he);function Sr(){he.call(this,"c")}E(Sr,he);var ni={},De=null;function nt(){return De=De||new Y}ni.La="serverreachability";function ht(h){he.call(this,ni.La,h)}E(ht,he);function rn(h){const x=nt();q(x,new ht(x))}ni.STAT_EVENT="statevent";function qn(h,x){he.call(this,ni.STAT_EVENT,h),this.stat=x}E(qn,he);function wt(h){const x=nt();q(x,new qn(x,h))}ni.Ma="timingevent";function vs(h,x){he.call(this,ni.Ma,h),this.size=x}E(vs,he);function sn(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},x)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function s5(h,x,S,k,F,B){h.info(function(){if(h.g)if(B)for(var ie="",ft=B.split("&"),on=0;on<ft.length;on++){var st=ft[on].split("=");if(1<st.length){var yn=st[0];st=st[1];var xn=yn.split("_");ie=2<=xn.length&&xn[1]=="type"?ie+(yn+"="+st+"&"):ie+(yn+"=redacted&")}}else ie=null;else ie=B;return"XMLHTTP REQ ("+k+") [attempt "+F+"]: "+x+`
`+S+`
`+ie})}function i5(h,x,S,k,F,B,ie){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+F+"]: "+x+`
`+S+`
`+B+" "+ie})}function Cl(h,x,S,k){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+a5(h,S)+(k?" "+k:"")})}function o5(h,x){h.info(function(){return"TIMEOUT: "+x})}Qn.prototype.info=function(){};function a5(h,x){if(!h.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var k=S[h];if(!(2>k.length)){var F=k[1];if(Array.isArray(F)&&!(1>F.length)){var B=F[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return Wi(S)}catch{return x}}var hf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hv;function ff(){}E(ff,Hi),ff.prototype.g=function(){return new XMLHttpRequest},ff.prototype.i=function(){return{}},Hv=new ff;function Ki(h,x,S,k){this.j=h,this.i=x,this.l=S,this.R=k||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wT}function wT(){this.i=null,this.g="",this.h=!1}var _T={},Kv={};function Gv(h,x,S){h.L=1,h.v=vf(ri(x)),h.m=S,h.P=!0,bT(h,null)}function bT(h,x){h.F=Date.now(),mf(h),h.A=ri(h.v);var S=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),OT(S.i,"t",k),h.C=0,S=h.j.J,h.h=new wT,h.g=eS(h.j,S?x:null,!h.m),0<h.O&&(h.M=new zt(m(h.Y,h,h.g),h.O)),x=h.U,S=h.g,k=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(gs[0]=F.toString()),F=gs);for(var B=0;B<F.length;B++){var ie=Gn(S,F[B],k||x.handleEvent,!1,x.h||x);if(!ie)break;x.g[ie.key]=ie}x=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),rn(),s5(h.i,h.u,h.A,h.l,h.R,h.m)}Ki.prototype.ca=function(h){h=h.target;const x=this.M;x&&si(h)==3?x.j():this.Y(h)},Ki.prototype.Y=function(h){try{if(h==this.g)e:{const xn=si(this.g);var x=this.g.Ba();const Rl=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||zT(this.g)))){this.J||xn!=4||x==7||(x==8||0>=Rl?rn(3):rn(2)),qv(this);var S=this.g.Z();this.X=S;t:if(ET(this)){var k=zT(this.g);h="";var F=k.length,B=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xa(this),Eu(this);var ie="";break t}this.h.i=new a.TextDecoder}for(x=0;x<F;x++)this.h.h=!0,h+=this.h.i.decode(k[x],{stream:!(B&&x==F-1)});k.length=0,this.h.g+=h,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=S==200,i5(this.i,this.u,this.A,this.l,this.R,xn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,on=this.g;if((ft=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(ft)){var st=ft;break t}}st=null}if(S=st)Cl(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qv(this,S);else{this.o=!1,this.s=3,wt(12),xa(this),Eu(this);break e}}if(this.P){S=!0;let $r;for(;!this.J&&this.C<ie.length;)if($r=l5(this,ie),$r==Kv){xn==4&&(this.s=4,wt(14),S=!1),Cl(this.i,this.l,null,"[Incomplete Response]");break}else if($r==_T){this.s=4,wt(15),Cl(this.i,this.l,ie,"[Invalid Chunk]"),S=!1;break}else Cl(this.i,this.l,$r,null),Qv(this,$r);if(ET(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||ie.length!=0||this.h.h||(this.s=1,wt(16),S=!1),this.o=this.o&&S,!S)Cl(this.i,this.l,ie,"[Invalid Chunked Response]"),xa(this),Eu(this);else if(0<ie.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ty(yn),yn.M=!0,wt(11))}}else Cl(this.i,this.l,ie,null),Qv(this,ie);xn==4&&xa(this),this.o&&!this.J&&(xn==4?YT(this.j,this):(this.o=!1,mf(this)))}else S5(this.g),S==400&&0<ie.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),xa(this),Eu(this)}}}catch{}finally{}};function ET(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function l5(h,x){var S=h.C,k=x.indexOf(`
`,S);return k==-1?Kv:(S=Number(x.substring(S,k)),isNaN(S)?_T:(k+=1,k+S>x.length?Kv:(x=x.slice(k,k+S),h.C=k+S,x)))}Ki.prototype.cancel=function(){this.J=!0,xa(this)};function mf(h){h.S=Date.now()+h.I,TT(h,h.I)}function TT(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=sn(m(h.ba,h),x)}function qv(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Ki.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(o5(this.i,this.A),this.L!=2&&(rn(),wt(17)),xa(this),this.s=2,Eu(this)):TT(this,this.S-h)};function Eu(h){h.j.G==0||h.J||YT(h.j,h)}function xa(h){qv(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,or(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Qv(h,x){try{var S=h.j;if(S.G!=0&&(S.g==h||Yv(S.h,h))){if(!h.K&&Yv(S.h,h)&&S.G==3){try{var k=S.Da.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var F=k;if(F[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)Ef(S),_f(S);else break e;ey(S),wt(18)}}else S.za=F[1],0<S.za-S.T&&37500>F[2]&&S.F&&S.v==0&&!S.C&&(S.C=sn(m(S.Za,S),6e3));if(1>=IT(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else _a(S,11)}else if((h.K||S.g==h)&&Ef(S),!w(x))for(F=S.Da.g.parse(x),x=0;x<F.length;x++){let st=F[x];if(S.T=st[0],st=st[1],S.G==2)if(st[0]=="c"){S.K=st[1],S.ia=st[2];const yn=st[3];yn!=null&&(S.la=yn,S.j.info("VER="+S.la));const xn=st[4];xn!=null&&(S.Aa=xn,S.j.info("SVER="+S.Aa));const Rl=st[5];Rl!=null&&typeof Rl=="number"&&0<Rl&&(k=1.5*Rl,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const $r=h.g;if($r){const Sf=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sf){var B=k.h;B.g||Sf.indexOf("spdy")==-1&&Sf.indexOf("quic")==-1&&Sf.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Zv(B,B.h),B.h=null))}if(k.D){const ny=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;ny&&(k.ya=ny,pt(k.I,k.D,ny))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var ie=h;if(k.qa=JT(k,k.J?k.ia:null,k.W),ie.K){AT(k.h,ie);var ft=ie,on=k.L;on&&(ft.I=on),ft.B&&(qv(ft),mf(ft)),k.g=ie}else qT(k);0<S.i.length&&bf(S)}else st[0]!="stop"&&st[0]!="close"||_a(S,7);else S.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?_a(S,7):Jv(S):st[0]!="noop"&&S.l&&S.l.ta(st),S.v=0)}}rn(4)}catch{}}var c5=class{constructor(h,x){this.g=h,this.map=x}};function ST(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function CT(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function IT(h){return h.h?1:h.g?h.g.size:0}function Yv(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Zv(h,x){h.g?h.g.add(x):h.h=x}function AT(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}ST.prototype.cancel=function(){if(this.i=RT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function RT(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const S of h.g.values())x=x.concat(S.D);return x}return v(h.i)}function u5(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var x=[],S=h.length,k=0;k<S;k++)x.push(h[k]);return x}x=[],S=0;for(k in h)x[S++]=h[k];return x}function d5(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var x=[];h=h.length;for(var S=0;S<h;S++)x.push(S);return x}x=[],S=0;for(const k in h)x[S++]=k;return x}}}function NT(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var S=d5(h),k=u5(h),F=k.length,B=0;B<F;B++)x.call(void 0,k[B],S&&S[B],h)}var PT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h5(h,x){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var k=h[S].indexOf("="),F=null;if(0<=k){var B=h[S].substring(0,k);F=h[S].substring(k+1)}else B=h[S];x(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function wa(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof wa){this.h=h.h,pf(this,h.j),this.o=h.o,this.g=h.g,gf(this,h.s),this.l=h.l;var x=h.i,S=new Cu;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),kT(this,S),this.m=h.m}else h&&(x=String(h).match(PT))?(this.h=!1,pf(this,x[1]||"",!0),this.o=Tu(x[2]||""),this.g=Tu(x[3]||"",!0),gf(this,x[4]),this.l=Tu(x[5]||"",!0),kT(this,x[6]||"",!0),this.m=Tu(x[7]||"")):(this.h=!1,this.i=new Cu(null,this.h))}wa.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Su(x,jT,!0),":");var S=this.g;return(S||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Su(x,jT,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Su(S,S.charAt(0)=="/"?p5:m5,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Su(S,v5)),h.join("")};function ri(h){return new wa(h)}function pf(h,x,S){h.j=S?Tu(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function gf(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function kT(h,x,S){x instanceof Cu?(h.i=x,y5(h.i,h.h)):(S||(x=Su(x,g5)),h.i=new Cu(x,h.h))}function pt(h,x,S){h.i.set(x,S)}function vf(h){return pt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Tu(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Su(h,x,S){return typeof h=="string"?(h=encodeURI(h).replace(x,f5),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function f5(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jT=/[#\/\?@]/g,m5=/[#\?:]/g,p5=/[#\?]/g,g5=/[#\?@]/g,v5=/#/g;function Cu(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Gi(h){h.g||(h.g=new Map,h.h=0,h.i&&h5(h.i,function(x,S){h.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}t=Cu.prototype,t.add=function(h,x){Gi(this),this.i=null,h=Il(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(x),this.h+=1,this};function DT(h,x){Gi(h),x=Il(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function MT(h,x){return Gi(h),x=Il(h,x),h.g.has(x)}t.forEach=function(h,x){Gi(this),this.g.forEach(function(S,k){S.forEach(function(F){h.call(x,F,k,this)},this)},this)},t.na=function(){Gi(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let k=0;k<x.length;k++){const F=h[k];for(let B=0;B<F.length;B++)S.push(x[k])}return S},t.V=function(h){Gi(this);let x=[];if(typeof h=="string")MT(this,h)&&(x=x.concat(this.g.get(Il(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)x=x.concat(h[S])}return x},t.set=function(h,x){return Gi(this),this.i=null,h=Il(this,h),MT(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function OT(h,x,S){DT(h,x),0<S.length&&(h.i=null,h.g.set(Il(h,x),v(S)),h.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var k=x[S];const B=encodeURIComponent(String(k)),ie=this.V(k);for(k=0;k<ie.length;k++){var F=B;ie[k]!==""&&(F+="="+encodeURIComponent(String(ie[k]))),h.push(F)}}return this.i=h.join("&")};function Il(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function y5(h,x){x&&!h.j&&(Gi(h),h.i=null,h.g.forEach(function(S,k){var F=k.toLowerCase();k!=F&&(DT(this,k),OT(this,F,S))},h)),h.j=x}function x5(h,x){const S=new Qn;if(a.Image){const k=new Image;k.onload=p(qi,S,"TestLoadImage: loaded",!0,x,k),k.onerror=p(qi,S,"TestLoadImage: error",!1,x,k),k.onabort=p(qi,S,"TestLoadImage: abort",!1,x,k),k.ontimeout=p(qi,S,"TestLoadImage: timeout",!1,x,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else x(!1)}function w5(h,x){const S=new Qn,k=new AbortController,F=setTimeout(()=>{k.abort(),qi(S,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:k.signal}).then(B=>{clearTimeout(F),B.ok?qi(S,"TestPingServer: ok",!0,x):qi(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(F),qi(S,"TestPingServer: error",!1,x)})}function qi(h,x,S,k,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),k(S)}catch{}}function _5(){this.g=new wu}function b5(h,x,S){const k=S||"";try{NT(h,function(F,B){let ie=F;u(F)&&(ie=Wi(F)),x.push(k+B+"="+encodeURIComponent(ie))})}catch(F){throw x.push(k+"type="+encodeURIComponent("_badmap")),F}}function yf(h){this.l=h.Ub||null,this.j=h.eb||!1}E(yf,Hi),yf.prototype.g=function(){return new xf(this.l,this.j)},yf.prototype.i=function(h){return function(){return h}}({});function xf(h,x){Y.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(xf,Y),t=xf.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Au(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Iu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Au(this)),this.g&&(this.readyState=3,Au(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VT(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function VT(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Iu(this):Au(this),this.readyState==3&&VT(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Iu(this))},t.Qa=function(h){this.g&&(this.response=h,Iu(this))},t.ga=function(){this.g&&Iu(this)};function Iu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Au(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=x.next();return h.join(`\r
`)};function Au(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function LT(h){let x="";return M(h,function(S,k){x+=k,x+=":",x+=S,x+=`\r
`}),x}function Xv(h,x,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=LT(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):pt(h,x,S))}function kt(h){Y.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(kt,Y);var E5=/^https?$/i,T5=["POST","PUT"];t=kt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hv.g(),this.v=this.o?_u(this.o):_u(Hv),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(B){FT(this,B);return}if(h=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var F in k)S.set(F,k[F]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const B of k.keys())S.set(B,k.get(B));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(B=>B.toLowerCase()=="content-type"),F=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(T5,x,void 0))||k||F||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of S)this.g.setRequestHeader(B,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BT(this),this.u=!0,this.g.send(h),this.u=!1}catch(B){FT(this,B)}};function FT(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,UT(h),wf(h)}function UT(h){h.A||(h.A=!0,q(h,"complete"),q(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,q(this,"complete"),q(this,"abort"),wf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wf(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$T(this):this.bb())},t.bb=function(){$T(this)};function $T(h){if(h.h&&typeof o<"u"&&(!h.v[1]||si(h)!=4||h.Z()!=2)){if(h.u&&si(h)==4)Ge(h.Ea,0,h);else if(q(h,"readystatechange"),si(h)==4){h.h=!1;try{const ie=h.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var k;if(k=ie===0){var F=String(h.D).match(PT)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),k=!E5.test(F?F.toLowerCase():"")}S=k}if(S)q(h,"complete"),q(h,"success");else{h.m=6;try{var B=2<si(h)?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.Z()+"]",UT(h)}}finally{wf(h)}}}}function wf(h,x){if(h.g){BT(h);const S=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||q(h,"ready");try{S.onreadystatechange=k}catch{}}}function BT(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Ur(x)}};function zT(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function S5(h){const x={};h=(h.g&&2<=si(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(w(h[k]))continue;var S=D(h[k]);const F=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const B=x[F]||[];x[F]=B,B.push(S)}C(x,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ru(h,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||x}function WT(h){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ru("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ru("baseRetryDelayMs",5e3,h),this.cb=Ru("retryDelaySeedMs",1e4,h),this.Wa=Ru("forwardChannelMaxRetries",2,h),this.wa=Ru("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ST(h&&h.concurrentRequestLimit),this.Da=new _5,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=WT.prototype,t.la=8,t.G=1,t.connect=function(h,x,S,k){wt(0),this.W=h,this.H=x||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=JT(this,null,this.W),bf(this)};function Jv(h){if(HT(h),h.G==3){var x=h.U++,S=ri(h.I);if(pt(S,"SID",h.K),pt(S,"RID",x),pt(S,"TYPE","terminate"),Nu(h,S),x=new Ki(h,h.j,x),x.L=2,x.v=vf(ri(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=x.v,S=!0),S||(x.g=eS(x.j,null),x.g.ea(x.v)),x.F=Date.now(),mf(x)}XT(h)}function _f(h){h.g&&(ty(h),h.g.cancel(),h.g=null)}function HT(h){_f(h),h.u&&(a.clearTimeout(h.u),h.u=null),Ef(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function bf(h){if(!CT(h.h)&&!h.s){h.s=!0;var x=h.Ga;Q||Z(),$||(Q(),$=!0),V.add(x,h),h.B=0}}function C5(h,x){return IT(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=sn(m(h.Ga,h,x),ZT(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Ki(this,this.j,h);let B=this.o;if(this.S&&(B?(B=T(B),R(B,this.S)):B=this.S),this.m!==null||this.O||(F.H=B,B=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=GT(this,F,x),S=ri(this.I),pt(S,"RID",h),pt(S,"CVER",22),this.D&&pt(S,"X-HTTP-Session-Id",this.D),Nu(this,S),B&&(this.O?x="headers="+encodeURIComponent(String(LT(B)))+"&"+x:this.m&&Xv(S,this.m,B)),Zv(this.h,F),this.Ua&&pt(S,"TYPE","init"),this.P?(pt(S,"$req",x),pt(S,"SID","null"),F.T=!0,Gv(F,S,null)):Gv(F,S,x),this.G=2}}else this.G==3&&(h?KT(this,h):this.i.length==0||CT(this.h)||KT(this))};function KT(h,x){var S;x?S=x.l:S=h.U++;const k=ri(h.I);pt(k,"SID",h.K),pt(k,"RID",S),pt(k,"AID",h.T),Nu(h,k),h.m&&h.o&&Xv(k,h.m,h.o),S=new Ki(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),x&&(h.i=x.D.concat(h.i)),x=GT(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Zv(h.h,S),Gv(S,k,x)}function Nu(h,x){h.H&&M(h.H,function(S,k){pt(x,k,S)}),h.l&&NT({},function(S,k){pt(x,k,S)})}function GT(h,x,S){S=Math.min(h.i.length,S);var k=h.l?m(h.l.Na,h.l,h):null;e:{var F=h.i;let B=-1;for(;;){const ie=["count="+S];B==-1?0<S?(B=F[0].g,ie.push("ofs="+B)):B=0:ie.push("ofs="+B);let ft=!0;for(let on=0;on<S;on++){let st=F[on].g;const yn=F[on].map;if(st-=B,0>st)B=Math.max(0,F[on].g-100),ft=!1;else try{b5(yn,ie,"req"+st+"_")}catch{k&&k(yn)}}if(ft){k=ie.join("&");break e}}}return h=h.i.splice(0,S),x.D=h,k}function qT(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;Q||Z(),$||(Q(),$=!0),V.add(x,h),h.v=0}}function ey(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=sn(m(h.Fa,h),ZT(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,QT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=sn(m(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),_f(this),QT(this))};function ty(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function QT(h){h.g=new Ki(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=ri(h.qa);pt(x,"RID","rpc"),pt(x,"SID",h.K),pt(x,"AID",h.T),pt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&pt(x,"TO",h.ja),pt(x,"TYPE","xmlhttp"),Nu(h,x),h.m&&h.o&&Xv(x,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=vf(ri(x)),S.m=null,S.P=!0,bT(S,h)}t.Za=function(){this.C!=null&&(this.C=null,_f(this),ey(this),wt(19))};function Ef(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function YT(h,x){var S=null;if(h.g==x){Ef(h),ty(h),h.g=null;var k=2}else if(Yv(h.h,x))S=x.D,AT(h.h,x),k=1;else return;if(h.G!=0){if(x.o)if(k==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var F=h.B;k=nt(),q(k,new vs(k,S)),bf(h)}else qT(h);else if(F=x.s,F==3||F==0&&0<x.X||!(k==1&&C5(h,x)||k==2&&ey(h)))switch(S&&0<S.length&&(x=h.h,x.i=x.i.concat(S)),F){case 1:_a(h,5);break;case 4:_a(h,10);break;case 3:_a(h,6);break;default:_a(h,2)}}}function ZT(h,x){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*x}function _a(h,x){if(h.j.info("Error code "+x),x==2){var S=m(h.fb,h),k=h.Xa;const F=!k;k=new wa(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pf(k,"https"),vf(k),F?x5(k.toString(),S):w5(k.toString(),S)}else wt(2);h.G=0,h.l&&h.l.sa(x),XT(h),HT(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function XT(h){if(h.G=0,h.ka=[],h.l){const x=RT(h.h);(x.length!=0||h.i.length!=0)&&(y(h.ka,x),y(h.ka,h.i),h.h.i.length=0,v(h.i),h.i.length=0),h.l.ra()}}function JT(h,x,S){var k=S instanceof wa?ri(S):new wa(S);if(k.g!="")x&&(k.g=x+"."+k.g),gf(k,k.s);else{var F=a.location;k=F.protocol,x=x?x+"."+F.hostname:F.hostname,F=+F.port;var B=new wa(null);k&&pf(B,k),x&&(B.g=x),F&&gf(B,F),S&&(B.l=S),k=B}return S=h.D,x=h.ya,S&&x&&pt(k,S,x),pt(k,"VER",h.la),Nu(h,k),k}function eS(h,x,S){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new kt(new yf({eb:S})):new kt(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tS(){}t=tS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tf(){}Tf.prototype.g=function(h,x){return new ar(h,x)};function ar(h,x){Y.call(this),this.g=new WT(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!w(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!w(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Al(this)}E(ar,Y),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){Jv(this.g)},ar.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Wi(h),h=S);x.i.push(new c5(x.Ya++,h)),x.G==3&&bf(x)},ar.prototype.N=function(){this.g.l=null,delete this.j,Jv(this.g),delete this.g,ar.aa.N.call(this)};function nS(h){ya.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const S in x){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}E(nS,ya);function rS(){Sr.call(this),this.status=1}E(rS,Sr);function Al(h){this.g=h}E(Al,tS),Al.prototype.ua=function(){q(this.g,"a")},Al.prototype.ta=function(h){q(this.g,new nS(h))},Al.prototype.sa=function(h){q(this.g,new rS)},Al.prototype.ra=function(){q(this.g,"b")},Tf.prototype.createWebChannel=Tf.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,B2=function(){return new Tf},$2=function(){return nt()},U2=ni,Kx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hf.NO_ERROR=0,hf.TIMEOUT=8,hf.HTTP_ERROR=6,Am=hf,xT.COMPLETE="complete",F2=xT,bu.EventType=va,va.OPEN="a",va.CLOSE="b",va.ERROR="c",va.MESSAGE="d",Y.prototype.listen=Y.prototype.K,Yu=bu,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,L2=kt}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});const PC="@firebase/firestore",kC="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=new db("@firebase/firestore");function Ml(){return ll.logLevel}function ge(t,...e){if(ll.logLevel<=Qe.DEBUG){const n=e.map(Tb);ll.debug(`Firestore (${hu}): ${t}`,...n)}}function Vi(t,...e){if(ll.logLevel<=Qe.ERROR){const n=e.map(Tb);ll.error(`Firestore (${hu}): ${t}`,...n)}}function Bc(t,...e){if(ll.logLevel<=Qe.WARN){const n=e.map(Tb);ll.warn(`Firestore (${hu}): ${t}`,...n)}}function Tb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,z2(t,r,n)}function z2(t,e,n){let r=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vi(r),new Error(r)}function ct(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||z2(e,s,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class $K{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BK{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Si,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Si)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new W2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class zK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=KK(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Gx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return We(r,s);{const i=H2(),o=GK(i.encode(DC(t,n)),i.encode(DC(e,n)));return o!==0?o:We(r,s)}}n+=r>65535?2:1}return We(t.length,e.length)}function DC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function GK(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function zc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=-62135596800,OC=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*OC);return new Xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<MC)throw new Te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OC}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-MC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Xt(0,0))}static max(){return new Oe(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__name__";class _s{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _s?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_s.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return We(e.length,n.length)}static compareSegments(e,n){const r=_s.isNumericId(e),s=_s.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_s.extractNumericId(e).compare(_s.extractNumericId(n)):Gx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mo.fromString(e.substring(4,e.length-2))}}class Et extends _s{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const qK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends _s{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return qK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VC}static keyField(){return new mn([VC])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Te(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Te(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Te(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Te(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Et.fromString(e))}static fromName(e){return new Ae(Et.fromString(e).popFirst(5))}static empty(){return new Ae(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=-1;function QK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new Ho(s,Ae.empty(),e)}function YK(t){return new Ho(t.readTime,t.key,th)}class Ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ho(Oe.min(),Ae.empty(),th)}static max(){return new Ho(Oe.max(),Ae.empty(),th)}}function ZK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==XK)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new G((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function eG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=-1;function Zg(t){return t==null}function Np(t){return t===0&&1/t==-1/0}function tG(t){return typeof t=="number"&&Number.isInteger(t)&&!Np(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="";function nG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LC(e)),e=rG(t.get(n),e);return LC(e)}function rG(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case G2:n+="";break;default:n+=i}}return n}function LC(t){return t+G2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zf(this.root,e,this.comparator,!0)}}class Zf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dn.RED,this.left=s??dn.EMPTY,this.right=i??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UC(this.data.getIterator())}getIteratorFrom(e){return new UC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class UC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new pr([])}unionWith(e){let n=new Jt(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Q2("Invalid base64 string: "+i):i}}(e);return new vn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const sG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ko(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=sG.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="server_timestamp",Z2="__type__",X2="__previous_value__",J2="__local_write_time__";function Cb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z2])===null||n===void 0?void 0:n.stringValue)===Y2}function Xg(t){const e=t.mapValue.fields[X2];return Cb(e)?Xg(e):e}function nh(t){const e=Ko(t.mapValue.fields[J2].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const Pp="(default)";class rh{constructor(e,n){this.projectId=e,this.database=n||Pp}static empty(){return new rh("","")}get isDefaultDatabase(){return this.database===Pp}isEqual(e){return e instanceof rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="__type__",oG="__max__",Xf={mapValue:{}},tD="__vector__",kp="value";function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cb(t)?4:lG(t)?9007199254740991:aG(t)?10:11:Pe(28295,{value:t})}function Hs(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ko(s.timestampValue),a=Ko(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Go(s.bytesValue).isEqual(Go(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Lt(s.geoPointValue.latitude)===Lt(i.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Lt(s.integerValue)===Lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Lt(s.doubleValue),a=Lt(i.doubleValue);return o===a?Np(o)===Np(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zc(t.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(FC(o)!==FC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Hs(o[l],a[l])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function sh(t,e){return(t.values||[]).find(n=>Hs(n,e))!==void 0}function Wc(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Lt(i.integerValue||i.doubleValue),l=Lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $C(t.timestampValue,e.timestampValue);case 4:return $C(nh(t),nh(e));case 5:return Gx(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Go(i),l=Go(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=We(a[u],l[u]);if(d!==0)return d}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=We(Lt(i.latitude),Lt(o.latitude));return a!==0?a:We(Lt(i.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BC(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const f=i.fields||{},m=o.fields||{},p=(a=f[kp])===null||a===void 0?void 0:a.arrayValue,E=(l=m[kp])===null||l===void 0?void 0:l.arrayValue,v=We(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:BC(p,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Xf.mapValue&&o===Xf.mapValue)return 0;if(i===Xf.mapValue)return 1;if(o===Xf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=Gx(l[f],d[f]);if(m!==0)return m;const p=Wc(a[l[f]],u[d[f]]);if(p!==0)return p}return We(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{Pe:n})}}function $C(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Ko(t),r=Ko(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function BC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Wc(n[s],r[s]);if(i)return i}return We(n.length,r.length)}function Hc(t){return qx(t)}function qx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Go(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=qx(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${qx(n.fields[o])}`;return s+"}"}(t.mapValue):Pe(61005,{value:t})}function Rm(t){switch(qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xg(t);return e?16+Rm(e):16;case 5:return 2*t.stringValue.length;case 6:return Go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rm(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ua(r.fields,(i,o)=>{s+=i.length+Rm(o)}),s}(t.mapValue);default:throw Pe(13486,{value:t})}}function Qx(t){return!!t&&"integerValue"in t}function Ib(t){return!!t&&"arrayValue"in t}function zC(t){return!!t&&"nullValue"in t}function WC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nm(t){return!!t&&"mapValue"in t}function aG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eD])===null||n===void 0?void 0:n.stringValue)===tD}function vd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vd(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vd(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Nm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Nm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ua(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Jn(vd(this.value))}}function nD(t){const e=[];return ua(t.fields,(n,r)=>{const s=new mn([n]);if(Nm(r)){const i=nD(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new An(e,0,Oe.min(),Oe.min(),Oe.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,s){return new An(e,1,n,Oe.min(),r,s,0)}static newNoDocument(e,n){return new An(e,2,n,Oe.min(),Oe.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Oe.min(),Oe.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.position=e,this.inclusive=n}}function HC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ae.comparator(Ae.fromName(o.referenceValue),n.key):r=Wc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function KC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n="asc"){this.field=e,this.dir=n}}function cG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{}class Yt extends rD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dG(e,n,r):n==="array-contains"?new mG(e,r):n==="in"?new pG(e,r):n==="not-in"?new gG(e,r):n==="array-contains-any"?new vG(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hG(e,r):new fG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wc(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(Wc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ks extends rD{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ks(e,n)}matches(e){return sD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sD(t){return t.op==="and"}function iD(t){return uG(t)&&sD(t)}function uG(t){for(const e of t.filters)if(e instanceof Ks)return!1;return!0}function Yx(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+Hc(t.value);if(iD(t))return t.filters.map(e=>Yx(e)).join(",");{const e=t.filters.map(n=>Yx(n)).join(",");return`${t.op}(${e})`}}function oD(t,e){return t instanceof Yt?function(r,s){return s instanceof Yt&&r.op===s.op&&r.field.isEqual(s.field)&&Hs(r.value,s.value)}(t,e):t instanceof Ks?function(r,s){return s instanceof Ks&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&oD(o,s.filters[a]),!0):!1}(t,e):void Pe(19439)}function aD(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Hc(n.value)}`}(t):t instanceof Ks?function(n){return n.op.toString()+" {"+n.getFilters().map(aD).join(" ,")+"}"}(t):"Filter"}class dG extends Yt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class hG extends Yt{constructor(e,n){super(e,"in",n),this.keys=lD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fG extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=lD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class mG extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ib(n)&&sh(n.arrayValue,this.value)}}class pG extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sh(this.value.arrayValue,n)}}class gG extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sh(this.value.arrayValue,n)}}class vG extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ib(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function GC(t,e=null,n=[],r=[],s=null,i=null,o=null){return new yG(t,e,n,r,s,i,o)}function Ab(t){const e=Ve(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hc(r)).join(",")),e.Ie=n}return e.Ie}function Rb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KC(t.startAt,e.startAt)&&KC(t.endAt,e.endAt)}function Zx(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xG(t,e,n,r,s,i,o,a){return new Jg(t,e,n,r,s,i,o,a)}function Nb(t){return new Jg(t)}function qC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wG(t){return t.collectionGroup!==null}function yd(t){const e=Ve(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Jt(mn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Dp(i,r))}),n.has(mn.keyField().canonicalString())||e.Ee.push(new Dp(mn.keyField(),r))}return e.Ee}function Ms(t){const e=Ve(t);return e.de||(e.de=_G(e,yd(t))),e.de}function _G(t,e){if(t.limitType==="F")return GC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dp(s.field,i)});const n=t.endAt?new jp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jp(t.startAt.position,t.startAt.inclusive):null;return GC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xx(t,e,n){return new Jg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ev(t,e){return Rb(Ms(t),Ms(e))&&t.limitType===e.limitType}function cD(t){return`${Ab(Ms(t))}|lt:${t.limitType}`}function Ol(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>aD(s)).join(", ")}]`),Zg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Hc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Hc(s)).join(",")),`Target(${r})`}(Ms(t))}; limitType=${t.limitType})`}function tv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of yd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=HC(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,yd(r),s)||r.endAt&&!function(o,a,l){const u=HC(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,yd(r),s))}(t,e)}function bG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uD(t){return(e,n)=>{let r=!1;for(const s of yd(t)){const i=EG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function EG(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Wc(l,u):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return q2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=new Nt(Ae.comparator);function Li(){return TG}const dD=new Nt(Ae.comparator);function Zu(...t){let e=dD;for(const n of t)e=e.insert(n.key,n);return e}function hD(t){let e=dD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ja(){return xd()}function fD(){return xd()}function xd(){return new wl(t=>t.toString(),(t,e)=>t.isEqual(e))}const SG=new Nt(Ae.comparator),CG=new Jt(Ae.comparator);function Ye(...t){let e=CG;for(const n of t)e=e.add(n);return e}const IG=new Jt(We);function AG(){return IG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Np(e)?"-0":e}}function mD(t){return{integerValue:""+t}}function pD(t,e){return tG(e)?mD(e):Pb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this._=void 0}}function RG(t,e,n){return t instanceof ih?function(s,i){const o={fields:{[Z2]:{stringValue:Y2},[J2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cb(i)&&(i=Xg(i)),i&&(o.fields[X2]=i),{mapValue:o}}(n,e):t instanceof oh?vD(t,e):t instanceof ah?yD(t,e):function(s,i){const o=gD(s,i),a=QC(o)+QC(s.Re);return Qx(o)&&Qx(s.Re)?mD(a):Pb(s.serializer,a)}(t,e)}function NG(t,e,n){return t instanceof oh?vD(t,e):t instanceof ah?yD(t,e):n}function gD(t,e){return t instanceof lh?function(r){return Qx(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ih extends nv{}class oh extends nv{constructor(e){super(),this.elements=e}}function vD(t,e){const n=xD(e);for(const r of t.elements)n.some(s=>Hs(s,r))||n.push(r);return{arrayValue:{values:n}}}class ah extends nv{constructor(e){super(),this.elements=e}}function yD(t,e){let n=xD(e);for(const r of t.elements)n=n.filter(s=>!Hs(s,r));return{arrayValue:{values:n}}}class lh extends nv{constructor(e,n){super(),this.serializer=e,this.Re=n}}function QC(t){return Lt(t.integerValue||t.doubleValue)}function xD(t){return Ib(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.field=e,this.transform=n}}function PG(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof oh&&s instanceof oh||r instanceof ah&&s instanceof ah?zc(r.elements,s.elements,Hs):r instanceof lh&&s instanceof lh?Hs(r.Re,s.Re):r instanceof ih&&s instanceof ih}(t.transform,e.transform)}class kG{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rv{}function _D(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kb(t.key,jr.none()):new qh(t.key,t.data,jr.none());{const n=t.data,r=Jn.empty();let s=new Jt(mn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new da(t.key,r,new pr(s.toArray()),jr.none())}}function jG(t,e,n){t instanceof qh?function(s,i,o){const a=s.value.clone(),l=ZC(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof da?function(s,i,o){if(!Pm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=ZC(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(bD(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wd(t,e,n,r){return t instanceof qh?function(i,o,a,l){if(!Pm(i.precondition,o))return a;const u=i.value.clone(),d=XC(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof da?function(i,o,a,l){if(!Pm(i.precondition,o))return a;const u=XC(i.fieldTransforms,l,o),d=o.data;return d.setAll(bD(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Pm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function DG(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=gD(r.transform,s||null);i!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,i))}return n||null}function YC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zc(r,s,(i,o)=>PG(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qh extends rv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class da extends rv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZC(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,NG(o,a,n[s]))}return r}function XC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,RG(i,o,e))}return r}class kb extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MG extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&jG(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fD();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=_D(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,(n,r)=>YC(n,r))&&zc(this.baseMutations,e.baseMutations,(n,r)=>YC(n,r))}}class jb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ct(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return SG}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new jb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VG=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,et;function FG(t){switch(t){case X.OK:return Pe(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function ED(t){if(t===void 0)return Vi("GRPC error has no .code"),X.UNKNOWN;switch(t){case Wt.OK:return X.OK;case Wt.CANCELLED:return X.CANCELLED;case Wt.UNKNOWN:return X.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return X.INTERNAL;case Wt.UNAVAILABLE:return X.UNAVAILABLE;case Wt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Wt.NOT_FOUND:return X.NOT_FOUND;case Wt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Wt.ABORTED:return X.ABORTED;case Wt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Wt.DATA_LOSS:return X.DATA_LOSS;default:return Pe(39323,{code:t})}}(et=Wt||(Wt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new Mo([4294967295,4294967295],0);function JC(t){const e=H2().encode(t),n=new V2;return n.update(e),new Uint8Array(n.digest())}function eI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Mo([n,r],0),new Mo([s,i],0)]}class Db{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Mo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Mo.fromNumber(r)));return s.compare(UG)===1&&(s=new Mo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=JC(e),[r,s]=eI(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Db(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=JC(e),[r,s]=eI(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sv(Oe.min(),s,new Nt(We),Li(),Ye())}}class Qh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qh(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class TD{constructor(e,n){this.targetId=e,this.Ce=n}}class SD{constructor(e,n,r=vn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class tI{constructor(){this.Fe=0,this.Me=nI(),this.xe=vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ye(),n=Ye(),r=Ye();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe(38017,{changeType:i})}}),new Qh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=nI()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $G{constructor(e){this.ze=e,this.je=new Map,this.He=Li(),this.Je=Jf(),this.Ye=Jf(),this.Ze=new Nt(We)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Zx(i))if(r===0){const o=new Ae(i.path);this.tt(n,o,An.newNoDocument(o,Oe.min()))}else ct(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Go(r).toUint8Array()}catch(l){if(l instanceof Q2)return Bc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Db(o,s,i)}catch(l){return Bc(l instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Zx(a.target)){const l=new Ae(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,An.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ye();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new sv(e,n,this.Ze,this.He,r);return this.He=Li(),this.Je=Jf(),this.Ye=Jf(),this.Ze=new Nt(We),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new tI,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Jt(We),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Jt(We),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new tI),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Jf(){return new Nt(Ae.comparator)}function nI(){return new Nt(Ae.comparator)}const BG={asc:"ASCENDING",desc:"DESCENDING"},zG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WG={and:"AND",or:"OR"};class HG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jx(t,e){return t.useProto3Json||Zg(e)?e:{value:e}}function Mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KG(t,e){return Mp(t,e.toTimestamp())}function Os(t){return ct(!!t,49232),Oe.fromTimestamp(function(n){const r=Ko(n);return new Xt(r.seconds,r.nanos)}(t))}function Mb(t,e){return ew(t,e).canonicalString()}function ew(t,e){const n=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ID(t){const e=Et.fromString(t);return ct(kD(e),10190,{key:e.toString()}),e}function tw(t,e){return Mb(t.databaseId,e.path)}function qy(t,e){const n=ID(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(RD(n))}function AD(t,e){return Mb(t.databaseId,e)}function GG(t){const e=ID(t);return e.length===4?Et.emptyPath():RD(e)}function nw(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RD(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rI(t,e,n){return{name:tw(t,e),fields:n.value.mapValue.fields}}function qG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(ct(d===void 0||typeof d=="string",58123),vn.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?X.UNKNOWN:ED(u.code);return new Te(d,u.message||"")}(o);n=new SD(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qy(t,r.document.name),i=Os(r.document.updateTime),o=r.document.createTime?Os(r.document.createTime):Oe.min(),a=new Jn({mapValue:{fields:r.document.fields}}),l=An.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new km(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qy(t,r.document),i=r.readTime?Os(r.readTime):Oe.min(),o=An.newNoDocument(s,i),a=r.removedTargetIds||[];n=new km([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qy(t,r.document),i=r.removedTargetIds||[];n=new km([],i,s,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new LG(s,i),a=r.targetId;n=new TD(a,o)}}return n}function QG(t,e){let n;if(e instanceof qh)n={update:rI(t,e.key,e.value)};else if(e instanceof kb)n={delete:tw(t,e.key)};else if(e instanceof da)n={update:rI(t,e.key,e.data),updateMask:sq(e.fieldMask)};else{if(!(e instanceof MG))return Pe(16599,{ft:e.type});n={verify:tw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ih)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ah)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Pe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:KG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Pe(27497)}(t,e.precondition)),n}function YG(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Os(s.updateTime):Os(i);return o.isEqual(Oe.min())&&(o=Os(i)),new kG(o,s.transformResults||[])}(n,e))):[]}function ZG(t,e){return{documents:[AD(t,e.path)]}}function XG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AD(t,s);const i=function(u){if(u.length!==0)return PD(Ks.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Vl(m.field),direction:tq(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Jx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function JG(t){let e=GG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ct(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=ND(f);return m instanceof Ks&&iD(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(E){return new Dp(Ll(E.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Zg(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new jp(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new jp(p,m)}(n.endAt)),xG(e,s,o,i,a,"F",l,u)}function eq(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ND(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ll(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(n.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ll(n.unaryFilter.field);return Yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ll(n.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(Ll(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ks.create(n.compositeFilter.filters.map(r=>ND(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function tq(t){return BG[t]}function nq(t){return zG[t]}function rq(t){return WG[t]}function Vl(t){return{fieldPath:t.canonicalString()}}function Ll(t){return mn.fromServerFormat(t.fieldPath)}function PD(t){return t instanceof Yt?function(n){if(n.op==="=="){if(WC(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NAN"}};if(zC(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WC(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NAN"}};if(zC(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(n.field),op:nq(n.op),value:n.value}}}(t):t instanceof Ks?function(n){const r=n.getFilters().map(s=>PD(s));return r.length===1?r[0]:{compositeFilter:{op:rq(n.op),filters:r}}}(t):Pe(54877,{filter:t})}function sq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r,s,i=Oe.min(),o=Oe.min(),a=vn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.wt=e}}function oq(t){const e=JG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(){this.yn=new lq}addToCollectionParentIndex(e,n){return this.yn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Ho.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class lq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(Et.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jD=41943040;class Zn{static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(jD,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Kc(0)}static ir(){return new Kc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="LruGarbageCollector",cq=1048576;function oI([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class uq{constructor(e){this.cr=e,this.buffer=new Jt(oI),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();oI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ge(iI,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mu(n)?ge(iI,"Ignoring IndexedDB error during garbage collection: ",n):await fu(n)}await this.Ir(3e5)})}}class hq{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Yg.le);const r=new uq(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(sI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sI):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ml()<=Qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function fq(t,e){return new hq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this.changes=new wl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&wd(r.mutation,s,pr.empty(),Xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const s=ja();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Zu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ja();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Li();const o=xd(),a=function(){return xd()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof da)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),wd(d.mutation,u,d.mutation.getFieldMask(),Xt.now())):o.set(u.key,pr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new pq(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xd();let s=new Nt((o,a)=>o-a),i=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||pr.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||Ye()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=fD();d.forEach(m=>{if(!i.has(m)){const p=_D(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(ja());let a=th,l=i;return o.next(u=>G.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ye())).next(d=>({batchId:a,changes:hD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let s=Zu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Zu();return this.indexManager.getCollectionParents(e,i).next(a=>G.forEach(a,l=>{const u=function(f,m){return new Jg(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,An.newInvalidDocument(d)))});let a=Zu();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&wd(d.mutation,u,pr.empty(),Xt.now()),tv(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return G.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Os(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:oq(s.bundledQuery),readTime:Os(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.overlays=new Nt(Ae.comparator),this.Or=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ja();return G.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=ja(),i=n.length+1,o=new Ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Nt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=ja(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ja(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return G.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VG(n,r));let i=this.Or.get(n);i===void 0&&(i=Ye(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.Nr=new Jt(en.Br),this.Lr=new Jt(en.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new en(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Ae(new Et([])),r=new en(n,e),s=new en(n,e+1),i=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Ae(new Et([])),r=new en(n,e),s=new en(n,e+1);let i=Ye();return this.Lr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new en(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Ae.comparator(e.key,n.key)||We(e.Gr,n.Gr)}static kr(e,n){return We(e.Gr,n.Gr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Jt(en.Br)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OG(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.zr=this.zr.add(new en(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Sb:this.Jn-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),s=new en(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],o=>{const a=this.jr(o.Gr);i.push(a)}),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(We);return n.forEach(s=>{const i=new en(s,0),o=new en(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],a=>{r=r.add(a.Gr)})}),G.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ae.isDocumentKey(i)||(i=i.child(""));const o=new en(new Ae(i),0);let a=new Jt(We);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Gr)),!0)},o),G.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ct(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return G.forEach(n.mutations,s=>{const i=new en(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new en(n,0),s=this.zr.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.Zr=e,this.docs=function(){return new Nt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():An.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Li();const o=n.path,a=new Ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ZK(YK(d),r)<=0||(s.has(d.key)||tv(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Pe(9500)}Xr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bq(this)}getSize(e){return G.resolve(this.size)}}class bq extends mq{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.persistence=e,this.ei=new wl(n=>Ab(n),Rb),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ob,this.targetCount=0,this.ri=Kc.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),G.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.ar(n),G.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(i).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.ii={},this.overlays={},this.si=new Yg(0),this.oi=!1,this.oi=!0,this._i=new xq,this.referenceDelegate=e(this),this.ai=new Eq(this),this.indexManager=new aq,this.remoteDocumentCache=function(s){return new _q(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new iq(n),this.ci=new vq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new wq(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new Tq(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return G.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class Tq extends JK{constructor(e){super(),this.currentSequenceNumber=e}}class Vb{constructor(e){this.persistence=e,this.Ti=new Ob,this.Ii=null}static Ei(e){return new Vb(e)}get di(){if(this.Ii)return this.Ii;throw Pe(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.di,r=>{const s=Ae.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,Oe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return G.or([()=>G.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Op{constructor(e,n){this.persistence=e,this.Ri=new wl(r=>nG(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=fq(this,n)}static Ei(e,n){return new Op(e,n)}li(){}hi(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return G.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?G.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),G.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rm(e.data.value)),n}gr(e,n,r){return G.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return G.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=Ye(),s=Ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Lb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return r7()?8:eG(Pn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Sq;return this.fs(e,n,o).next(a=>{if(i.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(Ml()<=Qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),G.resolve()):(Ml()<=Qe.DEBUG&&ge("QueryEngine","Query:",Ol(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ml()<=Qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):G.resolve())}Rs(e,n){if(qC(n))return G.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xx(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ye(...i);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ps(n,a);return this.ys(n,u,o,l.readTime)?this.Rs(e,Xx(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,s){return qC(n)||s.isEqual(Oe.min())?G.resolve(null):this.As.getDocuments(e,r).next(i=>{const o=this.ps(n,i);return this.ys(n,o,r,s)?G.resolve(null):(Ml()<=Qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ol(n)),this.ws(e,o,n,QK(s,th)).next(a=>a))})}ps(e,n){let r=new Jt(uD(e));return n.forEach((s,i)=>{tv(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return Ml()<=Qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ol(n)),this.As.getDocumentsMatchingQuery(e,n,Ho.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="LocalStore",Iq=3e8;class Aq{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Nt(We),this.Ds=new wl(i=>Ab(i),Rb),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gq(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function Rq(t,e,n,r){return new Aq(t,e,n,r)}async function MD(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ye();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:a}))})})}function Nq(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,m=f.keys();let p=G.resolve();return m.forEach(E=>{p=p.next(()=>d.getEntry(l,E)).next(v=>{const y=u.docVersions.get(E);ct(y!==null,48541),v.version.compareTo(y)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function OD(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Pq(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.ai.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(vn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(v,y,_){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Iq?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,p,d)&&a.push(n.ai.updateTargetData(i,p))});let l=Li(),u=Ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(kq(i,o,e.documentUpdates).next(d=>{l=d.xs,u=d.Os})),!r.isEqual(Oe.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(f=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return G.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ss=s,i))}function kq(t,e,n){let r=Ye(),s=Ye();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Li();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge(Fb,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:s}})}function jq(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dq(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,G.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new Eo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function rw(t,e,n){const r=Ve(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!mu(o))throw o;ge(Fb,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function aI(t,e,n){const r=Ve(t);let s=Oe.min(),i=Ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=Ve(l),m=f.Ds.get(d);return m!==void 0?G.resolve(f.Ss.get(m)):f.ai.getTargetData(u,d)}(r,o,Ms(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:Oe.min(),n?i:Ye())).next(a=>(Mq(r,bG(e),a),{documents:a,Ns:i})))}function Mq(t,e,n){let r=t.vs.get(e)||Oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class lI{constructor(){this.activeTargetIds=AG()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Oq{constructor(){this.So=new lI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new lI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="ConnectivityMonitor";class uI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ge(cI,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ge(cI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em=null;function sw(){return em===null?em=function(){return 268435456+Math.round(2147483648*Math.random())}():em++,"0x"+em.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="RestConnection",Lq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fq{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Pp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const o=sw(),a=this.$o(e,n.toUriEncodedString());ge(Qy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,s,i),this.Ko(e,a,l,r).then(u=>(ge(Qy,`Received RPC '${e}' ${o}: `,u),u),u=>{throw Bc(Qy,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Wo(e,n,r,s,i,o){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=Lq[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class $q extends Fq{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s){const i=sw();return new Promise((o,a)=>{const l=new L2;l.setWithCredentials(!0),l.listenOnce(F2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Am.NO_ERROR:const d=l.getResponseJson();ge(En,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Am.TIMEOUT:ge(En,`RPC '${e}' ${i} timed out`),a(new Te(X.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const f=l.getStatus();if(ge(En,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const E=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_)>=0?_:X.UNKNOWN}(p.status);a(new Te(E,p.message))}else a(new Te(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Te(X.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{s_:e,streamId:i,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{ge(En,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ge(En,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}a_(e,n,r){const s=sw(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=B2(),a=$2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ge(En,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,p=!1;const E=new Uq({Go:y=>{p?ge(En,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(m||(ge(En,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),ge(En,`RPC '${e}' stream ${s} sending:`,y),f.send(y))},zo:()=>f.close()}),v=(y,_,w)=>{y.listen(_,b=>{try{w(b)}catch(A){setTimeout(()=>{throw A},0)}})};return v(f,Yu.EventType.OPEN,()=>{p||(ge(En,`RPC '${e}' stream ${s} transport opened.`),E.t_())}),v(f,Yu.EventType.CLOSE,()=>{p||(p=!0,ge(En,`RPC '${e}' stream ${s} transport closed`),E.r_())}),v(f,Yu.EventType.ERROR,y=>{p||(p=!0,Bc(En,`RPC '${e}' stream ${s} transport errored. Name:`,y.name,"Message:",y.message),E.r_(new Te(X.UNAVAILABLE,"The operation could not be completed")))}),v(f,Yu.EventType.MESSAGE,y=>{var _;if(!p){const w=y.data[0];ct(!!w,16349);const b=w,A=(b==null?void 0:b.error)||((_=b[0])===null||_===void 0?void 0:_.error);if(A){ge(En,`RPC '${e}' stream ${s} received error:`,A);const P=A.status;let M=function(I){const R=Wt[I];if(R!==void 0)return ED(R)}(P),C=A.message;M===void 0&&(M=X.INTERNAL,C="Unknown error status: "+P+" with message "+A.message),p=!0,E.r_(new Te(M,C)),f.close()}else ge(En,`RPC '${e}' stream ${s} received:`,w),E.i_(w)}}),v(a,U2.STAT_EVENT,y=>{y.stat===Kx.PROXY?ge(En,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Kx.NOPROXY&&ge(En,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}}function Yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){return new HG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="PersistentStream";class LD{constructor(e,n,r,s,i,o,a,l){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new VD(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new Te(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ge(dI,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ge(dI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bq extends LD{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=qG(this.serializer,e),r=function(i){if(!("targetChange"in i))return Oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Os(o.readTime):Oe.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=nw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Zx(l)?{documents:ZG(i,l)}:{query:XG(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CD(i,o.resumeToken);const u=Jx(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Oe.min())>0){a.readTime=Mp(i,o.snapshotVersion.toTimestamp());const u=Jx(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=eq(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=nw(this.serializer),n.removeTarget=e,this.F_(n)}}class zq extends LD{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=YG(e.writeResults,e.commitTime),r=Os(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=nw(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>QG(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{}class Hq extends Wq{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new Te(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,ew(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Te(X.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,ew(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(X.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Kq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Vi(n),this.ea=!1):ge("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="RemoteStore";class Gq{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{r.enqueueAndForget(async()=>{_l(this)&&(ge(cl,"Restarting streams for network reachability change."),await async function(l){const u=Ve(l);u.aa.add(4),await Yh(u),u.la.set("Unknown"),u.aa.delete(4),await ov(u)}(this))})}),this.la=new Kq(r,s)}}async function ov(t){if(_l(t))for(const e of t.ua)await e(!0)}async function Yh(t){for(const e of t.ua)await e(!1)}function FD(t,e){const n=Ve(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),zb(n)?Bb(n):pu(n).b_()&&$b(n,e))}function Ub(t,e){const n=Ve(t),r=pu(n);n._a.delete(e),r.b_()&&UD(n,e),n._a.size===0&&(r.b_()?r.v_():_l(n)&&n.la.set("Unknown"))}function $b(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pu(t).U_(e)}function UD(t,e){t.ha.Ke(e),pu(t).K_(e)}function Bb(t){t.ha=new $G({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),pu(t).start(),t.la.ta()}function zb(t){return _l(t)&&!pu(t).w_()&&t._a.size>0}function _l(t){return Ve(t).aa.size===0}function $D(t){t.ha=void 0}async function qq(t){t.la.set("Online")}async function Qq(t){t._a.forEach((e,n)=>{$b(t,e)})}async function Yq(t,e){$D(t),zb(t)?(t.la.ia(e),Bb(t)):t.la.set("Unknown")}async function Zq(t,e,n){if(t.la.set("Online"),e instanceof SD&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s._a.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s._a.delete(a),s.ha.removeTarget(a))}(t,e)}catch(r){ge(cl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vp(t,r)}else if(e instanceof km?t.ha.Xe(e):e instanceof TD?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Oe.min()))try{const r=await OD(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ha.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i._a.get(u);d&&i._a.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i._a.get(l);if(!d)return;i._a.set(l,d.withResumeToken(vn.EMPTY_BYTE_STRING,d.snapshotVersion)),UD(i,l);const f=new Eo(d.target,l,u,d.sequenceNumber);$b(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ge(cl,"Failed to raise snapshot:",r),await Vp(t,r)}}async function Vp(t,e,n){if(!mu(e))throw e;t.aa.add(1),await Yh(t),t.la.set("Offline"),n||(n=()=>OD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge(cl,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await ov(t)})}function BD(t,e){return e().catch(n=>Vp(t,n,e))}async function av(t){const e=Ve(t),n=Qo(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Sb;for(;Xq(e);)try{const s=await jq(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,Jq(e,s)}catch(s){await Vp(e,s)}zD(e)&&WD(e)}function Xq(t){return _l(t)&&t.oa.length<10}function Jq(t,e){t.oa.push(e);const n=Qo(t);n.b_()&&n.W_&&n.G_(e.mutations)}function zD(t){return _l(t)&&!Qo(t).w_()&&t.oa.length>0}function WD(t){Qo(t).start()}async function eQ(t){Qo(t).H_()}async function tQ(t){const e=Qo(t);for(const n of t.oa)e.G_(n.mutations)}async function nQ(t,e,n){const r=t.oa.shift(),s=jb.from(r,e,n);await BD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await av(t)}async function rQ(t,e){e&&Qo(t).W_&&await async function(r,s){if(function(o){return FG(o)&&o!==X.ABORTED}(s.code)){const i=r.oa.shift();Qo(r).D_(),await BD(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await av(r)}}(t,e),zD(t)&&WD(t)}async function hI(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ge(cl,"RemoteStore received new credentials");const r=_l(n);n.aa.add(3),await Yh(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await ov(n)}async function sQ(t,e){const n=Ve(t);e?(n.aa.delete(2),await ov(n)):e||(n.aa.add(2),await Yh(n),n.la.set("Unknown"))}function pu(t){return t.Pa||(t.Pa=function(n,r,s){const i=Ve(n);return i.Y_(),new Bq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:qq.bind(null,t),Jo:Qq.bind(null,t),Zo:Yq.bind(null,t),Q_:Zq.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),zb(t)?Bb(t):t.la.set("Unknown")):(await t.Pa.stop(),$D(t))})),t.Pa}function Qo(t){return t.Ta||(t.Ta=function(n,r,s){const i=Ve(n);return i.Y_(),new zq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:eQ.bind(null,t),Zo:rQ.bind(null,t),z_:tQ.bind(null,t),j_:nQ.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await av(t)):(await t.Ta.stop(),t.oa.length>0&&(ge(cl,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Wb(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hb(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),mu(t))return new Te(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{static emptySet(e){return new yc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Zu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.Ia=new Nt(Ae.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Pe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gc{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gc(e,n,yc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class oQ{constructor(){this.queries=mI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=Ve(n),i=s.queries;s.queries=mI(),i.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new Te(X.ABORTED,"Firestore shutting down"))}}function mI(){return new wl(t=>cD(t),ev)}async function HD(t,e){const n=Ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new iQ,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Hb(o,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&Kb(n)}async function KD(t,e){const n=Ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aQ(t,e){const n=Ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Ra)a.pa(s)&&(r=!0);o.Aa=s}}r&&Kb(n)}function lQ(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function Kb(t){t.fa.forEach(e=>{e.next()})}var iw,pI;(pI=iw||(iw={})).ya="default",pI.Cache="cache";class GD{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==iw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.key=e}}class QD{constructor(e){this.key=e}}class cQ{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ye(),this.mutatedKeys=Ye(),this.Ua=uD(e),this.Ka=new yc(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new fI,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=tv(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;m&&p?m.data.isEqual(p.data)?E!==v&&(r.track({type:3,doc:p}),y=!0):this.ja(m,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Ua(p,l)>0||u&&this.Ua(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),y=!0):m&&!p&&(r.track({type:1,doc:m}),y=!0,(l||u)&&(a=!0)),y&&(p?(o=o.add(p),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(p,E){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:y})}};return v(p)-v(E)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(r),s=s!=null&&s;const a=n&&!s?this.Ja():[],l=this.$a.size===0&&this.current&&!s?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new Gc(this.query,e.Ka,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new fI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ye(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new QD(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new qD(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Ye();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Gc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Gb="SyncEngine";class uQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dQ{constructor(e){this.key=e,this.tu=!1}}class hQ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new wl(a=>cD(a),ev),this.iu=new Map,this.su=new Set,this.ou=new Nt(Ae.comparator),this._u=new Map,this.au=new Ob,this.uu={},this.cu=new Map,this.lu=Kc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function fQ(t,e,n=!0){const r=tM(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await YD(r,e,n,!0),s}async function mQ(t,e){const n=tM(t);await YD(n,e,!0,!1)}async function YD(t,e,n,r){const s=await Dq(t.localStore,Ms(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await pQ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&FD(t.remoteStore,s),a}async function pQ(t,e,n,r,s){t.Pu=(f,m,p)=>async function(v,y,_,w){let b=y.view.Ga(_);b.ys&&(b=await aI(v.localStore,y.query,!1).then(({documents:C})=>y.view.Ga(C,b)));const A=w&&w.targetChanges.get(y.targetId),P=w&&w.targetMismatches.get(y.targetId)!=null,M=y.view.applyChanges(b,v.isPrimaryClient,A,P);return vI(v,y.targetId,M.Ya),M.snapshot}(t,f,m,p);const i=await aI(t.localStore,e,!0),o=new cQ(e,i.Ns),a=o.Ga(i.documents),l=Qh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);vI(t,n,u.Ya);const d=new uQ(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function gQ(t,e,n){const r=Ve(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(o=>!ev(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ub(r.remoteStore,s.targetId),ow(r,s.targetId)}).catch(fu)):(ow(r,s.targetId),await rw(r.localStore,s.targetId,!0))}async function vQ(t,e){const n=Ve(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ub(n.remoteStore,r.targetId))}async function yQ(t,e,n){const r=SQ(t);try{const s=await function(o,a){const l=Ve(o),u=Xt.now(),d=a.reduce((p,E)=>p.add(E.key),Ye());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let E=Li(),v=Ye();return l.Cs.getEntries(p,d).next(y=>{E=y,E.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,E)).next(y=>{f=y;const _=[];for(const w of a){const b=DG(w,f.get(w.key).overlayedDocument);b!=null&&_.push(new da(w.key,b,nD(b.value.mapValue),jr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(y=>{m=y;const _=y.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)})}).then(()=>({batchId:m.batchId,changes:hD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.uu[o.currentUser.toKey()];u||(u=new Nt(We)),u=u.insert(a,l),o.uu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Zh(r,s.changes),await av(r.remoteStore)}catch(s){const i=Hb(s,"Failed to persist write");n.reject(i)}}async function ZD(t,e){const n=Ve(t);try{const r=await Pq(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n._u.get(i);o&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?ct(o.tu,14607):s.removedDocuments.size>0&&(ct(o.tu,42227),o.tu=!1))}),await Zh(n,r,e)}catch(r){await fu(r)}}function gI(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,o)=>{const a=o.view.ga(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ve(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const m of f.Ra)m.ga(a)&&(u=!0)}),u&&Kb(l)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xQ(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let o=new Nt(Ae.comparator);o=o.insert(i,An.newNoDocument(i,Oe.min()));const a=Ye().add(i),l=new sv(Oe.min(),new Map,new Nt(We),o,a);await ZD(r,l),r.ou=r.ou.remove(i),r._u.delete(e),qb(r)}else await rw(r.localStore,e,!1).then(()=>ow(r,e,n)).catch(fu)}async function wQ(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await Nq(n.localStore,e);JD(n,r,null),XD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zh(n,s)}catch(s){await fu(s)}}async function _Q(t,e,n){const r=Ve(t);try{const s=await function(o,a){const l=Ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ct(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);JD(r,e,n),XD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zh(r,s)}catch(s){await fu(s)}}function XD(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function JD(t,e,n){const r=Ve(t);let s=r.uu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function ow(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||eM(t,r)})}function eM(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Ub(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),qb(t))}function vI(t,e,n){for(const r of n)r instanceof qD?(t.au.addReference(r.key,e),bQ(t,r)):r instanceof QD?(ge(Gb,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||eM(t,r.key)):Pe(19791,{Iu:r})}function bQ(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(ge(Gb,"New document in limbo: "+n),t.su.add(r),qb(t))}function qb(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Ae(Et.fromString(e)),r=t.lu.next();t._u.set(r,new dQ(n)),t.ou=t.ou.insert(n,r),FD(t.remoteStore,new Eo(Ms(Nb(n.path)),r,"TargetPurposeLimboResolution",Yg.le))}}async function Zh(t,e,n){const r=Ve(t),s=[],i=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Lb.Ps(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(l,u){const d=Ve(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(u,m=>G.forEach(m.ls,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>G.forEach(m.hs,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!mu(f))throw f;ge(Fb,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.Ss.get(m),E=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(E);d.Ss=d.Ss.insert(m,v)}}}(r.localStore,i))}async function EQ(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ge(Gb,"User change. New user:",e.toKey());const r=await MD(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(a=>{a.forEach(l=>{l.reject(new Te(X.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zh(n,r.Ms)}}function TQ(t,e){const n=Ve(t),r=n._u.get(e);if(r&&r.tu)return Ye().add(r.key);{let s=Ye();const i=n.iu.get(e);if(!i)return s;for(const o of i){const a=n.ru.get(o);s=s.unionWith(a.view.Wa)}return s}}function tM(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xQ.bind(null,e),e.nu.Q_=aQ.bind(null,e.eventManager),e.nu.Tu=lQ.bind(null,e.eventManager),e}function SQ(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_Q.bind(null,e),e}class Lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=iv(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return Rq(this.persistence,new Cq,e.initialUser,this.serializer)}Ru(e){return new DD(Vb.Ei,this.serializer)}Au(e){return new Oq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lp.provider={build:()=>new Lp};class CQ extends Lp{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){ct(this.persistence.referenceDelegate instanceof Op,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dq(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new DD(r=>Op.Ei(r,n),this.serializer)}}class aw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EQ.bind(null,this.syncEngine),await sQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oQ}()}createDatastore(e){const n=iv(e.databaseInfo.databaseId),r=function(i){return new $q(i)}(e.databaseInfo);return function(i,o,a,l){return new Hq(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Gq(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gI(this.syncEngine,n,0),function(){return uI.C()?new uI:new Vq}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const f=new hQ(s,i,o,a,l,u);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ve(s);ge(cl,"RemoteStore shutting down."),i.aa.add(5),await Yh(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}aw.provider={build:()=>new aw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="FirestoreClient";class IQ{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=K2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ge(Yo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ge(Yo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zy(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await MD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AQ(t);ge(Yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>hI(e.remoteStore,s)),t._onlineComponents=e}async function AQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Yo,"Using user provided OfflineComponentProvider");try{await Zy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Bc("Error using user provided cache. Falling back to memory cache: "+n),await Zy(t,new Lp)}}else ge(Yo,"Using default OfflineComponentProvider"),await Zy(t,new CQ(void 0));return t._offlineComponents}async function rM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Yo,"Using user provided OnlineComponentProvider"),await yI(t,t._uninitializedComponentsProvider._online)):(ge(Yo,"Using default OnlineComponentProvider"),await yI(t,new aw))),t._onlineComponents}function RQ(t){return rM(t).then(e=>e.syncEngine)}async function sM(t){const e=await rM(t),n=e.eventManager;return n.onListen=fQ.bind(null,e.syncEngine),n.onUnlisten=gQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vQ.bind(null,e.syncEngine),n}function NQ(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new nM({next:m=>{d.yu(),o.enqueueAndForget(()=>KD(i,f));const p=m.docs.has(a);!p&&m.fromCache?u.reject(new Te(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new Te(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new GD(Nb(a.path),d,{includeMetadataChanges:!0,Fa:!0});return HD(i,f)}(await sM(t),t.asyncQueue,e,n,r)),r.promise}function PQ(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new nM({next:m=>{d.yu(),o.enqueueAndForget(()=>KD(i,f)),m.fromCache&&l.source==="server"?u.reject(new Te(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new GD(a,d,{includeMetadataChanges:!0,Fa:!0});return HD(i,f)}(await sM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e,n){if(!n)throw new Te(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kQ(t,e,n,r){if(e===!0&&r===!0)throw new Te(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wI(t){if(!Ae.isDocumentKey(t))throw new Te(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _I(t){if(Ae.isDocumentKey(t))throw new Te(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qb(t);throw new Te(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="firestore.googleapis.com",bI=!0;class EI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aM,this.ssl=bI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cq)throw new Te(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UK;switch(r.type){case"firstParty":return new WK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xI.get(n);r&&(ge("ComponentProvider","Removing Datastore"),xI.delete(n),r.terminate())}(this),Promise.resolve()}}function jQ(t,e,n,r={}){var s;const i=(t=hs(t,lv))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==aM&&i.host!==a&&Bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!rl(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Cn.MOCK_USER;else{u=Xj(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Te(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Cn(f)}t._authCredentials=new $K(new W2(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cv(this.firestore,e,this._query)}}class sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class Oo extends cv{constructor(e,n,r){super(e,n,Nb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Ae(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function ws(t,e,...n){if(t=Gt(t),oM("collection","path",e),t instanceof lv){const r=Et.fromString(e,...n);return _I(r),new Oo(t,null,r)}{if(!(t instanceof sr||t instanceof Oo))throw new Te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return _I(r),new Oo(t.firestore,null,r)}}function hr(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=K2.newId()),oM("doc","path",e),t instanceof lv){const r=Et.fromString(e,...n);return wI(r),new sr(t,null,new Ae(r))}{if(!(t instanceof sr||t instanceof Oo))throw new Te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return wI(r),new sr(t.firestore,t instanceof Oo?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="AsyncQueue";class SI{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new VD(this,"async_queue_retry"),this.ju=()=>{const r=Yy();r&&ge(TI,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Yy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Si;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!mu(e))throw e;ge(TI,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Vi("INTERNAL UNHANDLED ERROR: ",CI(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=Wb.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&Pe(47125,{ec:CI(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function CI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bl extends lv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new SI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SI(e),this._firestoreClient=void 0,await e}}}function DQ(t,e){const n=typeof t=="object"?t:Bh(),r=typeof t=="string"?t:Pp,s=Hg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Qj("firestore");i&&jQ(s,...i)}return s}function Yb(t){if(t._terminated)throw new Te(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MQ(t),t._firestoreClient}function MQ(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new iG(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iM(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new IQ(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(vn.fromBase64String(e))}catch(n){throw new Te(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qc(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=/^__.*__$/;class VQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new qh(e,this.data,n,this.fieldTransforms)}}class lM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{oc:t})}}class Jb{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Jb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Fp(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(cM(this.oc)&&OQ.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class LQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||iv(e)}dc(e,n,r,s=!1){return new Jb({oc:e,methodName:n,Ec:r,path:mn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eE(t){const e=t._freezeSettings(),n=iv(t._databaseId);return new LQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uM(t,e,n,r,s,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,s);rE("Data must be an object, but it was:",o,r);const a=dM(r,o);let l,u;if(i.merge)l=new pr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=lw(e,f,n);if(!o.contains(m))throw new Te(X.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);fM(d,m)||d.push(m)}l=new pr(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new VQ(new Jn(a),l,u)}class dv extends Xh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dv}}class tE extends Xh{_toFieldTransform(e){return new wD(e.path,new ih)}isEqual(e){return e instanceof tE}}class nE extends Xh{constructor(e,n){super(e),this.Rc=n}_toFieldTransform(e){const n=new lh(e.serializer,pD(e.serializer,this.Rc));return new wD(e.path,n)}isEqual(e){return e instanceof nE&&this.Rc===e.Rc}}function FQ(t,e,n,r){const s=t.dc(1,e,n);rE("Data must be an object, but it was:",s,r);const i=[],o=Jn.empty();ua(r,(l,u)=>{const d=sE(e,l,n);u=Gt(u);const f=s.hc(d);if(u instanceof dv)i.push(d);else{const m=hv(u,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new pr(i);return new lM(o,a,s.fieldTransforms)}function UQ(t,e,n,r,s,i){const o=t.dc(1,e,n),a=[lw(e,r,n)],l=[s];if(i.length%2!=0)throw new Te(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(lw(e,i[m])),l.push(i[m+1]);const u=[],d=Jn.empty();for(let m=a.length-1;m>=0;--m)if(!fM(u,a[m])){const p=a[m];let E=l[m];E=Gt(E);const v=o.hc(p);if(E instanceof dv)u.push(p);else{const y=hv(E,v);y!=null&&(u.push(p),d.set(p,y))}}const f=new pr(u);return new lM(d,f,o.fieldTransforms)}function hv(t,e){if(hM(t=Gt(t)))return rE("Unsupported field value:",e,t),dM(t,e);if(t instanceof Xh)return function(r,s){if(!cM(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=hv(a,s.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xt.fromDate(r);return{timestampValue:Mp(s.serializer,i)}}if(r instanceof Xt){const i=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mp(s.serializer,i)}}if(r instanceof Zb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qc)return{bytesValue:CD(s.serializer,r._byteString)};if(r instanceof sr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xb)return function(o,a){return{mapValue:{fields:{[eD]:{stringValue:tD},[kp]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return Pb(a.serializer,u)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${Qb(r)}`)}(t,e)}function dM(t,e){const n={};return q2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,(r,s)=>{const i=hv(s,e.uc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function hM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof Zb||t instanceof qc||t instanceof sr||t instanceof Xh||t instanceof Xb)}function rE(t,e,n){if(!hM(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Qb(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function lw(t,e,n){if((e=Gt(e))instanceof uv)return e._internalPath;if(typeof e=="string")return sE(t,e);throw Fp("Field path arguments must be of type string or ",t,!1,void 0,n)}const $Q=new RegExp("[~\\*/\\[\\]]");function sE(t,e,n){if(e.search($Q)>=0)throw Fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uv(...e.split("."))._internalPath}catch{throw Fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Te(X.INVALID_ARGUMENT,a+t+l)}function fM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BQ extends mM{data(){return super.data()}}function pM(t,e){return typeof e=="string"?sE(t,e):e instanceof uv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WQ{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[kp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Lt(o.doubleValue));return new Xb(i)}convertGeoPoint(e){return new Zb(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const n=Ko(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ct(kD(r),9688,{name:e});const s=new rh(r.get(1),r.get(3)),i=new Ae(r.popFirst(5));return s.isEqual(n)||Vi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vM extends mM{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jm extends vM{data(e={}){return super.data(e)}}class HQ{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ju(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jm(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new jm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ju(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new jm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ju(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:KQ(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){t=hs(t,sr);const e=hs(t.firestore,bl);return NQ(Yb(e),t._key).then(n=>YQ(e,t,n))}class yM extends WQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,n)}}function GQ(t){t=hs(t,cv);const e=hs(t.firestore,bl),n=Yb(e),r=new yM(e);return zQ(t._query),PQ(n,t._query).then(s=>new HQ(e,r,t,s))}function qQ(t,e,n){t=hs(t,sr);const r=hs(t.firestore,bl),s=gM(t.converter,e);return fv(r,[uM(eE(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,jr.none())])}function lr(t,e,n,...r){t=hs(t,sr);const s=hs(t.firestore,bl),i=eE(s);let o;return o=typeof(e=Gt(e))=="string"||e instanceof uv?UQ(i,"updateDoc",t._key,e,n,r):FQ(i,"updateDoc",t._key,e),fv(s,[o.toMutation(t._key,jr.exists(!0))])}function QQ(t){return fv(hs(t.firestore,bl),[new kb(t._key,jr.none())])}function ci(t,e){const n=hs(t.firestore,bl),r=hr(t),s=gM(t.converter,e);return fv(n,[uM(eE(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}function fv(t,e){return function(r,s){const i=new Si;return r.asyncQueue.enqueueAndForget(async()=>yQ(await RQ(r),s,i)),i.promise}(Yb(t),e)}function YQ(t,e,n){const r=n.docs.get(e._key),s=new yM(t);return new vM(t,s,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}function cn(){return new tE("serverTimestamp")}function ZQ(t){return new nE("increment",t)}(function(e,n=!0){(function(s){hu=s})(xl),il(new Wo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new bl(new BK(r.getProvider("auth-internal")),new HK(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Te(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ks(PC,kC,e),ks(PC,kC,"esm2017")})();var XQ="firebase",JQ="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(XQ,JQ,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="firebasestorage.googleapis.com",eY="storageBucket",tY=2*60*1e3,nY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Zs{constructor(e,n,r=0){super(Xy(e),`Firebase Storage: ${n} (${Xy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ei.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gs||(Gs={}));function Xy(t){return"storage/"+t}function rY(){const t="An unknown error occurred, please check the error payload for server response.";return new ei(Gs.UNKNOWN,t)}function sY(){return new ei(Gs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iY(){return new ei(Gs.CANCELED,"User canceled the upload/download.")}function oY(t){return new ei(Gs.INVALID_URL,"Invalid URL '"+t+"'.")}function aY(t){return new ei(Gs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function II(t){return new ei(Gs.INVALID_ARGUMENT,t)}function wM(){return new ei(Gs.APP_DELETED,"The Firebase app was deleted.")}function lY(t){return new ei(Gs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(r.path==="")return r;throw aY(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${s}/o${m}`,"i"),E={bucket:1,path:3},v=n===xM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${y}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:p,indices:E,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<b.length;A++){const P=b[A],M=P.regex.exec(e);if(M){const C=M[P.indices.bucket];let T=M[P.indices.path];T||(T=""),r=new ns(C,T),P.postModify(r);break}}if(r==null)throw oY(e);return r}}class cY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function f(y){s=setTimeout(()=>{s=null,t(p,l())},y)}function m(){i&&clearTimeout(i)}function p(y,..._){if(u){m();return}if(y){m(),d.call(null,y,..._);return}if(l()||o){m(),d.call(null,y,..._);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,f(b)}let E=!1;function v(y){E||(E=!0,m(),!u&&(s!==null?(y||(a=2),clearTimeout(s),f(0)):y||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function dY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(t){return t!==void 0}function AI(t,e,n,r){if(r<e)throw II(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw II(`Invalid value for '${t}'. Expected ${n} or less.`)}function fY(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Up;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Up||(Up={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e,n,r,s,i,o,a,l,u,d,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,E)=>{this.resolve_=p,this.reject_=E,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new tm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Up.NO_ERROR,l=i.getStatus();if(!a||mY(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Up.ABORT;r(!1,new tm(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new tm(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());hY(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=rY();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?wM():iY();o(l)}else{const l=sY();o(l)}};this.canceled_?n(!1,new tm(!1,null,!0)):this.backoffId_=uY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function xY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wY(t,e,n,r,s,i,o=!0){const a=fY(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return yY(u,e),gY(u,n),vY(u,i),xY(u,r),new pY(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $p(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bY(this._location.path)}get storage(){return this._service}get parent(){const e=_Y(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new $p(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lY(e)}}function RI(t,e){const n=e==null?void 0:e[eY];return n==null?null:ns.makeFromBucketSpec(n,t)}function EY(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Xj(s,t.app.options.projectId))}class TY{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=xM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tY,this._maxUploadRetryTime=nY,this._requests=new Set,s!=null?this._bucket=ns.makeFromBucketSpec(s,this._host):this._bucket=RI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=RI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $p(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new cY(wM());{const o=wY(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const NI="@firebase/storage",PI="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="storage";function SY(t=Bh(),e){t=Gt(t);const r=Hg(t,_M).getImmediate({identifier:e}),s=Qj("storage");return s&&CY(r,...s),r}function CY(t,e,n,r={}){EY(t,e,n,r)}function IY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new TY(n,r,s,e,xl)}function AY(){il(new Wo(_M,IY,"PUBLIC").setMultipleInstances(!0)),ks(NI,PI,""),ks(NI,PI,"esm2017")}AY();const RY={apiKey:"AIzaSyC52svDmVusLYswOmZqFhB8BwlvVAlr4As",authDomain:"ibmec-jr-solucoes.firebaseapp.com",projectId:"ibmec-jr-solucoes",storageBucket:"ibmec-jr-solucoes.appspot.com",messagingSenderId:"787954916425",appId:"1:787954916425:web:826c5ef12de4c207f13398"},iE=uW().length?Bh():fb(RY),bs=Eb(iE),Dt=DQ(iE);SY(iE);const NY=async(t,e)=>{try{console.log(`Iniciando processamento de imagem para usuário: ${t}`);const n=Math.round(e.length*3/4),r=8e5;if(n>r)throw new Error(`Imagem muito grande (${Math.round(n/1024)}KB). Máximo permitido: ${Math.round(r/1024)}KB`);if(t.startsWith("temp_"))return console.log("ID temporário detectado, retornando imagem processada localmente"),e;const s=hr(Dt,"users",t);if(!(await Jh(s)).exists())throw new Error(`Usuário com ID ${t} não encontrado`);return await lr(s,{avatarUrl:e,avatarUpdatedAt:cn()}),console.log(`Imagem salva com sucesso para usuário ${t} diretamente no Firestore`),e}catch(n){throw console.error("Erro ao salvar imagem base64:",n),n}},PY=async(t,e)=>{try{const n=await kY(e);return await NY(t,n)}catch(n){throw console.error("Erro ao fazer upload da imagem de perfil:",n),n}},kY=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=s=>n(s)}),bM=g.createContext(void 0),ha=()=>{const t=g.useContext(bM);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t},jY=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!0),a=la();g.useEffect(()=>{CH(bs,A2).catch(v=>{console.error("Erro ao configurar persistência:",v)})},[]);const l=(r==null?void 0:r.isPowerUser)===!0,u=(r==null?void 0:r.isAdmin)===!0,d=async v=>{try{const y=hr(Dt,"users",v),_=await Jh(y);if(_.exists()){const w=_.data();return console.log("Dados do usuário carregados:",{id:_.id,isAdmin:w.isAdmin,isPowerUser:w.isPowerUser,status:w.status}),s({id:_.id,...w}),w.status==="Banido"?(Ce.error("Esta conta foi desativada pelo administrador. Entre em contato para mais informações."),await Sm(bs),a("/login"),null):w}else return console.warn("Documento do usuário não encontrado no Firestore"),null}catch(y){return console.error("Erro ao carregar dados do usuário:",y),null}};g.useEffect(()=>(o(!0),console.log("Iniciando verificação de autenticação..."),RH(bs,async y=>{console.log("Estado de autenticação alterado:",y?"Usuário autenticado":"Sem usuário"),n(y),y?await d(y.uid):s(null),o(!1)})),[a]);const E={currentUser:e,userData:r,isAdmin:u,isPowerUser:l,isLoading:i,signIn:async(v,y)=>{try{if(v==="admin@ibmecjr.com"||v==="admin@ibmecjrsolucoes.com.br"){if(y!=="123456")throw Ce.error("Senha incorreta. Para o usuário de demonstração, utilize a senha: 123456"),new Error("Credenciais inválidas para o usuário de demonstração");v="admin@ibmecjrsolucoes.com.br"}console.log("Tentando login com:",{email:v});const _=await SH(bs,v,y),w=await d(_.user.uid);if((w==null?void 0:w.status)==="Banido"){Ce.error("Sua conta foi desativada. Entre em contato com o administrador."),await Sm(bs);return}a("/dashboard")}catch(_){throw console.error("Erro no login:",_),_.code==="auth/invalid-credential"?Ce.error("Email ou senha incorretos"):_.code==="auth/too-many-requests"?Ce.error("Muitas tentativas de login. Aguarde um momento e tente novamente."):_.code==="auth/user-not-found"?Ce.error("Usuário não encontrado. Verifique o email informado."):_.code==="auth/invalid-email"?Ce.error("Formato de email inválido."):Ce.error("Erro ao fazer login. Tente novamente."),_}},signOut:async()=>{try{await Sm(bs),a("/login")}catch(v){throw console.error("Erro ao fazer logout:",v),v}},sendPasswordResetEmail:async v=>{try{await Gg(bs,v)}catch(y){throw console.error("Erro ao enviar email de recuperação:",y),y}}};return c.jsx(bM.Provider,{value:E,children:t})},EM=g.createContext({collapsed:!1,setCollapsed:()=>{}}),DY=({to:t,icon:e,label:n,isCollapsed:r,showTooltip:s=!0})=>{const o=Bi().pathname===t,{setCollapsed:a}=g.useContext(EM),l=c.jsxs(L_,{to:t,className:le("sidebar-link flex items-center gap-3 rounded-md px-3 py-2.5 text-sm font-medium transition-colors",o?"bg-white/20 text-white font-medium":"text-white/80 hover:bg-white/10 hover:text-white",r?"justify-center px-2":""),children:[c.jsx(e,{size:20,className:"text-white"}),!r&&c.jsx("span",{children:n})]});return r&&s?c.jsxs(S8,{delayDuration:300,children:[c.jsx(C8,{asChild:!0,children:l}),c.jsx(jj,{side:"right",className:"bg-gray-800 text-white border-0",children:n})]}):l},MY=({title:t,items:e,isCollapsed:n})=>{const[r,s]=g.useState(!0),{isAdmin:i,isPowerUser:o}=ha(),a=e.filter(l=>!(l.adminOnly&&!i||l.powerUserOnly&&!o&&!i));return a.length===0?null:c.jsxs("div",{className:"mb-2",children:[!n&&c.jsxs("div",{className:"px-3 py-2 flex items-center justify-between text-xs font-semibold text-white/70 uppercase tracking-wider cursor-pointer",onClick:()=>s(!r),children:[t,r?c.jsx(H_,{size:16}):c.jsx(Vg,{size:16})]}),(r||n)&&c.jsx("div",{className:"space-y-1",children:a.map((l,u)=>c.jsx(DY,{to:l.to,icon:l.icon,label:l.label,isCollapsed:n},u))})]})},OY=({isMobile:t=!1,onCloseMobile:e})=>{const[n,r]=g.useState(!1);la();const{userData:s,isAdmin:i,isPowerUser:o,signOut:a}=ha(),l=t?!1:n;g.useEffect(()=>{if(!t){const p=localStorage.getItem("sidebarCollapsed");p!==null&&r(p==="true")}},[t]);const u=()=>{if(t)return;const p=!n;r(p),localStorage.setItem("sidebarCollapsed",String(p))},d=async()=>{try{await a()}catch(p){console.error("Erro ao fazer logout:",p),Ce.error("Erro ao encerrar sessão")}},f=p=>p?p.charAt(0).toUpperCase():"U",m=[{title:"Principal",items:[{to:"/dashboard",icon:j9,label:"Dashboard"}]},{title:"Gerenciamento",items:[{to:"/cadastrar-usuario",icon:K_,label:"Cadastrar Usuário",adminOnly:!0},{to:"/perfil",icon:Ln,label:"Meu Perfil"}]}];return c.jsx(EM.Provider,{value:{collapsed:n,setCollapsed:r},children:c.jsx(kj,{children:c.jsxs("div",{className:le("bg-primary h-screen flex flex-col transition-all duration-300 shadow-md relative",l?"w-16":"w-64"),children:[!t&&c.jsx("button",{onClick:u,className:"absolute -right-3 top-6 bg-white h-6 w-6 rounded-full flex items-center justify-center border shadow-md cursor-pointer z-10","aria-label":l?"Expandir menu":"Recolher menu",children:c.jsx(Vg,{className:`h-4 w-4 text-gray-600 transition-transform ${l?"":"rotate-180"}`})}),t&&e&&c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20 bg-primary-600",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Kk,{className:"h-5 w-5 text-white mr-2"}),c.jsx("span",{className:"text-white font-medium",children:"Menu"})]}),c.jsx("button",{onClick:e,className:"text-white p-1 hover:bg-white/10 rounded-md transition-colors","aria-label":"Fechar menu",children:c.jsx(tl,{size:20})})]}),c.jsx("div",{className:le("flex flex-col items-center p-4 border-b border-white/20",t?"h-auto py-5":"h-auto py-6"),children:l?c.jsx("div",{className:"w-full flex justify-center",children:c.jsxs(Bs,{className:"h-9 w-9 border-2 border-white",children:[c.jsx(zs,{src:s==null?void 0:s.avatarUrl,alt:(s==null?void 0:s.nome)||"Usuário"}),c.jsx(Ws,{className:"bg-teal-700 text-white text-xs",children:f((s==null?void 0:s.nome)||"User")})]})}):c.jsxs("div",{className:"flex flex-col items-center w-full text-center",children:[c.jsxs(Bs,{className:"h-16 w-16 border-2 border-white mb-3",children:[c.jsx(zs,{src:s==null?void 0:s.avatarUrl,alt:(s==null?void 0:s.nome)||"Usuário"}),c.jsx(Ws,{className:"bg-teal-700 text-white",children:f((s==null?void 0:s.nome)||"User")})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h3",{className:"font-medium text-white text-sm",children:(s==null?void 0:s.nome)||"Usuário"}),c.jsx("p",{className:"text-xs text-white/90",children:(s==null?void 0:s.role)||(s==null?void 0:s.role)||"Membro"}),c.jsx("p",{className:"text-xs text-white/70",children:(s==null?void 0:s.setor)||"Sem setor"})]})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pt-6",children:c.jsx("nav",{className:"flex flex-col gap-1 px-2",children:m.map((p,E)=>c.jsx(MY,{title:p.title,items:p.items,isCollapsed:l},E))})}),c.jsx("div",{className:"p-4 border-t border-white/20",children:c.jsxs(Be,{variant:"ghost",onClick:d,className:le("flex items-center gap-3 w-full text-white hover:bg-white/10",l&&"justify-center"),children:[c.jsx(Hk,{size:20,className:"text-white"}),!l&&c.jsx("span",{children:"Sair"})]})})]})})})},TM=(t=768)=>{const[e,n]=g.useState(null);return g.useEffect(()=>{const r=()=>{n(window.innerWidth<t)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),e===null?!1:e},oE=g.createContext({});function aE(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const mv=g.createContext(null),lE=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class VY extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function LY({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=g.useContext(lE);return g.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(VY,{isPresent:e,childRef:r,sizeRef:s,children:g.cloneElement(t,{ref:r})})}const FY=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=aE(UY),l=g.useId(),u=g.useCallback(f=>{a.set(f,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),d=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),i?[Math.random(),u]:[n,u]);return g.useMemo(()=>{a.forEach((f,m)=>a.set(m,!1))},[n]),g.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=c.jsx(LY,{isPresent:n,children:t})),c.jsx(mv.Provider,{value:d,children:t})};function UY(){return new Map}function SM(t=!0){const e=g.useContext(mv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=g.useId();g.useEffect(()=>{t&&s(i)},[t]);const o=g.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const nm=t=>t.key||"";function kI(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const cE=typeof window<"u",CM=cE?g.useLayoutEffect:g.useEffect,Wa=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=SM(o),u=g.useMemo(()=>kI(t),[t]),d=o&&!a?[]:u.map(nm),f=g.useRef(!0),m=g.useRef(u),p=aE(()=>new Map),[E,v]=g.useState(u),[y,_]=g.useState(u);CM(()=>{f.current=!1,m.current=u;for(let A=0;A<y.length;A++){const P=nm(y[A]);d.includes(P)?p.delete(P):p.get(P)!==!0&&p.set(P,!1)}},[y,d.length,d.join("-")]);const w=[];if(u!==E){let A=[...u];for(let P=0;P<y.length;P++){const M=y[P],C=nm(M);d.includes(C)||(A.splice(P,0,M),w.push(M))}i==="wait"&&w.length&&(A=w),_(kI(A)),v(u);return}const{forceRender:b}=g.useContext(oE);return c.jsx(c.Fragment,{children:y.map(A=>{const P=nm(A),M=o&&!a?!1:u===y||d.includes(P),C=()=>{if(p.has(P))p.set(P,!0);else return;let T=!0;p.forEach(I=>{I||(T=!1)}),T&&(b==null||b(),_(m.current),o&&(l==null||l()),r&&r())};return c.jsx(FY,{isPresent:M,initial:!f.current||n?void 0:!1,custom:M?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:M?void 0:C,children:A},P)})})},yr=t=>t;let IM=yr;function uE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ci=t=>t*1e3,Ii=t=>t/1e3,$Y={useManualTiming:!1};function BY(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,f=!1)=>{const p=f&&r?e:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const rm=["read","resolveKeyframes","update","preRender","render","postRender"],zY=40;function AM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=rm.reduce((_,w)=>(_[w]=BY(i),_),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:f,postRender:m}=o,p=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,zY),1),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),f.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},E=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:rm.reduce((_,w)=>{const b=o[w];return _[w]=(A,P=!1,M=!1)=>(n||E(),b.schedule(A,P,M)),_},{}),cancel:_=>{for(let w=0;w<rm.length;w++)o[rm[w]].cancel(_)},state:s,steps:o}}const{schedule:xt,cancel:Zo,state:un,steps:Jy}=AM(typeof requestAnimationFrame<"u"?requestAnimationFrame:yr,!0),RM=g.createContext({strict:!1}),jI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yc={};for(const t in jI)Yc[t]={isEnabled:e=>jI[t].some(n=>!!e[n])};function WY(t){for(const e in t)Yc[e]={...Yc[e],...t[e]}}const HY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HY.has(t)}let NM=t=>!Bp(t);function KY(t){t&&(NM=e=>e.startsWith("on")?!Bp(e):t(e))}try{KY(require("@emotion/is-prop-valid").default)}catch{}function GY(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(NM(s)||n===!0&&Bp(s)||!e&&!Bp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function qY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const pv=g.createContext({});function ch(t){return typeof t=="string"||Array.isArray(t)}function gv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const dE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hE=["initial",...dE];function vv(t){return gv(t.animate)||hE.some(e=>ch(t[e]))}function PM(t){return!!(vv(t)||t.variants)}function QY(t,e){if(vv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ch(n)?n:void 0,animate:ch(r)?r:void 0}}return t.inherit!==!1?e:{}}function YY(t){const{initial:e,animate:n}=QY(t,g.useContext(pv));return g.useMemo(()=>({initial:e,animate:n}),[DI(e),DI(n)])}function DI(t){return Array.isArray(t)?t.join(" "):t}const ZY=Symbol.for("motionComponentSymbol");function tc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function XY(t,e,n){return g.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tc(n)&&(n.current=r))},[e])}const fE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JY="framerAppearId",kM="data-"+fE(JY),{schedule:mE}=AM(queueMicrotask,!1),jM=g.createContext({});function eZ(t,e,n,r,s){var i,o;const{visualElement:a}=g.useContext(pv),l=g.useContext(RM),u=g.useContext(mv),d=g.useContext(lE).reducedMotion,f=g.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,p=g.useContext(jM);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&tZ(f.current,n,s,p);const E=g.useRef(!1);g.useInsertionEffect(()=>{m&&E.current&&m.update(n,u)});const v=n[kM],y=g.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return CM(()=>{m&&(E.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),mE.render(m.render),y.current&&m.animationState&&m.animationState.animateChanges())}),g.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,v)}),y.current=!1))}),m}function tZ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DM(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&tc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function DM(t){if(t)return t.options.allowProjection!==!1?t.projection:DM(t.parent)}function nZ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&WY(t);function a(u,d){let f;const m={...g.useContext(lE),...u,layoutId:rZ(u)},{isStatic:p}=m,E=YY(u),v=r(u,p);if(!p&&cE){sZ();const y=iZ(m);f=y.MeasureLayout,E.visualElement=eZ(s,v,m,e,y.ProjectionNode)}return c.jsxs(pv.Provider,{value:E,children:[f&&E.visualElement?c.jsx(f,{visualElement:E.visualElement,...m}):null,n(s,u,XY(v,E.visualElement,d),v,p,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=g.forwardRef(a);return l[ZY]=s,l}function rZ({layoutId:t}){const e=g.useContext(oE).id;return e&&t!==void 0?e+"-"+t:t}function sZ(t,e){g.useContext(RM).strict}function iZ(t){const{drag:e,layout:n}=Yc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const oZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pE(t){return typeof t!="string"||t.includes("-")?!1:!!(oZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function MI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function gE(t,e,n,r){if(typeof e=="function"){const[s,i]=MI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=MI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const cw=t=>Array.isArray(t),aZ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),lZ=t=>cw(t)?t[t.length-1]||0:t,Rn=t=>!!(t&&t.getVelocity);function Dm(t){const e=Rn(t)?t.get():t;return aZ(e)?e.toValue():e}function cZ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:uZ(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const MM=t=>(e,n)=>{const r=g.useContext(pv),s=g.useContext(mv),i=()=>cZ(t,e,r,s);return n?i():aE(i)};function uZ(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Dm(i[m]);let{initial:o,animate:a}=t;const l=vv(t),u=PM(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!gv(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const E=gE(t,m[p]);if(E){const{transitionEnd:v,transition:y,..._}=E;for(const w in _){let b=_[w];if(Array.isArray(b)){const A=d?b.length-1:0;b=b[A]}b!==null&&(s[w]=b)}for(const w in v)s[w]=v[w]}}}return s}const gu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],El=new Set(gu),OM=t=>e=>typeof e=="string"&&e.startsWith(t),VM=OM("--"),dZ=OM("var(--"),vE=t=>dZ(t)?hZ.test(t.split("/*")[0].trim()):!1,hZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,LM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fi=(t,e,n)=>n>e?e:n<t?t:n,vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uh={...vu,transform:t=>Fi(0,1,t)},sm={...vu,default:1},ef=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),no=ef("deg"),Vs=ef("%"),Re=ef("px"),fZ=ef("vh"),mZ=ef("vw"),OI={...Vs,parse:t=>Vs.parse(t)/100,transform:t=>Vs.transform(t*100)},pZ={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re},gZ={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:sm,scaleX:sm,scaleY:sm,scaleZ:sm,skew:no,skewX:no,skewY:no,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:uh,originX:OI,originY:OI,originZ:Re},VI={...vu,transform:Math.round},yE={...pZ,...gZ,zIndex:VI,size:Re,fillOpacity:uh,strokeOpacity:uh,numOctaves:VI},vZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yZ=gu.length;function xZ(t,e,n){let r="",s=!0;for(let i=0;i<yZ;i++){const o=gu[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=LM(a,yE[o]);if(!l){s=!1;const d=vZ[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function xE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(El.has(l)){o=!0;continue}else if(VM(l)){s[l]=u;continue}else{const d=LM(u,yE[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=xZ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const wZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},_Z={offset:"strokeDashoffset",array:"strokeDasharray"};function bZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?wZ:_Z;t[i.offset]=Re.transform(-r);const o=Re.transform(e),a=Re.transform(n);t[i.array]=`${o} ${a}`}function LI(t,e,n){return typeof t=="string"?t:Re.transform(e+n*t)}function EZ(t,e,n){const r=LI(e,t.x,t.width),s=LI(n,t.y,t.height);return`${r} ${s}`}function wE(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,f){if(xE(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:E}=t;m.transform&&(E&&(p.transform=m.transform),delete m.transform),E&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=EZ(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&bZ(m,o,a,l,!1)}const _E=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),FM=()=>({..._E(),attrs:{}}),bE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UM(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const $M=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BM(t,e,n,r){UM(t,e,void 0,r);for(const s in e.attrs)t.setAttribute($M.has(s)?s:fE(s),e.attrs[s])}const zp={};function TZ(t){Object.assign(zp,t)}function zM(t,{layout:e,layoutId:n}){return El.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zp[t]||t==="opacity")}function EE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Rn(s[o])||e.style&&Rn(e.style[o])||zM(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function WM(t,e,n){const r=EE(t,e,n);for(const s in t)if(Rn(t[s])||Rn(e[s])){const i=gu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function SZ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const FI=["x","y","width","height","cx","cy","r"],CZ={useVisualState:MM({scrapeMotionValuesFromProps:WM,createRenderState:FM,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(El.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<FI.length;a++){const l=FI[a];t[l]!==e[l]&&(o=!0)}o&&xt.read(()=>{SZ(n,r),xt.render(()=>{wE(r,s,bE(n.tagName),t.transformTemplate),BM(n,r)})})}})},IZ={useVisualState:MM({scrapeMotionValuesFromProps:EE,createRenderState:_E})};function HM(t,e,n){for(const r in e)!Rn(e[r])&&!zM(r,n)&&(t[r]=e[r])}function AZ({transformTemplate:t},e){return g.useMemo(()=>{const n=_E();return xE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RZ(t,e){const n=t.style||{},r={};return HM(r,n,t),Object.assign(r,AZ(t,e)),r}function NZ(t,e){const n={},r=RZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function PZ(t,e,n,r){const s=g.useMemo(()=>{const i=FM();return wE(i,e,bE(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};HM(i,t.style,t),s.style={...i,...s.style}}return s}function kZ(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(pE(n)?PZ:NZ)(r,i,o,n),u=GY(r,typeof n=="string",t),d=n!==g.Fragment?{...u,...l,ref:s}:{},{children:f}=r,m=g.useMemo(()=>Rn(f)?f.get():f,[f]);return g.createElement(n,{...d,children:m})}}function jZ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...pE(r)?CZ:IZ,preloadedFeatures:t,useRender:kZ(s),createVisualElement:e,Component:r};return nZ(o)}}function KM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function yv(t,e,n){const r=t.getProps();return gE(r,e,n!==void 0?n:r.custom,t)}const DZ=uE(()=>window.ScrollTimeline!==void 0);class MZ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(DZ()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class OZ extends MZ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function TE(t,e){return t?t[e]||t.default||t:void 0}const uw=2e4;function GM(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<uw;)e+=n,r=t.next(e);return e>=uw?1/0:e}function SE(t){return typeof t=="function"}function UI(t,e){t.timeline=e,t.onfinish=null}const CE=t=>Array.isArray(t)&&typeof t[0]=="number",VZ={linearEasing:void 0};function LZ(t,e){const n=uE(t);return()=>{var r;return(r=VZ[e])!==null&&r!==void 0?r:n()}}const Wp=LZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Qc(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function QM(t){return!!(typeof t=="function"&&Wp()||!t||typeof t=="string"&&(t in dw||Wp())||CE(t)||Array.isArray(t)&&t.every(QM))}const ed=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ed([0,.65,.55,1]),circOut:ed([.55,0,1,.45]),backIn:ed([.31,.01,.66,-.59]),backOut:ed([.33,1.53,.69,.99])};function YM(t,e){if(t)return typeof t=="function"&&Wp()?qM(t,e):CE(t)?ed(t):Array.isArray(t)?t.map(n=>YM(n,e)||dw.easeOut):dw[t]}const Wr={x:!1,y:!1};function ZM(){return Wr.x||Wr.y}function FZ(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function XM(t,e){const n=FZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function $I(t){return e=>{e.pointerType==="touch"||ZM()||t(e)}}function UZ(t,e,n={}){const[r,s,i]=XM(t,n),o=$I(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const d=$I(f=>{u(f),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const JM=(t,e)=>e?t===e?!0:JM(t,e.parentElement):!1,IE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$Z=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BZ(t){return $Z.has(t.tagName)||t.tabIndex!==-1}const td=new WeakSet;function BI(t){return e=>{e.key==="Enter"&&t(e)}}function e0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=BI(()=>{if(td.has(n))return;e0(n,"down");const s=BI(()=>{e0(n,"up")}),i=()=>e0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function zI(t){return IE(t)&&!ZM()}function WZ(t,e,n={}){const[r,s,i]=XM(t,n),o=a=>{const l=a.currentTarget;if(!zI(a)||td.has(l))return;td.add(l);const u=e(a),d=(p,E)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!zI(p)||!td.has(l))&&(td.delete(l),typeof u=="function"&&u(p,{success:E}))},f=p=>{d(p,n.useGlobalTarget||JM(l,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{!BZ(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>zZ(u,s),s)}),i}function HZ(t){return t==="x"||t==="y"?Wr[t]?null:(Wr[t]=!0,()=>{Wr[t]=!1}):Wr.x||Wr.y?null:(Wr.x=Wr.y=!0,()=>{Wr.x=Wr.y=!1})}const eO=new Set(["width","height","top","left","right","bottom",...gu]);let Mm;function KZ(){Mm=void 0}const Ls={now:()=>(Mm===void 0&&Ls.set(un.isProcessing||$Y.useManualTiming?un.timestamp:performance.now()),Mm),set:t=>{Mm=t,queueMicrotask(KZ)}};function AE(t,e){t.indexOf(e)===-1&&t.push(e)}function RE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class NE{constructor(){this.subscriptions=[]}add(e){return AE(this.subscriptions,e),()=>RE(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tO(t,e){return e?t*(1e3/e):0}const WI=30,GZ=t=>!isNaN(parseFloat(t));class qZ{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ls.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ls.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new NE);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WI);return tO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dh(t,e){return new qZ(t,e)}function QZ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dh(n))}function YZ(t,e){const n=yv(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=lZ(i[o]);QZ(t,o,a)}}function ZZ(t){return!!(Rn(t)&&t.add)}function hw(t,e){const n=t.getValue("willChange");if(ZZ(n))return n.add(e)}function nO(t){return t.props[kM]}const rO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XZ=1e-7,JZ=12;function eX(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=rO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>XZ&&++a<JZ);return o}function tf(t,e,n,r){if(t===e&&n===r)return yr;const s=i=>eX(i,0,1,t,n);return i=>i===0||i===1?i:rO(s(i),e,r)}const sO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iO=t=>e=>1-t(1-e),oO=tf(.33,1.53,.69,.99),PE=iO(oO),aO=sO(PE),lO=t=>(t*=2)<1?.5*PE(t):.5*(2-Math.pow(2,-10*(t-1))),kE=t=>1-Math.sin(Math.acos(t)),cO=iO(kE),uO=sO(kE),dO=t=>/^0[^.\s]+$/u.test(t);function tX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dO(t):!0}const _d=t=>Math.round(t*1e5)/1e5,jE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nX(t){return t==null}const rX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DE=(t,e)=>n=>!!(typeof n=="string"&&rX.test(n)&&n.startsWith(t)||e&&!nX(n)&&Object.prototype.hasOwnProperty.call(n,e)),hO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(jE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sX=t=>Fi(0,255,t),t0={...vu,transform:t=>Math.round(sX(t))},Da={test:DE("rgb","red"),parse:hO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+t0.transform(t)+", "+t0.transform(e)+", "+t0.transform(n)+", "+_d(uh.transform(r))+")"};function iX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const fw={test:DE("#"),parse:iX,transform:Da.transform},nc={test:DE("hsl","hue"),parse:hO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vs.transform(_d(e))+", "+Vs.transform(_d(n))+", "+_d(uh.transform(r))+")"},Sn={test:t=>Da.test(t)||fw.test(t)||nc.test(t),parse:t=>Da.test(t)?Da.parse(t):nc.test(t)?nc.parse(t):fw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Da.transform(t):nc.transform(t)},oX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(jE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oX))===null||n===void 0?void 0:n.length)||0)>0}const fO="number",mO="color",lX="var",cX="var(",HI="${}",uX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(uX,l=>(Sn.test(l)?(r.color.push(i),s.push(mO),n.push(Sn.parse(l))):l.startsWith(cX)?(r.var.push(i),s.push(lX),n.push(l)):(r.number.push(i),s.push(fO),n.push(parseFloat(l))),++i,HI)).split(HI);return{values:n,split:a,indexes:r,types:s}}function pO(t){return hh(t).values}function gO(t){const{split:e,types:n}=hh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===fO?i+=_d(s[o]):a===mO?i+=Sn.transform(s[o]):i+=s[o]}return i}}const dX=t=>typeof t=="number"?0:t;function hX(t){const e=pO(t);return gO(t)(e.map(dX))}const Xo={test:aX,parse:pO,createTransformer:gO,getAnimatableNone:hX},fX=new Set(["brightness","contrast","saturate","opacity"]);function mX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(jE)||[];if(!r)return t;const s=n.replace(r,"");let i=fX.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const pX=/\b([a-z-]*)\(.*?\)/gu,mw={...Xo,getAnimatableNone:t=>{const e=t.match(pX);return e?e.map(mX).join(" "):t}},gX={...yE,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:mw,WebkitFilter:mw},ME=t=>gX[t];function vO(t,e){let n=ME(t);return n!==mw&&(n=Xo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vX=new Set(["auto","none","0"]);function yX(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!vX.has(i)&&hh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=vO(n,s)}const KI=t=>t===vu||t===Re,GI=(t,e)=>parseFloat(t.split(", ")[e]),qI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return GI(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?GI(i[1],t):0}},xX=new Set(["x","y","z"]),wX=gu.filter(t=>!xX.has(t));function _X(t){const e=[];return wX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:qI(4,13),y:qI(5,14)};Zc.translateX=Zc.x;Zc.translateY=Zc.y;const Ha=new Set;let pw=!1,gw=!1;function yO(){if(gw){const t=Array.from(Ha).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=_X(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gw=!1,pw=!1,Ha.forEach(t=>t.complete()),Ha.clear()}function xO(){Ha.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gw=!0)})}function bX(){xO(),yO()}class OE{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ha.add(this),pw||(pw=!0,xt.read(xO),xt.resolveKeyframes(yO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ha.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ha.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),EX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TX(t){const e=EX.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function _O(t,e,n=1){const[r,s]=TX(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return wO(o)?parseFloat(o):o}return vE(s)?_O(s,e,n+1):s}const bO=t=>e=>e.test(t),SX={test:t=>t==="auto",parse:t=>t},EO=[vu,Re,Vs,no,mZ,fZ,SX],QI=t=>EO.find(bO(t));class TO extends OE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),vE(u))){const d=_O(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!eO.has(r)||e.length!==2)return;const[s,i]=e,o=QI(s),a=QI(i);if(o!==a)if(KI(o)&&KI(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)tX(e[s])&&r.push(s);r.length&&yX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Zc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const YI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xo.test(t)||t==="0")&&!t.startsWith("url("));function CX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IX(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=YI(s,e),a=YI(i,e);return!o||!a?!1:CX(t)||(n==="spring"||SE(n))&&r}const AX=t=>t!==null;function xv(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(AX),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const RX=40;class SO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ls.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RX?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&bX(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ls.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!IX(e,r,s,i))if(o)this.options.duration=0;else{l&&l(xv(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const It=(t,e,n)=>t+(e-t)*n;function n0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function NX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=n0(l,a,t+1/3),i=n0(l,a,t),o=n0(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Hp(t,e){return n=>n>0?e:t}const r0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},PX=[fw,Da,nc],kX=t=>PX.find(e=>e.test(t));function ZI(t){const e=kX(t);if(!e)return!1;let n=e.parse(t);return e===nc&&(n=NX(n)),n}const XI=(t,e)=>{const n=ZI(t),r=ZI(e);if(!n||!r)return Hp(t,e);const s={...n};return i=>(s.red=r0(n.red,r.red,i),s.green=r0(n.green,r.green,i),s.blue=r0(n.blue,r.blue,i),s.alpha=It(n.alpha,r.alpha,i),Da.transform(s))},jX=(t,e)=>n=>e(t(n)),nf=(...t)=>t.reduce(jX),vw=new Set(["none","hidden"]);function DX(t,e){return vw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MX(t,e){return n=>It(t,e,n)}function VE(t){return typeof t=="number"?MX:typeof t=="string"?vE(t)?Hp:Sn.test(t)?XI:LX:Array.isArray(t)?CO:typeof t=="object"?Sn.test(t)?XI:OX:Hp}function CO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>VE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function OX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=VE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function VX(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const LX=(t,e)=>{const n=Xo.createTransformer(e),r=hh(t),s=hh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?vw.has(t)&&!s.values.length||vw.has(e)&&!r.values.length?DX(t,e):nf(CO(VX(r,s),s.values),n):Hp(t,e)};function IO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):VE(t)(t,e)}const FX=5;function AO(t,e,n){const r=Math.max(e-FX,0);return tO(n-t(r),e-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},JI=.001;function UX({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let s,i,o=1-e;o=Fi(Mt.minDamping,Mt.maxDamping,o),t=Fi(Mt.minDuration,Mt.maxDuration,Ii(t)),o<1?(s=u=>{const d=u*o,f=d*t,m=d-n,p=yw(u,o),E=Math.exp(-f);return JI-m/p*E},i=u=>{const f=u*o*t,m=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-f),v=yw(Math.pow(u,2),o);return(-s(u)+JI>0?-1:1)*((m-p)*E)/v}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-.001+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const a=5/t,l=BX(s,i,a);if(t=Ci(t),isNaN(l))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const $X=12;function BX(t,e,n){let r=n;for(let s=1;s<$X;s++)r=r-t(r)/e(r);return r}function yw(t,e){return t*Math.sqrt(1-e*e)}const zX=["duration","bounce"],WX=["stiffness","damping","mass"];function eA(t,e){return e.some(n=>t[n]!==void 0)}function HX(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!eA(t,WX)&&eA(t,zX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Fi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Mt.mass,stiffness:s,damping:i}}else{const n=UX(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function RO(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:p}=HX({...n,velocity:-Ii(n.velocity||0)}),E=m||0,v=u/(2*Math.sqrt(l*d)),y=o-i,_=Ii(Math.sqrt(l/d)),w=Math.abs(y)<5;r||(r=w?Mt.restSpeed.granular:Mt.restSpeed.default),s||(s=w?Mt.restDelta.granular:Mt.restDelta.default);let b;if(v<1){const P=yw(_,v);b=M=>{const C=Math.exp(-v*_*M);return o-C*((E+v*_*y)/P*Math.sin(P*M)+y*Math.cos(P*M))}}else if(v===1)b=P=>o-Math.exp(-_*P)*(y+(E+_*y)*P);else{const P=_*Math.sqrt(v*v-1);b=M=>{const C=Math.exp(-v*_*M),T=Math.min(P*M,300);return o-C*((E+v*_*y)*Math.sinh(T)+P*y*Math.cosh(T))/P}}const A={calculatedDuration:p&&f||null,next:P=>{const M=b(P);if(p)a.done=P>=f;else{let C=0;v<1&&(C=P===0?Ci(E):AO(b,P,M));const T=Math.abs(C)<=r,I=Math.abs(o-M)<=s;a.done=T&&I}return a.value=a.done?o:M,a},toString:()=>{const P=Math.min(GM(A),uw),M=qM(C=>A.next(P*C).value,P,30);return P+"ms "+M}};return A}function tA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,E=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const y=f+v,_=o===void 0?y:o(y);_!==y&&(v=_-f);const w=T=>-v*Math.exp(-T/r),b=T=>_+w(T),A=T=>{const I=w(T),R=b(T);m.done=Math.abs(I)<=u,m.value=m.done?_:R};let P,M;const C=T=>{p(m.value)&&(P=T,M=RO({keyframes:[m.value,E(m.value)],velocity:AO(b,T,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!M&&P===void 0&&(I=!0,A(T),C(T)),P!==void 0&&T>=P?M.next(T-P):(!I&&A(T),m)}}}const KX=tf(.42,0,1,1),GX=tf(0,0,.58,1),NO=tf(.42,0,.58,1),qX=t=>Array.isArray(t)&&typeof t[0]!="number",QX={linear:yr,easeIn:KX,easeInOut:NO,easeOut:GX,circIn:kE,circInOut:uO,circOut:cO,backIn:PE,backInOut:aO,backOut:oO,anticipate:lO},nA=t=>{if(CE(t)){IM(t.length===4);const[e,n,r,s]=t;return tf(e,n,r,s)}else if(typeof t=="string")return QX[t];return t};function YX(t,e,n){const r=[],s=n||IO,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yr:e;a=nf(l,a)}r.push(a)}return r}function ZX(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(IM(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=YX(e,r,s),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const m=Qc(t[f],t[f+1],d);return a[f](m)};return n?d=>u(Fi(t[0],t[i-1],d)):u}function XX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Qc(0,e,r);t.push(It(n,1,s))}}function JX(t){const e=[0];return XX(e,t.length-1),e}function eJ(t,e){return t.map(n=>n*e)}function tJ(t,e){return t.map(()=>e||NO).splice(0,t.length-1)}function Kp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=qX(r)?r.map(nA):nA(r),i={done:!1,value:e[0]},o=eJ(n&&n.length===e.length?n:JX(e),t),a=ZX(o,e,{ease:Array.isArray(s)?s:tJ(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const nJ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>xt.update(e,!0),stop:()=>Zo(e),now:()=>un.isProcessing?un.timestamp:Ls.now()}},rJ={decay:tA,inertia:tA,tween:Kp,keyframes:Kp,spring:RO},sJ=t=>t/100;class LE extends SO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||OE,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=SE(n)?n:rJ[n]||Kp;let l,u;a!==Kp&&typeof e[0]!="number"&&(l=nf(sJ,IO(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=GM(d));const{calculatedDuration:f}=d,m=f+s,p=m*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:p,repeatType:E,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-m*(this.speed>=0?1:-1),w=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,A=i;if(p){const T=Math.min(this.currentTime,d)/f;let I=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(E==="reverse"?(R=1-R,v&&(R-=v/f)):E==="mirror"&&(A=o)),b=Fi(0,1,R)*f}const P=w?{done:!1,value:l[0]}:A.next(b);a&&(P.value=a(P.value));let{done:M}=P;!w&&u!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&s!==void 0&&(P.value=xv(l,this.options,s)),y&&y(P.value),C&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Ii(e.calculatedDuration):0}get time(){return Ii(this.currentTime)}set time(e){e=Ci(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ii(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=nJ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const iJ=new Set(["opacity","clipPath","filter","transform"]);function oJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=YM(a,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const aJ=uE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gp=10,lJ=2e4;function cJ(t){return SE(t.type)||t.type==="spring"||!QM(t.ease)}function uJ(t,e){const n=new LE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<lJ;)r=n.sample(i),s.push(r.value),i+=Gp;return{times:void 0,keyframes:s,duration:i-Gp,ease:"linear"}}const PO={anticipate:lO,backInOut:aO,circInOut:uO};function dJ(t){return t in PO}class rA extends SO{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new TO(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Wp()&&dJ(i)&&(i=PO[i]),cJ(this.options)){const{onComplete:f,onUpdate:m,motionValue:p,element:E,...v}=this.options,y=uJ(e,v);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,s=y.times,i=y.ease,o="keyframes"}const d=oJ(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(UI(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(xv(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ii(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ii(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ci(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return yr;const{animation:r}=n;UI(r,e)}return yr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:m,...p}=this.options,E=new LE({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Ci(this.time);u.setWithVelocity(E.sample(v-Gp).value,E.sample(v).value,Gp)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return aJ()&&r&&iJ.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const hJ={type:"spring",stiffness:500,damping:25,restSpeed:10},fJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mJ={type:"keyframes",duration:.8},pJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gJ=(t,{keyframes:e})=>e.length>2?mJ:El.has(t)?t.startsWith("scale")?fJ(e[1]):hJ:pJ;function vJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const FE=(t,e,n,r={},s,i)=>o=>{const a=TE(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ci(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};vJ(a)||(d={...d,...gJ(t,d)}),d.duration&&(d.duration=Ci(d.duration)),d.repeatDelay&&(d.repeatDelay=Ci(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const m=xv(d.keyframes,a);if(m!==void 0)return xt.update(()=>{d.onUpdate(m),d.onComplete()}),new OZ([])}return!i&&rA.supports(d)?new rA(d):new LE(d)};function yJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function kO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),p=l[f];if(p===void 0||d&&yJ(d,f))continue;const E={delay:n,...TE(o||{},f)};let v=!1;if(window.MotionHandoffAnimation){const _=nO(t);if(_){const w=window.MotionHandoffAnimation(_,f,xt);w!==null&&(E.startTime=w,v=!0)}}hw(t,f),m.start(FE(f,m,p,t.shouldReduceMotion&&eO.has(f)?{type:!1}:E,t,v));const y=m.animation;y&&u.push(y)}return a&&Promise.all(u).then(()=>{xt.update(()=>{a&&YZ(t,a)})}),u}function xw(t,e,n={}){var r;const s=yv(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(kO(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return xJ(t,e,d+u,f,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function xJ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(wJ).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(xw(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function wJ(t,e){return t.sortNodePosition(e)}function _J(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>xw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=xw(t,e,n);else{const s=typeof e=="function"?yv(t,e,n.custom):e;r=Promise.all(kO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const bJ=hE.length;function jO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?jO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bJ;n++){const r=hE[n],s=t.props[r];(ch(s)||s===!1)&&(e[r]=s)}return e}const EJ=[...dE].reverse(),TJ=dE.length;function SJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_J(t,n,r)))}function CJ(t){let e=SJ(t),n=sA(),r=!0;const s=l=>(u,d)=>{var f;const m=yv(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:p,transitionEnd:E,...v}=m;u={...u,...v,...E}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,d=jO(t.parent)||{},f=[],m=new Set;let p={},E=1/0;for(let y=0;y<TJ;y++){const _=EJ[y],w=n[_],b=u[_]!==void 0?u[_]:d[_],A=ch(b),P=_===l?w.isActive:null;P===!1&&(E=y);let M=b===d[_]&&b!==u[_]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...p},!w.isActive&&P===null||!b&&!w.prevProp||gv(b)||typeof b=="boolean")continue;const C=IJ(w.prevProp,b);let T=C||_===l&&w.isActive&&!M&&A||y>E&&A,I=!1;const R=Array.isArray(b)?b:[b];let D=R.reduce(s(_),{});P===!1&&(D={});const{prevResolvedValues:j={}}=w,N={...j,...D},z=Q=>{T=!0,m.has(Q)&&(I=!0,m.delete(Q)),w.needsAnimating[Q]=!0;const $=t.getValue(Q);$&&($.liveStyle=!1)};for(const Q in N){const $=D[Q],V=j[Q];if(p.hasOwnProperty(Q))continue;let Z=!1;cw($)&&cw(V)?Z=!KM($,V):Z=$!==V,Z?$!=null?z(Q):m.add(Q):$!==void 0&&m.has(Q)?z(Q):w.protectedKeys[Q]=!0}w.prevProp=b,w.prevResolvedValues=D,w.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(M&&C)||I)&&f.push(...R.map(Q=>({animation:Q,options:{type:_}})))}if(m.size){const y={};m.forEach(_=>{const w=t.getBaseTarget(_),b=t.getValue(_);b&&(b.liveStyle=!0),y[_]=w??null}),f.push({animation:y})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=sA(),r=!0}}}function IJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!KM(e,t):!1}function ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sA(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AJ extends fa{constructor(e){super(e),e.animationState||(e.animationState=CJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let RJ=0;class NJ extends fa{constructor(){super(...arguments),this.id=RJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PJ={animation:{Feature:AJ},exit:{Feature:NJ}};function fh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function rf(t){return{point:{x:t.pageX,y:t.pageY}}}const kJ=t=>e=>IE(e)&&t(e,rf(e));function bd(t,e,n,r){return fh(t,e,kJ(n),r)}const iA=(t,e)=>Math.abs(t-e);function jJ(t,e){const n=iA(t.x,e.x),r=iA(t.y,e.y);return Math.sqrt(n**2+r**2)}class DO{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=i0(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=jJ(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:E}=f,{timestamp:v}=un;this.history.push({...E,timestamp:v});const{onStart:y,onMove:_}=this.handlers;m||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=s0(m,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:E,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=i0(f.type==="pointercancel"?this.lastMoveEventInfo:s0(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),E&&E(f,y)},!IE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=rf(e),a=s0(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=un;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,i0(a,this.history)),this.removeListeners=nf(bd(this.contextWindow,"pointermove",this.handlePointerMove),bd(this.contextWindow,"pointerup",this.handlePointerUp),bd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zo(this.updatePoint)}}function s0(t,e){return e?{point:e(t.point)}:t}function oA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function i0({point:t},e){return{point:t,delta:oA(t,MO(e)),offset:oA(t,DJ(e)),velocity:MJ(e,.1)}}function DJ(t){return t[0]}function MO(t){return t[t.length-1]}function MJ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=MO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ci(e)));)n--;if(!r)return{x:0,y:0};const i=Ii(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const OO=1e-4,OJ=1-OO,VJ=1+OO,VO=.01,LJ=0-VO,FJ=0+VO;function _r(t){return t.max-t.min}function UJ(t,e,n){return Math.abs(t-e)<=n}function aA(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=_r(n)/_r(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OJ&&t.scale<=VJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=LJ&&t.translate<=FJ||isNaN(t.translate))&&(t.translate=0)}function Ed(t,e,n,r){aA(t.x,e.x,n.x,r?r.originX:void 0),aA(t.y,e.y,n.y,r?r.originY:void 0)}function lA(t,e,n){t.min=n.min+e.min,t.max=t.min+_r(e)}function $J(t,e,n){lA(t.x,e.x,n.x),lA(t.y,e.y,n.y)}function cA(t,e,n){t.min=e.min-n.min,t.max=t.min+_r(e)}function Td(t,e,n){cA(t.x,e.x,n.x),cA(t.y,e.y,n.y)}function BJ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function uA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zJ(t,{top:e,left:n,bottom:r,right:s}){return{x:uA(t.x,n,s),y:uA(t.y,e,r)}}function dA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function WJ(t,e){return{x:dA(t.x,e.x),y:dA(t.y,e.y)}}function HJ(t,e){let n=.5;const r=_r(t),s=_r(e);return s>r?n=Qc(e.min,e.max-r,t.min):r>s&&(n=Qc(t.min,t.max-s,e.min)),Fi(0,1,n)}function KJ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ww=.35;function GJ(t=ww){return t===!1?t=0:t===!0&&(t=ww),{x:hA(t,"left","right"),y:hA(t,"top","bottom")}}function hA(t,e,n){return{min:fA(t,e),max:fA(t,n)}}function fA(t,e){return typeof t=="number"?t:t[e]||0}const mA=()=>({translate:0,scale:1,origin:0,originPoint:0}),rc=()=>({x:mA(),y:mA()}),pA=()=>({min:0,max:0}),Vt=()=>({x:pA(),y:pA()});function Ir(t){return[t("x"),t("y")]}function LO({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function QJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function o0(t){return t===void 0||t===1}function _w({scale:t,scaleX:e,scaleY:n}){return!o0(t)||!o0(e)||!o0(n)}function Ia(t){return _w(t)||FO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FO(t){return gA(t.x)||gA(t.y)}function gA(t){return t&&t!=="0%"}function qp(t,e,n){const r=t-n,s=e*r;return n+s}function vA(t,e,n,r,s){return s!==void 0&&(t=qp(t,s,r)),qp(t,n,r)+e}function bw(t,e=0,n=1,r,s){t.min=vA(t.min,e,n,r,s),t.max=vA(t.max,e,n,r,s)}function UO(t,{x:e,y:n}){bw(t.x,e.translate,e.scale,e.originPoint),bw(t.y,n.translate,n.scale,n.originPoint)}const yA=.999999999999,xA=1.0000000000001;function YJ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ic(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,UO(t,o)),r&&Ia(i.latestValues)&&ic(t,i.latestValues))}e.x<xA&&e.x>yA&&(e.x=1),e.y<xA&&e.y>yA&&(e.y=1)}function sc(t,e){t.min=t.min+e,t.max=t.max+e}function wA(t,e,n,r,s=.5){const i=It(t.min,t.max,s);bw(t,e,n,i,r)}function ic(t,e){wA(t.x,e.x,e.scaleX,e.scale,e.originX),wA(t.y,e.y,e.scaleY,e.scale,e.originY)}function $O(t,e){return LO(QJ(t.getBoundingClientRect(),e))}function ZJ(t,e,n){const r=$O(t,n),{scroll:s}=e;return s&&(sc(r.x,s.offset.x),sc(r.y,s.offset.y)),r}const BO=({current:t})=>t?t.ownerDocument.defaultView:null,XJ=new WeakMap;class JJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rf(d).point)},i=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:E}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HZ(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ir(y=>{let _=this.getAxisMotionValue(y).get()||0;if(Vs.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[y];b&&(_=_r(b)*(parseFloat(_)/100))}}this.originPoint[y]=_}),E&&xt.postRender(()=>E(d,f)),hw(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:E,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=eee(y),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Ir(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new DO(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:BO(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&xt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!im(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=BJ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&tc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=zJ(s.layoutBox,n):this.constraints=!1,this.elastic=GJ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ir(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=KJ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ZJ(r,s.root,this.visualElement.getTransformPagePoint());let o=WJ(s.layout.layoutBox,i);if(n){const a=n(qJ(o));this.hasMutatedConstraints=!!a,a&&(o=LO(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ir(d=>{if(!im(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hw(this.visualElement,e),r.start(FE(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ir(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ir(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ir(n=>{const{drag:r}=this.getProps();if(!im(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-It(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ir(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=HJ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ir(o=>{if(!im(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(It(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;XJ.set(this.visualElement,this);const e=this.visualElement.current,n=bd(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();tc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xt.read(r);const o=fh(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ir(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ww,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function im(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tee extends fa{constructor(e){super(e),this.removeGroupControls=yr,this.removeListeners=yr,this.controls=new JJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yr}unmount(){this.removeGroupControls(),this.removeListeners()}}const _A=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class nee extends fa{constructor(){super(...arguments),this.removePointerDownListener=yr}onPointerDown(e){this.session=new DO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:_A(e),onStart:_A(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&xt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=bd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Om={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $u={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=bA(t,e.target.x),r=bA(t,e.target.y);return`${n}% ${r}%`}},ree={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Xo.parse(t);if(s.length>5)return r;const i=Xo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=It(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class see extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;TZ(iee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Om.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||xt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zO(t){const[e,n]=SM(),r=g.useContext(oE);return c.jsx(see,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(jM),isPresent:e,safeToRemove:n})}const iee={borderRadius:{...$u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$u,borderTopRightRadius:$u,borderBottomLeftRadius:$u,borderBottomRightRadius:$u,boxShadow:ree};function oee(t,e,n){const r=Rn(t)?t:dh(t);return r.start(FE("",r,e,n)),r.animation}function aee(t){return t instanceof SVGElement&&t.tagName!=="svg"}const lee=(t,e)=>t.depth-e.depth;class cee{constructor(){this.children=[],this.isDirty=!1}add(e){AE(this.children,e),this.isDirty=!0}remove(e){RE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lee),this.isDirty=!1,this.children.forEach(e)}}function uee(t,e){const n=Ls.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Zo(r),t(i-e))};return xt.read(r,!0),()=>Zo(r)}const WO=["TopLeft","TopRight","BottomLeft","BottomRight"],dee=WO.length,EA=t=>typeof t=="string"?parseFloat(t):t,TA=t=>typeof t=="number"||Re.test(t);function hee(t,e,n,r,s,i){s?(t.opacity=It(0,n.opacity!==void 0?n.opacity:1,fee(r)),t.opacityExit=It(e.opacity!==void 0?e.opacity:1,0,mee(r))):i&&(t.opacity=It(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<dee;o++){const a=`border${WO[o]}Radius`;let l=SA(e,a),u=SA(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||TA(l)===TA(u)?(t[a]=Math.max(It(EA(l),EA(u),r),0),(Vs.test(u)||Vs.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function SA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fee=HO(0,.5,cO),mee=HO(.5,.95,yr);function HO(t,e,n){return r=>r<t?0:r>e?1:n(Qc(t,e,r))}function CA(t,e){t.min=e.min,t.max=e.max}function Cr(t,e){CA(t.x,e.x),CA(t.y,e.y)}function IA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function AA(t,e,n,r,s){return t-=e,t=qp(t,1/n,r),s!==void 0&&(t=qp(t,1/s,r)),t}function pee(t,e=0,n=1,r=.5,s,i=t,o=t){if(Vs.test(e)&&(e=parseFloat(e),e=It(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=It(i.min,i.max,r);t===i&&(a-=e),t.min=AA(t.min,e,n,a,s),t.max=AA(t.max,e,n,a,s)}function RA(t,e,[n,r,s],i,o){pee(t,e[n],e[r],e[s],e.scale,i,o)}const gee=["x","scaleX","originX"],vee=["y","scaleY","originY"];function NA(t,e,n,r){RA(t.x,e,gee,n?n.x:void 0,r?r.x:void 0),RA(t.y,e,vee,n?n.y:void 0,r?r.y:void 0)}function PA(t){return t.translate===0&&t.scale===1}function KO(t){return PA(t.x)&&PA(t.y)}function kA(t,e){return t.min===e.min&&t.max===e.max}function yee(t,e){return kA(t.x,e.x)&&kA(t.y,e.y)}function jA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function GO(t,e){return jA(t.x,e.x)&&jA(t.y,e.y)}function DA(t){return _r(t.x)/_r(t.y)}function MA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xee{constructor(){this.members=[]}add(e){AE(this.members,e),e.scheduleRender()}remove(e){if(RE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wee(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:p,skewY:E}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Aa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},nd=typeof window<"u"&&window.MotionDebug!==void 0,a0=["","X","Y","Z"],_ee={visibility:"hidden"},OA=1e3;let bee=0;function l0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function qO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&qO(r)}function QO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=bee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nd&&(Aa.totalNodes=Aa.resolvedTargetDeltas=Aa.recalculatedProjection=0),this.nodes.forEach(See),this.nodes.forEach(Nee),this.nodes.forEach(Pee),this.nodes.forEach(Cee),nd&&window.MotionDebug.record(Aa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new cee)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new NE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aee(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=uee(m,250),Om.hasAnimatedSinceResize&&(Om.hasAnimatedSinceResize=!1,this.nodes.forEach(LA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Oee,{onLayoutAnimationStart:y,onLayoutAnimationComplete:_}=d.getProps(),w=!this.targetLayout||!GO(this.targetLayout,E)||p,b=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const A={...TE(v,"layout"),onPlay:y,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else m||LA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VA);return}this.isUpdating||this.nodes.forEach(Aee),this.isUpdating=!1,this.nodes.forEach(Ree),this.nodes.forEach(Eee),this.nodes.forEach(Tee),this.clearAllSnapshots();const a=Ls.now();un.delta=Fi(0,1e3/60,a-un.timestamp),un.timestamp=a,un.isProcessing=!0,Jy.update.process(un),Jy.preRender.process(un),Jy.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Iee),this.sharedNodes.forEach(jee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!KO(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Ia(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Vee(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Vt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Lee))){const{scroll:d}=this.root;d&&(sc(l.x,d.offset.x),sc(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Vt();if(Cr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Cr(l,o),sc(l.x,f.offset.x),sc(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Vt();Cr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ic(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ia(d.latestValues)&&ic(l,d.latestValues)}return Ia(this.latestValues)&&ic(l,this.latestValues),l}removeTransform(o){const a=Vt();Cr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ia(u.latestValues))continue;_w(u.latestValues)&&u.updateSnapshot();const d=Vt(),f=u.measurePageBox();Cr(d,f),NA(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ia(this.latestValues)&&NA(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Td(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$J(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),UO(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Td(this.relativeTargetOrigin,this.target,p.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nd&&Aa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_w(this.parent.latestValues)||FO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===un.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Cr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;YJ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Vt());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IA(this.prevProjectionDelta.x,this.projectionDelta.x),IA(this.prevProjectionDelta.y,this.projectionDelta.y)),Ed(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!MA(this.projectionDelta.x,this.prevProjectionDelta.x)||!MA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),nd&&Aa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rc(),this.projectionDelta=rc(),this.projectionDeltaWithTransform=rc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=rc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Vt(),p=l?l.source:void 0,E=this.layout?this.layout.source:void 0,v=p!==E,y=this.getStack(),_=!y||y.members.length<=1,w=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(Mee));this.animationProgress=0;let b;this.mixTargetDelta=A=>{const P=A/1e3;FA(f.x,o.x,P),FA(f.y,o.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Td(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dee(this.relativeTarget,this.relativeTargetOrigin,m,P),b&&yee(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Vt()),Cr(b,this.relativeTarget)),v&&(this.animationValues=d,hee(d,u,this.latestValues,P,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Om.hasAnimatedSinceResize=!0,this.currentAnimation=oee(0,OA,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&YO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Vt();const f=_r(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=_r(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Cr(a,l),ic(a,d),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xee),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&l0("z",o,u,this.animationValues);for(let d=0;d<a0.length;d++)l0(`rotate${a0[d]}`,o,u,this.animationValues),l0(`skew${a0[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _ee;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Dm(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Dm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=wee(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:E}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${E.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in zp){if(m[v]===void 0)continue;const{correct:y,applyTo:_}=zp[v],w=u.transform==="none"?m[v]:y(m[v],f);if(_){const b=_.length;for(let A=0;A<b;A++)u[_[A]]=w}else u[v]=w}return this.options.layoutId&&(u.pointerEvents=f===this?Dm(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(VA),this.root.sharedNodes.clear()}}}function Eee(t){t.updateLayout()}function Tee(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Ir(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],p=_r(m);m.min=r[f].min,m.max=m.min+p}):YO(i,n.layoutBox,r)&&Ir(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],p=_r(r[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=rc();Ed(a,r,n.layoutBox);const l=rc();o?Ed(l,t.applyTransform(s,!0),n.measuredBox):Ed(l,r,n.layoutBox);const u=!KO(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const E=Vt();Td(E,n.layoutBox,m.layoutBox);const v=Vt();Td(v,r,p.layoutBox),GO(E,v)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=E,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function See(t){nd&&Aa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Cee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Iee(t){t.clearSnapshot()}function VA(t){t.clearMeasurements()}function Aee(t){t.isLayoutDirty=!1}function Ree(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Nee(t){t.resolveTargetDelta()}function Pee(t){t.calcProjection()}function kee(t){t.resetSkewAndRotation()}function jee(t){t.removeLeadSnapshot()}function FA(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UA(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function Dee(t,e,n,r){UA(t.x,e.x,n.x,r),UA(t.y,e.y,n.y,r)}function Mee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Oee={duration:.45,ease:[.4,0,.1,1]},$A=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BA=$A("applewebkit/")&&!$A("chrome/")?Math.round:yr;function zA(t){t.min=BA(t.min),t.max=BA(t.max)}function Vee(t){zA(t.x),zA(t.y)}function YO(t,e,n){return t==="position"||t==="preserve-aspect"&&!UJ(DA(e),DA(n),.2)}function Lee(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Fee=QO({attachResizeListener:(t,e)=>fh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),c0={current:void 0},ZO=QO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!c0.current){const t=new Fee({});t.mount(window),t.setOptions({layoutScroll:!0}),c0.current=t}return c0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uee={pan:{Feature:nee},drag:{Feature:tee,ProjectionNode:ZO,MeasureLayout:zO}};function WA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&xt.postRender(()=>i(e,rf(e)))}class $ee extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=UZ(e,n=>(WA(this.node,n,"Start"),r=>WA(this.node,r,"End"))))}unmount(){}}class Bee extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nf(fh(this.node.current,"focus",()=>this.onFocus()),fh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HA(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&xt.postRender(()=>i(e,rf(e)))}class zee extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=WZ(e,n=>(HA(this.node,n,"Start"),(r,{success:s})=>HA(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ew=new WeakMap,u0=new WeakMap,Wee=t=>{const e=Ew.get(t.target);e&&e(t)},Hee=t=>{t.forEach(Wee)};function Kee({root:t,...e}){const n=t||document;u0.has(n)||u0.set(n,{});const r=u0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Hee,{root:t,...e})),r[s]}function Gee(t,e,n){const r=Kee(e);return Ew.set(t,n),r.observe(t),()=>{Ew.delete(t),r.unobserve(t)}}const qee={some:0,all:1};class Qee extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:qee[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(l)};return Gee(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Yee(e,n))&&this.startObserver()}unmount(){}}function Yee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Zee={inView:{Feature:Qee},tap:{Feature:zee},focus:{Feature:Bee},hover:{Feature:$ee}},Xee={layout:{ProjectionNode:ZO,MeasureLayout:zO}},Tw={current:null},XO={current:!1};function Jee(){if(XO.current=!0,!!cE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tw.current=t.matches;t.addListener(e),e()}else Tw.current=!1}const ete=[...EO,Sn,Xo],tte=t=>ete.find(bO(t)),KA=new WeakMap;function nte(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Rn(s))t.addValue(r,s);else if(Rn(i))t.addValue(r,dh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,dh(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rte{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=OE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ls.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,xt.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=vv(n),this.isVariantNode=PM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const E=m[p];l[p]!==void 0&&Rn(E)&&E.set(l[p],!1)}}mount(e){this.current=e,KA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),XO.current||Jee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){KA.delete(this.current),this.projection&&this.projection.unmount(),Zo(this.notifyUpdate),Zo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=El.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yc){const n=Yc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GA.length;r++){const s=GA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=nte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=dh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(wO(s)||dO(s))?s=parseFloat(s):!tte(s)&&Xo.test(n)&&(s=vO(e,n)),this.setBaseTarget(e,Rn(s)?s.get():s)),Rn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=gE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Rn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new NE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class JO extends rte{constructor(){super(...arguments),this.KeyframeResolver=TO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ste(t){return window.getComputedStyle(t)}class ite extends JO{constructor(){super(...arguments),this.type="html",this.renderInstance=UM}readValueFromInstance(e,n){if(El.has(n)){const r=ME(n);return r&&r.default||0}else{const r=ste(e),s=(VM(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $O(e,n)}build(e,n,r){xE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return EE(e,n,r)}}class ote extends JO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(El.has(n)){const r=ME(n);return r&&r.default||0}return n=$M.has(n)?n:fE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return WM(e,n,r)}build(e,n,r){wE(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){BM(e,n,r,s)}mount(e){this.isSVGTag=bE(e.tagName),super.mount(e)}}const ate=(t,e)=>pE(t)?new ote(e):new ite(e,{allowProjection:t!==g.Fragment}),lte=jZ({...PJ,...Zee,...Uee,...Xee},ate),be=qY(lte),Qp=({children:t})=>{const[e,n]=g.useState(!1),r=TM();return g.useEffect(()=>{r||n(!1)},[r]),g.useEffect(()=>{const s=()=>{r&&e&&n(!1)},i=document.querySelectorAll(".sidebar-link");return i.forEach(o=>{o.addEventListener("click",s)}),()=>{i.forEach(o=>{o.removeEventListener("click",s)})}},[r,e]),c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[r&&!e&&c.jsx(Be,{variant:"ghost",size:"icon",className:"fixed top-3 left-3 z-50 bg-white shadow-lg rounded-full h-9 w-9",onClick:()=>n(!0),"aria-label":"Abrir menu",children:c.jsx(Kk,{size:18})}),c.jsx(Wa,{mode:"wait",children:(r?e:!0)&&c.jsx(be.div,{className:`${r?"fixed inset-y-0 left-0 z-40":"relative"}`,initial:r?{x:"-100%"}:{x:0},animate:{x:0},exit:r?{x:"-100%"}:{},transition:{duration:.3,ease:"easeInOut"},children:c.jsx(OY,{isMobile:r,onCloseMobile:()=>n(!1)})})}),c.jsx(Wa,{children:r&&e&&c.jsx(be.div,{className:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:()=>n(!1)})}),c.jsx("div",{className:`flex-1 overflow-auto ${r?"pt-14 pb-4":""}`,children:c.jsx("main",{className:"p-3 md:p-6 animate-fade-in",children:t})})]})},eV=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:le("w-full caption-bottom text-sm",t),...e})}));eV.displayName="Table";const tV=g.forwardRef(({className:t,...e},n)=>c.jsx("thead",{ref:n,className:le("[&_tr]:border-b",t),...e}));tV.displayName="TableHeader";const nV=g.forwardRef(({className:t,...e},n)=>c.jsx("tbody",{ref:n,className:le("[&_tr:last-child]:border-0",t),...e}));nV.displayName="TableBody";const cte=g.forwardRef(({className:t,...e},n)=>c.jsx("tfoot",{ref:n,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));cte.displayName="TableFooter";const Sw=g.forwardRef(({className:t,...e},n)=>c.jsx("tr",{ref:n,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Sw.displayName="TableRow";const ro=g.forwardRef(({className:t,...e},n)=>c.jsx("th",{ref:n,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ro.displayName="TableHead";const ui=g.forwardRef(({className:t,...e},n)=>c.jsx("td",{ref:n,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ui.displayName="TableCell";const ute=g.forwardRef(({className:t,...e},n)=>c.jsx("caption",{ref:n,className:le("mt-4 text-sm text-muted-foreground",t),...e}));ute.displayName="TableCaption";const dte=Og("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Un({className:t,variant:e,...n}){return c.jsx("div",{className:le(dte({variant:e}),t),...n})}var d0="focusScope.autoFocusOnMount",h0="focusScope.autoFocusOnUnmount",qA={bubbles:!1,cancelable:!0},hte="FocusScope",wv=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=Bn(s),d=Bn(i),f=g.useRef(null),m=Ke(e,v=>l(v)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(b){if(p.paused||!a)return;const A=b.target;a.contains(A)?f.current=A:so(f.current,{select:!0})},y=function(b){if(p.paused||!a)return;const A=b.relatedTarget;A!==null&&(a.contains(A)||so(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&so(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,p.paused]),g.useEffect(()=>{if(a){YA.add(p);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(d0,qA);a.addEventListener(d0,u),a.dispatchEvent(_),_.defaultPrevented||(fte(yte(rV(a)),{select:!0}),document.activeElement===v&&so(a))}return()=>{a.removeEventListener(d0,u),setTimeout(()=>{const _=new CustomEvent(h0,qA);a.addEventListener(h0,d),a.dispatchEvent(_),_.defaultPrevented||so(v??document.body,{select:!0}),a.removeEventListener(h0,d),YA.remove(p)},0)}}},[a,u,d,p]);const E=g.useCallback(v=>{if(!n&&!r||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(y&&_){const w=v.currentTarget,[b,A]=mte(w);b&&A?!v.shiftKey&&_===A?(v.preventDefault(),n&&so(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&so(A,{select:!0})):_===w&&v.preventDefault()}},[n,r,p.paused]);return c.jsx(Se.div,{tabIndex:-1,...o,ref:m,onKeyDown:E})});wv.displayName=hte;function fte(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(so(r,{select:e}),document.activeElement!==n)return}function mte(t){const e=rV(t),n=QA(e,t),r=QA(e.reverse(),t);return[n,r]}function rV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function QA(t,e){for(const n of t)if(!pte(n,{upTo:e}))return n}function pte(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gte(t){return t instanceof HTMLInputElement&&"select"in t}function so(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&gte(t)&&e&&t.select()}}var YA=vte();function vte(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ZA(t,e),t.unshift(e)},remove(e){var n;t=ZA(t,e),(n=t[0])==null||n.resume()}}}function ZA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function yte(t){return t.filter(e=>e.tagName!=="A")}var f0=0;function UE(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??XA()),document.body.insertAdjacentElement("beforeend",t[1]??XA()),f0++,()=>{f0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),f0--}},[])}function XA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vm="right-scroll-bar-position",Lm="width-before-scroll-bar",xte="with-scroll-bars-hidden",wte="--removed-body-scroll-bar-size";function m0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _te(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var bte=typeof window<"u"?g.useLayoutEffect:g.useEffect,JA=new WeakMap;function Ete(t,e){var n=_te(null,function(r){return t.forEach(function(s){return m0(s,r)})});return bte(function(){var r=JA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||m0(a,null)}),i.forEach(function(a){s.has(a)||m0(a,o)})}JA.set(n,t)},[t]),n}function Tte(t){return t}function Ste(t,e){e===void 0&&(e=Tte);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function Cte(t){t===void 0&&(t={});var e=Ste(null);return e.options=Is({async:!0,ssr:!1},t),e}var sV=function(t){var e=t.sideCar,n=zh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Is({},n))};sV.isSideCarExport=!0;function Ite(t,e){return t.useMedium(e),sV}var iV=Cte(),p0=function(){},_v=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:p0,onWheelCapture:p0,onTouchMoveCapture:p0}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,p=t.noIsolation,E=t.inert,v=t.allowPinchZoom,y=t.as,_=y===void 0?"div":y,w=t.gapMode,b=zh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,P=Ete([n,e]),M=Is(Is({},b),s);return g.createElement(g.Fragment,null,d&&g.createElement(A,{sideCar:iV,removeScrollBar:u,shards:f,noIsolation:p,inert:E,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(a),Is(Is({},M),{ref:P})):g.createElement(_,Is({},M,{className:l,ref:P}),a))});_v.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_v.classNames={fullWidth:Lm,zeroRight:Vm};var Ate=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ate();return e&&t.setAttribute("nonce",e),t}function Nte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Pte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Rte())&&(Nte(e,n),Pte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jte=function(){var t=kte();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oV=function(){var t=jte(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Dte={left:0,top:0,right:0,gap:0},g0=function(t){return parseInt(t||"",10)||0},Mte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[g0(n),g0(r),g0(s)]},Ote=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Dte;var e=Mte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Vte=oV(),xc="data-scroll-locked",Lte=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(xte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vm," .").concat(Vm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lm," .").concat(Lm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xc,`] {
    `).concat(wte,": ").concat(a,`px;
  }
`)},eR=function(){var t=parseInt(document.body.getAttribute(xc)||"0",10);return isFinite(t)?t:0},Fte=function(){g.useEffect(function(){return document.body.setAttribute(xc,(eR()+1).toString()),function(){var t=eR()-1;t<=0?document.body.removeAttribute(xc):document.body.setAttribute(xc,t.toString())}},[])},Ute=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Fte();var i=g.useMemo(function(){return Ote(s)},[s]);return g.createElement(Vte,{styles:Lte(i,!e,s,n?"":"!important")})},Cw=!1;if(typeof window<"u")try{var om=Object.defineProperty({},"passive",{get:function(){return Cw=!0,!0}});window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{Cw=!1}var Pl=Cw?{passive:!1}:!1,$te=function(t){return t.tagName==="TEXTAREA"},aV=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$te(t)&&n[e]==="visible")},Bte=function(t){return aV(t,"overflowY")},zte=function(t){return aV(t,"overflowX")},tR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=lV(t,r);if(s){var i=cV(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Hte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},lV=function(t,e){return t==="v"?Bte(e):zte(e)},cV=function(t,e){return t==="v"?Wte(e):Hte(e)},Kte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Gte=function(t,e,n,r,s){var i=Kte(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,m=0;do{var p=cV(t,a),E=p[0],v=p[1],y=p[2],_=v-y-i*E;(E||_)&&lV(t,a)&&(f+=_,m+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},am=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nR=function(t){return[t.deltaX,t.deltaY]},rR=function(t){return t&&"current"in t?t.current:t},qte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Qte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Yte=0,kl=[];function Zte(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(Yte++)[0],i=g.useState(oV)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=bW([t.lockRef.current],(t.shards||[]).map(rR),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=am(v),w=n.current,b="deltaX"in v?v.deltaX:w[0]-_[0],A="deltaY"in v?v.deltaY:w[1]-_[1],P,M=v.target,C=Math.abs(b)>Math.abs(A)?"h":"v";if("touches"in v&&C==="h"&&M.type==="range")return!1;var T=tR(C,M);if(!T)return!0;if(T?P=C:(P=C==="v"?"h":"v",T=tR(C,M)),!T)return!1;if(!r.current&&"changedTouches"in v&&(b||A)&&(r.current=P),!P)return!0;var I=r.current||P;return Gte(I,y,v,I==="h"?b:A)},[]),l=g.useCallback(function(v){var y=v;if(!(!kl.length||kl[kl.length-1]!==i)){var _="deltaY"in y?nR(y):am(y),w=e.current.filter(function(P){return P.name===y.type&&(P.target===y.target||y.target===P.shadowParent)&&qte(P.delta,_)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(rR).filter(Boolean).filter(function(P){return P.contains(y.target)}),A=b.length>0?a(y,b[0]):!o.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),u=g.useCallback(function(v,y,_,w){var b={name:v,delta:y,target:_,should:w,shadowParent:Xte(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(A){return A!==b})},1)},[]),d=g.useCallback(function(v){n.current=am(v),r.current=void 0},[]),f=g.useCallback(function(v){u(v.type,nR(v),v.target,a(v,t.lockRef.current))},[]),m=g.useCallback(function(v){u(v.type,am(v),v.target,a(v,t.lockRef.current))},[]);g.useEffect(function(){return kl.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Pl),document.addEventListener("touchmove",l,Pl),document.addEventListener("touchstart",d,Pl),function(){kl=kl.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Pl),document.removeEventListener("touchmove",l,Pl),document.removeEventListener("touchstart",d,Pl)}},[]);var p=t.removeScrollBar,E=t.inert;return g.createElement(g.Fragment,null,E?g.createElement(i,{styles:Qte(s)}):null,p?g.createElement(Ute,{gapMode:t.gapMode}):null)}function Xte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Jte=Ite(iV,Zte);var bv=g.forwardRef(function(t,e){return g.createElement(_v,Is({},t,{ref:e,sideCar:Jte}))});bv.classNames=_v.classNames;var ene=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jl=new WeakMap,lm=new WeakMap,cm={},v0=0,uV=function(t){return t&&(t.host||uV(t.parentNode))},tne=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=uV(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nne=function(t,e,n,r){var s=tne(e,Array.isArray(t)?t:[t]);cm[n]||(cm[n]=new WeakMap);var i=cm[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var p=m.getAttribute(r),E=p!==null&&p!=="false",v=(jl.get(m)||0)+1,y=(i.get(m)||0)+1;jl.set(m,v),i.set(m,y),o.push(m),v===1&&E&&lm.set(m,!0),y===1&&m.setAttribute(n,"true"),E||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return d(e),a.clear(),v0++,function(){o.forEach(function(f){var m=jl.get(f)-1,p=i.get(f)-1;jl.set(f,m),i.set(f,p),m||(lm.has(f)||f.removeAttribute(r),lm.delete(f)),p||f.removeAttribute(n)}),v0--,v0||(jl=new WeakMap,jl=new WeakMap,lm=new WeakMap,cm={})}},$E=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=ene(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),nne(r,s,n,"aria-hidden")):function(){return null}},Ev="Dialog",[dV,hV]=jn(Ev),[rne,ms]=dV(Ev),fV=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u,d]=Us({prop:r,defaultProp:s??!1,onChange:i,caller:Ev});return c.jsx(rne,{scope:e,triggerRef:a,contentRef:l,contentId:os(),titleId:os(),descriptionId:os(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};fV.displayName=Ev;var mV="DialogTrigger",pV=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(mV,n),i=Ke(e,s.triggerRef);return c.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":WE(s.open),...r,ref:i,onClick:oe(t.onClick,s.onOpenToggle)})});pV.displayName=mV;var BE="DialogPortal",[sne,gV]=dV(BE,{forceMount:void 0}),vV=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ms(BE,e);return c.jsx(sne,{scope:e,forceMount:n,children:g.Children.map(r,o=>c.jsx(Vr,{present:n||i.open,children:c.jsx(Vh,{asChild:!0,container:s,children:o})}))})};vV.displayName=BE;var Yp="DialogOverlay",yV=g.forwardRef((t,e)=>{const n=gV(Yp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ms(Yp,t.__scopeDialog);return i.modal?c.jsx(Vr,{present:r||i.open,children:c.jsx(one,{...s,ref:e})}):null});yV.displayName=Yp;var ine=el("DialogOverlay.RemoveScroll"),one=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(Yp,n);return c.jsx(bv,{as:ine,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Se.div,{"data-state":WE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ul="DialogContent",xV=g.forwardRef((t,e)=>{const n=gV(ul,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ms(ul,t.__scopeDialog);return c.jsx(Vr,{present:r||i.open,children:i.modal?c.jsx(ane,{...s,ref:e}):c.jsx(lne,{...s,ref:e})})});xV.displayName=ul;var ane=g.forwardRef((t,e)=>{const n=ms(ul,t.__scopeDialog),r=g.useRef(null),s=Ke(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return $E(i)},[]),c.jsx(wV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oe(t.onFocusOutside,i=>i.preventDefault())})}),lne=g.forwardRef((t,e)=>{const n=ms(ul,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return c.jsx(wV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),wV=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ms(ul,n),l=g.useRef(null),u=Ke(e,l);return UE(),c.jsxs(c.Fragment,{children:[c.jsx(wv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(ou,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":WE(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(une,{titleId:a.titleId}),c.jsx(hne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),zE="DialogTitle",_V=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(zE,n);return c.jsx(Se.h2,{id:s.titleId,...r,ref:e})});_V.displayName=zE;var bV="DialogDescription",EV=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(bV,n);return c.jsx(Se.p,{id:s.descriptionId,...r,ref:e})});EV.displayName=bV;var TV="DialogClose",SV=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(TV,n);return c.jsx(Se.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,()=>s.onOpenChange(!1))})});SV.displayName=TV;function WE(t){return t?"open":"closed"}var CV="DialogTitleWarning",[cne,IV]=M6(CV,{contentName:ul,titleName:zE,docsSlug:"dialog"}),une=({titleId:t})=>{const e=IV(CV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dne="DialogDescriptionWarning",hne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IV(dne).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},AV=fV,fne=pV,RV=vV,HE=yV,KE=xV,GE=_V,qE=EV,Tv=SV;const QE=AV,mne=RV,pne=Tv,NV=g.forwardRef(({className:t,...e},n)=>c.jsx(HE,{ref:n,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));NV.displayName=HE.displayName;const Sv=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(mne,{children:[c.jsx(NV,{}),c.jsxs(KE,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(Tv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(tl,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sv.displayName=KE.displayName;const Cv=({className:t,...e})=>c.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Cv.displayName="DialogHeader";const Iv=({className:t,...e})=>c.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Iv.displayName="DialogFooter";const Av=g.forwardRef(({className:t,...e},n)=>c.jsx(GE,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",t),...e}));Av.displayName=GE.displayName;const Rv=g.forwardRef(({className:t,...e},n)=>c.jsx(qE,{ref:n,className:le("text-sm text-muted-foreground",t),...e}));Rv.displayName=qE.displayName;function sR(t,[e,n]){return Math.min(n,Math.max(e,t))}var gne=g.createContext(void 0);function sf(t){const e=g.useContext(gne);return t||e||"ltr"}function YE(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vne=[" ","Enter","ArrowUp","ArrowDown"],yne=[" ","Enter"],dl="Select",[Nv,Pv,xne]=jg(dl),[yu,yae]=jn(dl,[xne,uu]),kv=uu(),[wne,ma]=yu(dl),[_ne,bne]=yu(dl),PV=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:E}=t,v=kv(e),[y,_]=g.useState(null),[w,b]=g.useState(null),[A,P]=g.useState(!1),M=sf(u),[C,T]=Us({prop:r,defaultProp:s??!1,onChange:i,caller:dl}),[I,R]=Us({prop:o,defaultProp:a,onChange:l,caller:dl}),D=g.useRef(null),j=y?E||!!y.closest("form"):!0,[N,z]=g.useState(new Set),ae=Array.from(N).map(ne=>ne.props.value).join(";");return c.jsx(sb,{...v,children:c.jsxs(wne,{required:p,scope:e,trigger:y,onTriggerChange:_,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:os(),value:I,onValueChange:R,open:C,onOpenChange:T,dir:M,triggerPointerDownPosRef:D,disabled:m,children:[c.jsx(Nv.Provider,{scope:e,children:c.jsx(_ne,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(ne=>{z(Q=>new Set(Q).add(ne))},[]),onNativeOptionRemove:g.useCallback(ne=>{z(Q=>{const $=new Set(Q);return $.delete(ne),$})},[]),children:n})}),j?c.jsxs(nL,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:ne=>R(ne.target.value),disabled:m,form:E,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from(N)]},ae):null]})})};PV.displayName=dl;var kV="SelectTrigger",jV=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=kv(n),o=ma(kV,n),a=o.disabled||r,l=Ke(e,o.onTriggerChange),u=Pv(n),d=g.useRef("touch"),[f,m,p]=sL(v=>{const y=u().filter(b=>!b.disabled),_=y.find(b=>b.value===o.value),w=iL(y,v,_);w!==void 0&&o.onValueChange(w.value)}),E=v=>{a||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return c.jsx(ib,{asChild:!0,...i,children:c.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":rL(o.value)?"":void 0,...s,ref:l,onClick:oe(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&E(v)}),onPointerDown:oe(s.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(E(v),v.preventDefault())}),onKeyDown:oe(s.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&vne.includes(v.key)&&(E(),v.preventDefault())})})})});jV.displayName=kV;var DV="SelectValue",MV=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ma(DV,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Ke(e,l.onValueNodeChange);return Kt(()=>{u(d)},[u,d]),c.jsx(Se.span,{...a,ref:f,style:{pointerEvents:"none"},children:rL(l.value)?c.jsx(c.Fragment,{children:o}):i})});MV.displayName=DV;var Ene="SelectIcon",OV=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(Se.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});OV.displayName=Ene;var Tne="SelectPortal",VV=t=>c.jsx(Vh,{asChild:!0,...t});VV.displayName=Tne;var hl="SelectContent",LV=g.forwardRef((t,e)=>{const n=ma(hl,t.__scopeSelect),[r,s]=g.useState();if(Kt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?yl.createPortal(c.jsx(FV,{scope:t.__scopeSelect,children:c.jsx(Nv.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(UV,{...t,ref:e})});LV.displayName=hl;var Hr=10,[FV,pa]=yu(hl),Sne="SelectContentImpl",Cne=el("SelectContent.RemoveScroll"),UV=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:E,hideWhenDetached:v,avoidCollisions:y,..._}=t,w=ma(hl,n),[b,A]=g.useState(null),[P,M]=g.useState(null),C=Ke(e,L=>A(L)),[T,I]=g.useState(null),[R,D]=g.useState(null),j=Pv(n),[N,z]=g.useState(!1),ae=g.useRef(!1);g.useEffect(()=>{if(b)return $E(b)},[b]),UE();const ne=g.useCallback(L=>{const[se,...Ie]=j().map(Le=>Le.ref.current),[we]=Ie.slice(-1),xe=document.activeElement;for(const Le of L)if(Le===xe||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===se&&P&&(P.scrollTop=0),Le===we&&P&&(P.scrollTop=P.scrollHeight),Le==null||Le.focus(),document.activeElement!==xe))return},[j,P]),Q=g.useCallback(()=>ne([T,b]),[ne,T,b]);g.useEffect(()=>{N&&Q()},[N,Q]);const{onOpenChange:$,triggerPointerDownPosRef:V}=w;g.useEffect(()=>{if(b){let L={x:0,y:0};const se=we=>{var xe,Le;L={x:Math.abs(Math.round(we.pageX)-(((xe=V.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(we.pageY)-(((Le=V.current)==null?void 0:Le.y)??0))}},Ie=we=>{L.x<=10&&L.y<=10?we.preventDefault():b.contains(we.target)||$(!1),document.removeEventListener("pointermove",se),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[b,$,V]),g.useEffect(()=>{const L=()=>$(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[$]);const[Z,pe]=sL(L=>{const se=j().filter(xe=>!xe.disabled),Ie=se.find(xe=>xe.ref.current===document.activeElement),we=iL(se,L,Ie);we&&setTimeout(()=>we.ref.current.focus())}),re=g.useCallback((L,se,Ie)=>{const we=!ae.current&&!Ie;(w.value!==void 0&&w.value===se||we)&&(I(L),we&&(ae.current=!0))},[w.value]),he=g.useCallback(()=>b==null?void 0:b.focus(),[b]),te=g.useCallback((L,se,Ie)=>{const we=!ae.current&&!Ie;(w.value!==void 0&&w.value===se||we)&&D(L)},[w.value]),ve=r==="popper"?Iw:$V,Ee=ve===Iw?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:E,hideWhenDetached:v,avoidCollisions:y}:{};return c.jsx(FV,{scope:n,content:b,viewport:P,onViewportChange:M,itemRefCallback:re,selectedItem:T,onItemLeave:he,itemTextRefCallback:te,focusSelectedItem:Q,selectedItemText:R,position:r,isPositioned:N,searchRef:Z,children:c.jsx(bv,{as:Cne,allowPinchZoom:!0,children:c.jsx(wv,{asChild:!0,trapped:w.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:oe(s,L=>{var se;(se=w.trigger)==null||se.focus({preventScroll:!0}),L.preventDefault()}),children:c.jsx(ou,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(ve,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:L=>L.preventDefault(),..._,...Ee,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:oe(_.onKeyDown,L=>{const se=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!se&&L.key.length===1&&pe(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let we=j().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(L.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const xe=L.target,Le=we.indexOf(xe);we=we.slice(Le+1)}setTimeout(()=>ne(we)),L.preventDefault()}})})})})})})});UV.displayName=Sne;var Ine="SelectItemAlignedPosition",$V=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ma(hl,n),o=pa(hl,n),[a,l]=g.useState(null),[u,d]=g.useState(null),f=Ke(e,C=>d(C)),m=Pv(n),p=g.useRef(!1),E=g.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:_,focusSelectedItem:w}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&v&&y&&_){const C=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(i.dir!=="rtl"){const xe=R.left-T.left,Le=I.left-xe,Tt=C.left-Le,Pt=C.width+Tt,ir=Math.max(Pt,T.width),Gn=window.innerWidth-Hr,Tr=sR(Le,[Hr,Math.max(Hr,Gn-ir)]);a.style.minWidth=Pt+"px",a.style.left=Tr+"px"}else{const xe=T.right-R.right,Le=window.innerWidth-I.right-xe,Tt=window.innerWidth-C.right-Le,Pt=C.width+Tt,ir=Math.max(Pt,T.width),Gn=window.innerWidth-Hr,Tr=sR(Le,[Hr,Math.max(Hr,Gn-ir)]);a.style.minWidth=Pt+"px",a.style.right=Tr+"px"}const D=m(),j=window.innerHeight-Hr*2,N=v.scrollHeight,z=window.getComputedStyle(u),ae=parseInt(z.borderTopWidth,10),ne=parseInt(z.paddingTop,10),Q=parseInt(z.borderBottomWidth,10),$=parseInt(z.paddingBottom,10),V=ae+ne+N+$+Q,Z=Math.min(y.offsetHeight*5,V),pe=window.getComputedStyle(v),re=parseInt(pe.paddingTop,10),he=parseInt(pe.paddingBottom,10),te=C.top+C.height/2-Hr,ve=j-te,Ee=y.offsetHeight/2,L=y.offsetTop+Ee,se=ae+ne+L,Ie=V-se;if(se<=te){const xe=D.length>0&&y===D[D.length-1].ref.current;a.style.bottom="0px";const Le=u.clientHeight-v.offsetTop-v.offsetHeight,Tt=Math.max(ve,Ee+(xe?he:0)+Le+Q),Pt=se+Tt;a.style.height=Pt+"px"}else{const xe=D.length>0&&y===D[0].ref.current;a.style.top="0px";const Tt=Math.max(te,ae+v.offsetTop+(xe?re:0)+Ee)+Ie;a.style.height=Tt+"px",v.scrollTop=se-te+v.offsetTop}a.style.margin=`${Hr}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,a,u,v,y,_,i.dir,r]);Kt(()=>b(),[b]);const[A,P]=g.useState();Kt(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const M=g.useCallback(C=>{C&&E.current===!0&&(b(),w==null||w(),E.current=!1)},[b,w]);return c.jsx(Rne,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:c.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$V.displayName=Ine;var Ane="SelectPopperPosition",Iw=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hr,...i}=t,o=kv(n);return c.jsx(ob,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Iw.displayName=Ane;var[Rne,ZE]=yu(hl,{}),Aw="SelectViewport",BV=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=pa(Aw,n),o=ZE(Aw,n),a=Ke(e,i.onViewportChange),l=g.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Nv.Slot,{scope:n,children:c.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const E=window.innerHeight-Hr*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),_=Math.max(v,y);if(_<E){const w=_+p,b=Math.min(E,w),A=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});BV.displayName=Aw;var zV="SelectGroup",[Nne,Pne]=yu(zV),WV=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=os();return c.jsx(Nne,{scope:n,id:s,children:c.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});WV.displayName=zV;var HV="SelectLabel",KV=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pne(HV,n);return c.jsx(Se.div,{id:s.id,...r,ref:e})});KV.displayName=HV;var Zp="SelectItem",[kne,GV]=yu(Zp),qV=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ma(Zp,n),l=pa(Zp,n),u=a.value===r,[d,f]=g.useState(i??""),[m,p]=g.useState(!1),E=Ke(e,w=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,w,r,s)}),v=os(),y=g.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(kne,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:g.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(Nv.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(Se.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:oe(o.onFocus,()=>p(!0)),onBlur:oe(o.onBlur,()=>p(!1)),onClick:oe(o.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:oe(o.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:oe(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:oe(o.onPointerMove,w=>{var b;y.current=w.pointerType,s?(b=l.onItemLeave)==null||b.call(l):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:oe(o.onKeyDown,w=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(yne.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});qV.displayName=Zp;var rd="SelectItemText",QV=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ma(rd,n),a=pa(rd,n),l=GV(rd,n),u=bne(rd,n),[d,f]=g.useState(null),m=Ke(e,_=>f(_),l.onItemTextChange,_=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,_,l.value,l.disabled)}),p=d==null?void 0:d.textContent,E=g.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Kt(()=>(v(E),()=>y(E)),[v,y,E]),c.jsxs(c.Fragment,{children:[c.jsx(Se.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?yl.createPortal(i.children,o.valueNode):null]})});QV.displayName=rd;var YV="SelectItemIndicator",ZV=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return GV(YV,n).isSelected?c.jsx(Se.span,{"aria-hidden":!0,...r,ref:e}):null});ZV.displayName=YV;var Rw="SelectScrollUpButton",XV=g.forwardRef((t,e)=>{const n=pa(Rw,t.__scopeSelect),r=ZE(Rw,t.__scopeSelect),[s,i]=g.useState(!1),o=Ke(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(eL,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});XV.displayName=Rw;var Nw="SelectScrollDownButton",JV=g.forwardRef((t,e)=>{const n=pa(Nw,t.__scopeSelect),r=ZE(Nw,t.__scopeSelect),[s,i]=g.useState(!1),o=Ke(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(eL,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});JV.displayName=Nw;var eL=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=pa("SelectScrollButton",n),o=g.useRef(null),a=Pv(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Kt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(Se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{l()})})}),jne="SelectSeparator",tL=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Se.div,{"aria-hidden":!0,...r,ref:e})});tL.displayName=jne;var Pw="SelectArrow",Dne=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=kv(n),i=ma(Pw,n),o=pa(Pw,n);return i.open&&o.position==="popper"?c.jsx(ab,{...s,...r,ref:e}):null});Dne.displayName=Pw;var Mne="SelectBubbleInput",nL=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),i=Ke(r,s),o=YE(e);return g.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(Se.select,{...n,style:{...yk,...n.style},ref:i,defaultValue:e})});nL.displayName=Mne;function rL(t){return t===""||t===void 0}function sL(t){const e=Bn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function iL(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=One(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function One(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Vne=PV,oL=jV,Lne=MV,Fne=OV,Une=VV,aL=LV,$ne=BV,Bne=WV,lL=KV,cL=qV,zne=QV,Wne=ZV,uL=XV,dL=JV,hL=tL;const Ka=Vne,Fm=Bne,Ga=Lne,Vo=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(oL,{ref:r,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(Fne,{asChild:!0,children:c.jsx(H_,{className:"h-4 w-4 opacity-50"})})]}));Vo.displayName=oL.displayName;const fL=g.forwardRef(({className:t,...e},n)=>c.jsx(uL,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(zk,{className:"h-4 w-4"})}));fL.displayName=uL.displayName;const mL=g.forwardRef(({className:t,...e},n)=>c.jsx(dL,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(H_,{className:"h-4 w-4"})}));mL.displayName=dL.displayName;const Lo=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(Une,{children:c.jsxs(aL,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(fL,{}),c.jsx($ne,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(mL,{})]})}));Lo.displayName=aL.displayName;const Hne=g.forwardRef(({className:t,...e},n)=>c.jsx(lL,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Hne.displayName=lL.displayName;const Ai=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(cL,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Wne,{children:c.jsx(Bk,{className:"h-4 w-4"})})}),c.jsx(zne,{children:e})]}));Ai.displayName=cL.displayName;const Kne=g.forwardRef(({className:t,...e},n)=>c.jsx(hL,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));Kne.displayName=hL.displayName;const _t=g.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));_t.displayName="Input";const hn=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));hn.displayName="Card";const _i=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",t),...e}));_i.displayName="CardHeader";const bi=g.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",t),...e}));bi.displayName="CardTitle";const XE=g.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",t),...e}));XE.displayName="CardDescription";const fn=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:le("p-6 pt-0",t),...e}));fn.displayName="CardContent";const of=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",t),...e}));of.displayName="CardFooter";var JE="Progress",eT=100,[Gne,xae]=jn(JE),[qne,Qne]=Gne(JE),pL=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Yne,...o}=t;(s||s===0)&&!iR(s)&&console.error(Zne(`${s}`,"Progress"));const a=iR(s)?s:eT;r!==null&&!oR(r,a)&&console.error(Xne(`${r}`,"Progress"));const l=oR(r,a)?r:null,u=Xp(l)?i(l,a):void 0;return c.jsx(qne,{scope:n,value:l,max:a,children:c.jsx(Se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Xp(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":yL(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});pL.displayName=JE;var gL="ProgressIndicator",vL=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Qne(gL,n);return c.jsx(Se.div,{"data-state":yL(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});vL.displayName=gL;function Yne(t,e){return`${Math.round(t/e*100)}%`}function yL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Xp(t){return typeof t=="number"}function iR(t){return Xp(t)&&!isNaN(t)&&t>0}function oR(t,e){return Xp(t)&&!isNaN(t)&&t<=e&&t>=0}function Zne(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${eT}\`.`}function Xne(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${eT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xL=pL,Jne=vL;const Jp=g.forwardRef(({className:t,value:e,indicatorClassName:n,...r},s)=>c.jsx(xL,{ref:s,className:le("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:c.jsx(Jne,{className:le("h-full w-full flex-1 bg-primary transition-all",n),style:{transform:`translateX(-${100-(e||0)}%)`}})}));Jp.displayName=xL.displayName;var ere="Label",wL=g.forwardRef((t,e)=>c.jsx(Se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wL.displayName=ere;var _L=wL;const tre=Og("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wc=g.forwardRef(({className:t,...e},n)=>c.jsx(_L,{ref:n,className:le(tre(),t),...e}));wc.displayName=_L.displayName;const tT=g.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));tT.displayName="Textarea";function nre({open:t,onOpenChange:e,user:n,actionType:r,onConfirm:s}){const[i,o]=g.useState(""),[a,l]=g.useState(!1),d={notificacao:{title:"Enviar Notificação",description:"Envie uma notificação para este usuário explicando o motivo.",icon:c.jsx(co,{className:"h-5 w-5 text-blue-500"}),buttonText:"Enviar Notificação",buttonClass:"bg-blue-500 hover:bg-blue-600"},advertencia:{title:"Registrar Advertência",description:"Registre uma advertência formal para este usuário explicando o motivo.",icon:c.jsx(Sa,{className:"h-5 w-5 text-amber-500"}),buttonText:"Registrar Advertência",buttonClass:"bg-amber-600 hover:bg-amber-700"},banimento:{title:n.status==="Ativo"?"Banir Usuário":"Reativar Usuário",description:n.status==="Ativo"?"Isso irá impedir o acesso deste usuário ao sistema.":"Isso irá restaurar o acesso deste usuário ao sistema.",icon:c.jsx(Sx,{className:"h-5 w-5 text-amber-500"}),buttonText:n.status==="Ativo"?"Confirmar Banimento":"Confirmar Reativação",buttonClass:n.status==="Ativo"?"bg-amber-600 hover:bg-amber-700":"bg-green-500 hover:bg-green-600"}}[r];g.useEffect(()=>{t===!1&&o("")},[t]);const f=p=>p?p.split(" ").map(E=>E.charAt(0).toUpperCase()).join("").substring(0,2):"U",m=async()=>{if(!i.trim()||i.length<3){Ce.error("Por favor, forneça uma justificativa mais detalhada");return}l(!0);try{console.log(`Processando ação ${r} para usuário ${n.id}`,{tipoAcao:r,advertenciasAtuais:n.advertencias||0,statusAtual:n.status});const E=Eb().currentUser;if(!E){Ce.error("Você precisa estar autenticado para realizar esta ação"),l(!1);return}console.log("Usuário atual:",E.uid,E.email);try{await ci(ws(Dt,"actionLogs"),{userId:n.id,userName:n.nome,actionType:r,motivo:i,timestamp:cn(),executedBy:{uid:E.uid,email:E.email},status:"initiated"}),await s(i),o("")}catch(v){console.error("Erro específico ao registrar ação:",v),v instanceof Error?Ce.error(`Erro de permissão: ${v.message}. Verifique se você tem permissões adequadas.`):Ce.error("Erro de permissão desconhecido. Verifique se você tem permissões adequadas.")}}catch(p){console.error("Erro ao processar ação:",p),Ce.error("Ocorreu um erro ao processar a ação. Tente novamente.")}finally{l(!1)}};return c.jsx(QE,{open:t,onOpenChange:p=>{a||(o(""),e(p))},children:c.jsxs(Sv,{className:"sm:max-w-md",children:[c.jsxs(Cv,{children:[c.jsxs(Av,{className:"flex items-center gap-2",children:[d.icon,d.title]}),c.jsx(Rv,{children:d.description})]}),c.jsxs("div",{className:"flex items-center gap-3 py-2",children:[c.jsxs(Bs,{children:[c.jsx(zs,{src:n.avatarUrl,alt:n.nome}),c.jsx(Ws,{children:f(n.nome)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:n.nome}),c.jsx("p",{className:"text-sm text-muted-foreground",children:n.email})]})]}),c.jsxs("div",{className:"grid gap-4 py-2",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx(wc,{htmlFor:"setor",className:"text-sm text-muted-foreground",children:"Setor"}),c.jsx("div",{id:"setor",className:"font-medium",children:n.setor||"-"})]}),c.jsxs("div",{children:[c.jsx(wc,{htmlFor:"cargo",className:"text-sm text-muted-foreground",children:"Cargo"}),c.jsx("div",{id:"cargo",className:"font-medium",children:n.role||"-"})]})]}),c.jsxs("div",{children:[c.jsxs(wc,{htmlFor:"motivo",className:"text-sm font-medium",children:["Justificativa ",c.jsx("span",{className:"text-amber-500",children:"*"})]}),c.jsx(tT,{id:"motivo",placeholder:"Descreva o motivo desta ação...",className:"mt-1",rows:5,value:i,onChange:p=>o(p.target.value),required:!0,disabled:a,maxLength:500}),c.jsxs("div",{className:"text-xs text-right mt-1 text-muted-foreground",children:[i.length,"/500 caracteres"]})]})]}),c.jsxs(Iv,{className:"flex gap-2 flex-row",children:[c.jsx(Be,{variant:"outline",onClick:()=>e(!1),className:"flex-1",disabled:a,children:"Cancelar"}),c.jsx(Be,{className:`flex-1 ${d.buttonClass}`,onClick:m,disabled:!i.trim()||i.length<3||a,children:a?c.jsxs(c.Fragment,{children:[c.jsx(Zr,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):d.buttonText})]})]})})}var bL="AlertDialog",[rre,wae]=jn(bL,[hV]),zi=hV(),EL=t=>{const{__scopeAlertDialog:e,...n}=t,r=zi(e);return c.jsx(AV,{...r,...n,modal:!0})};EL.displayName=bL;var sre="AlertDialogTrigger",ire=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zi(n);return c.jsx(fne,{...s,...r,ref:e})});ire.displayName=sre;var ore="AlertDialogPortal",TL=t=>{const{__scopeAlertDialog:e,...n}=t,r=zi(e);return c.jsx(RV,{...r,...n})};TL.displayName=ore;var are="AlertDialogOverlay",SL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zi(n);return c.jsx(HE,{...s,...r,ref:e})});SL.displayName=are;var _c="AlertDialogContent",[lre,cre]=rre(_c),ure=mk("AlertDialogContent"),CL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=zi(n),o=g.useRef(null),a=Ke(e,o),l=g.useRef(null);return c.jsx(cne,{contentName:_c,titleName:IL,docsSlug:"alert-dialog",children:c.jsx(lre,{scope:n,cancelRef:l,children:c.jsxs(KE,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:oe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(ure,{children:r}),c.jsx(hre,{contentRef:o})]})})})});CL.displayName=_c;var IL="AlertDialogTitle",AL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zi(n);return c.jsx(GE,{...s,...r,ref:e})});AL.displayName=IL;var RL="AlertDialogDescription",NL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zi(n);return c.jsx(qE,{...s,...r,ref:e})});NL.displayName=RL;var dre="AlertDialogAction",PL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=zi(n);return c.jsx(Tv,{...s,...r,ref:e})});PL.displayName=dre;var kL="AlertDialogCancel",jL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=cre(kL,n),i=zi(n),o=Ke(e,s);return c.jsx(Tv,{...i,...r,ref:o})});jL.displayName=kL;var hre=({contentRef:t})=>{const e=`\`${_c}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_c}\` by passing a \`${RL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_c}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},fre=EL,mre=TL,DL=SL,ML=CL,OL=PL,VL=jL,LL=AL,FL=NL;const pre=fre,gre=mre,UL=g.forwardRef(({className:t,...e},n)=>c.jsx(DL,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));UL.displayName=DL.displayName;const $L=g.forwardRef(({className:t,...e},n)=>c.jsxs(gre,{children:[c.jsx(UL,{}),c.jsx(ML,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));$L.displayName=ML.displayName;const BL=({className:t,...e})=>c.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",t),...e});BL.displayName="AlertDialogHeader";const zL=({className:t,...e})=>c.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});zL.displayName="AlertDialogFooter";const WL=g.forwardRef(({className:t,...e},n)=>c.jsx(LL,{ref:n,className:le("text-lg font-semibold",t),...e}));WL.displayName=LL.displayName;const HL=g.forwardRef(({className:t,...e},n)=>c.jsx(FL,{ref:n,className:le("text-sm text-muted-foreground",t),...e}));HL.displayName=FL.displayName;const KL=g.forwardRef(({className:t,...e},n)=>c.jsx(OL,{ref:n,className:le(cb(),t),...e}));KL.displayName=OL.displayName;const GL=g.forwardRef(({className:t,...e},n)=>c.jsx(VL,{ref:n,className:le(cb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));GL.displayName=VL.displayName;var y0="rovingFocusGroup.onEntryFocus",vre={bubbles:!1,cancelable:!0},af="RovingFocusGroup",[kw,qL,yre]=jg(af),[xre,xu]=jn(af,[yre]),[wre,_re]=xre(af),QL=g.forwardRef((t,e)=>c.jsx(kw.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(kw.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(bre,{...t,ref:e})})}));QL.displayName=af;var bre=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=g.useRef(null),p=Ke(e,m),E=sf(i),[v,y]=Us({prop:o,defaultProp:a??null,onChange:l,caller:af}),[_,w]=g.useState(!1),b=Bn(u),A=qL(n),P=g.useRef(!1),[M,C]=g.useState(0);return g.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(y0,b),()=>T.removeEventListener(y0,b)},[b]),c.jsx(wre,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(T=>y(T),[y]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>C(T=>T-1),[]),children:c.jsx(Se.div,{tabIndex:_||M===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{P.current=!0}),onFocus:oe(t.onFocus,T=>{const I=!P.current;if(T.target===T.currentTarget&&I&&!_){const R=new CustomEvent(y0,vre);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=A().filter(ne=>ne.focusable),j=D.find(ne=>ne.active),N=D.find(ne=>ne.id===v),ae=[j,N,...D].filter(Boolean).map(ne=>ne.ref.current);XL(ae,d)}}P.current=!1}),onBlur:oe(t.onBlur,()=>w(!1))})})}),YL="RovingFocusGroupItem",ZL=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=os(),u=i||l,d=_re(YL,n),f=d.currentTabStopId===u,m=qL(n),{onFocusableItemAdd:p,onFocusableItemRemove:E,currentTabStopId:v}=d;return g.useEffect(()=>{if(r)return p(),()=>E()},[r,p,E]),c.jsx(kw.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(Se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:oe(t.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:oe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:oe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=Sre(y,d.orientation,d.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(A=>A.focusable).map(A=>A.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const A=b.indexOf(y.currentTarget);b=d.loop?Cre(b,A+1):b.slice(A+1)}setTimeout(()=>XL(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});ZL.displayName=YL;var Ere={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Sre(t,e,n){const r=Tre(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ere[r]}function XL(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Cre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nT=QL,rT=ZL,jw=["Enter"," "],Ire=["ArrowDown","PageUp","Home"],JL=["ArrowUp","PageDown","End"],Are=[...Ire,...JL],Rre={ltr:[...jw,"ArrowRight"],rtl:[...jw,"ArrowLeft"]},Nre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lf="Menu",[mh,Pre,kre]=jg(lf),[Tl,e4]=jn(lf,[kre,uu,xu]),jv=uu(),t4=xu(),[jre,Sl]=Tl(lf),[Dre,cf]=Tl(lf),n4=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=jv(e),[l,u]=g.useState(null),d=g.useRef(!1),f=Bn(i),m=sf(s);return g.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),c.jsx(sb,{...a,children:c.jsx(jre,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(Dre,{scope:e,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};n4.displayName=lf;var Mre="MenuAnchor",sT=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jv(n);return c.jsx(ib,{...s,...r,ref:e})});sT.displayName=Mre;var iT="MenuPortal",[Ore,r4]=Tl(iT,{forceMount:void 0}),s4=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Sl(iT,e);return c.jsx(Ore,{scope:e,forceMount:n,children:c.jsx(Vr,{present:n||i.open,children:c.jsx(Vh,{asChild:!0,container:s,children:r})})})};s4.displayName=iT;var Dr="MenuContent",[Vre,oT]=Tl(Dr),i4=g.forwardRef((t,e)=>{const n=r4(Dr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Sl(Dr,t.__scopeMenu),o=cf(Dr,t.__scopeMenu);return c.jsx(mh.Provider,{scope:t.__scopeMenu,children:c.jsx(Vr,{present:r||i.open,children:c.jsx(mh.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(Lre,{...s,ref:e}):c.jsx(Fre,{...s,ref:e})})})})}),Lre=g.forwardRef((t,e)=>{const n=Sl(Dr,t.__scopeMenu),r=g.useRef(null),s=Ke(e,r);return g.useEffect(()=>{const i=r.current;if(i)return $E(i)},[]),c.jsx(aT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Fre=g.forwardRef((t,e)=>{const n=Sl(Dr,t.__scopeMenu);return c.jsx(aT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ure=el("MenuContent.ScrollLock"),aT=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:E,...v}=t,y=Sl(Dr,n),_=cf(Dr,n),w=jv(n),b=t4(n),A=Pre(n),[P,M]=g.useState(null),C=g.useRef(null),T=Ke(e,C,y.onContentChange),I=g.useRef(0),R=g.useRef(""),D=g.useRef(0),j=g.useRef(null),N=g.useRef("right"),z=g.useRef(0),ae=E?bv:g.Fragment,ne=E?{as:Ure,allowPinchZoom:!0}:void 0,Q=V=>{var L,se;const Z=R.current+V,pe=A().filter(Ie=>!Ie.disabled),re=document.activeElement,he=(L=pe.find(Ie=>Ie.ref.current===re))==null?void 0:L.textValue,te=pe.map(Ie=>Ie.textValue),ve=Xre(te,Z,he),Ee=(se=pe.find(Ie=>Ie.textValue===ve))==null?void 0:se.ref.current;(function Ie(we){R.current=we,window.clearTimeout(I.current),we!==""&&(I.current=window.setTimeout(()=>Ie(""),1e3))})(Z),Ee&&setTimeout(()=>Ee.focus())};g.useEffect(()=>()=>window.clearTimeout(I.current),[]),UE();const $=g.useCallback(V=>{var pe,re;return N.current===((pe=j.current)==null?void 0:pe.side)&&ese(V,(re=j.current)==null?void 0:re.area)},[]);return c.jsx(Vre,{scope:n,searchRef:R,onItemEnter:g.useCallback(V=>{$(V)&&V.preventDefault()},[$]),onItemLeave:g.useCallback(V=>{var Z;$(V)||((Z=C.current)==null||Z.focus(),M(null))},[$]),onTriggerLeave:g.useCallback(V=>{$(V)&&V.preventDefault()},[$]),pointerGraceTimerRef:D,onPointerGraceIntentChange:g.useCallback(V=>{j.current=V},[]),children:c.jsx(ae,{...ne,children:c.jsx(wv,{asChild:!0,trapped:s,onMountAutoFocus:oe(i,V=>{var Z;V.preventDefault(),(Z=C.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(ou,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:c.jsx(nT,{asChild:!0,...b,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:M,onEntryFocus:oe(l,V=>{_.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(ob,{role:"menu","aria-orientation":"vertical","data-state":_4(y.open),"data-radix-menu-content":"",dir:_.dir,...w,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:oe(v.onKeyDown,V=>{const pe=V.target.closest("[data-radix-menu-content]")===V.currentTarget,re=V.ctrlKey||V.altKey||V.metaKey,he=V.key.length===1;pe&&(V.key==="Tab"&&V.preventDefault(),!re&&he&&Q(V.key));const te=C.current;if(V.target!==te||!Are.includes(V.key))return;V.preventDefault();const Ee=A().filter(L=>!L.disabled).map(L=>L.ref.current);JL.includes(V.key)&&Ee.reverse(),Yre(Ee)}),onBlur:oe(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:oe(t.onPointerMove,ph(V=>{const Z=V.target,pe=z.current!==V.clientX;if(V.currentTarget.contains(Z)&&pe){const re=V.clientX>z.current?"right":"left";N.current=re,z.current=V.clientX}}))})})})})})})});i4.displayName=Dr;var $re="MenuGroup",lT=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(Se.div,{role:"group",...r,ref:e})});lT.displayName=$re;var Bre="MenuLabel",o4=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(Se.div,{...r,ref:e})});o4.displayName=Bre;var eg="MenuItem",aR="menu.itemSelect",Dv=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=cf(eg,t.__scopeMenu),a=oT(eg,t.__scopeMenu),l=Ke(e,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(aR,{bubbles:!0,cancelable:!0});f.addEventListener(aR,p=>r==null?void 0:r(p),{once:!0}),$_(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(a4,{...s,ref:l,disabled:n,onClick:oe(t.onClick,d),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),u.current=!0},onPointerUp:oe(t.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:oe(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||jw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Dv.displayName=eg;var a4=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=oT(eg,n),a=t4(n),l=g.useRef(null),u=Ke(e,l),[d,f]=g.useState(!1),[m,p]=g.useState("");return g.useEffect(()=>{const E=l.current;E&&p((E.textContent??"").trim())},[i.children]),c.jsx(mh.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:c.jsx(rT,{asChild:!0,...a,focusable:!r,children:c.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:oe(t.onPointerMove,ph(E=>{r?o.onItemLeave(E):(o.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,ph(E=>o.onItemLeave(E))),onFocus:oe(t.onFocus,()=>f(!0)),onBlur:oe(t.onBlur,()=>f(!1))})})})}),zre="MenuCheckboxItem",l4=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx(f4,{scope:t.__scopeMenu,checked:n,children:c.jsx(Dv,{role:"menuitemcheckbox","aria-checked":tg(n)?"mixed":n,...s,ref:e,"data-state":uT(n),onSelect:oe(s.onSelect,()=>r==null?void 0:r(tg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});l4.displayName=zre;var c4="MenuRadioGroup",[Wre,Hre]=Tl(c4,{value:void 0,onValueChange:()=>{}}),u4=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Bn(r);return c.jsx(Wre,{scope:t.__scopeMenu,value:n,onValueChange:i,children:c.jsx(lT,{...s,ref:e})})});u4.displayName=c4;var d4="MenuRadioItem",h4=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=Hre(d4,t.__scopeMenu),i=n===s.value;return c.jsx(f4,{scope:t.__scopeMenu,checked:i,children:c.jsx(Dv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":uT(i),onSelect:oe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});h4.displayName=d4;var cT="MenuItemIndicator",[f4,Kre]=Tl(cT,{checked:!1}),m4=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Kre(cT,n);return c.jsx(Vr,{present:r||tg(i.checked)||i.checked===!0,children:c.jsx(Se.span,{...s,ref:e,"data-state":uT(i.checked)})})});m4.displayName=cT;var Gre="MenuSeparator",p4=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});p4.displayName=Gre;var qre="MenuArrow",g4=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jv(n);return c.jsx(ab,{...s,...r,ref:e})});g4.displayName=qre;var Qre="MenuSub",[_ae,v4]=Tl(Qre),sd="MenuSubTrigger",y4=g.forwardRef((t,e)=>{const n=Sl(sd,t.__scopeMenu),r=cf(sd,t.__scopeMenu),s=v4(sd,t.__scopeMenu),i=oT(sd,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),c.jsx(sT,{asChild:!0,...u,children:c.jsx(a4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":_4(n.open),...t,ref:kg(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,ph(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:oe(t.onPointerLeave,ph(f=>{var p,E;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(E=n.content)==null?void 0:E.dataset.side,y=v==="right",_=y?-5:5,w=m[y?"left":"right"],b=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:w,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:w,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||Rre[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});y4.displayName=sd;var x4="MenuSubContent",w4=g.forwardRef((t,e)=>{const n=r4(Dr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Sl(Dr,t.__scopeMenu),o=cf(Dr,t.__scopeMenu),a=v4(x4,t.__scopeMenu),l=g.useRef(null),u=Ke(e,l);return c.jsx(mh.Provider,{scope:t.__scopeMenu,children:c.jsx(Vr,{present:r||i.open,children:c.jsx(mh.Slot,{scope:t.__scopeMenu,children:c.jsx(aT,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:oe(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:oe(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=Nre[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});w4.displayName=x4;function _4(t){return t?"open":"closed"}function tg(t){return t==="indeterminate"}function uT(t){return tg(t)?"indeterminate":t?"checked":"unchecked"}function Yre(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Zre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Xre(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Zre(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Jre(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function ese(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Jre(n,e)}function ph(t){return e=>e.pointerType==="mouse"?t(e):void 0}var tse=n4,nse=sT,rse=s4,sse=i4,ise=lT,ose=o4,ase=Dv,lse=l4,cse=u4,use=h4,dse=m4,hse=p4,fse=g4,mse=y4,pse=w4,Mv="DropdownMenu",[gse,bae]=jn(Mv,[e4]),Kn=e4(),[vse,b4]=gse(Mv),E4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Kn(e),u=g.useRef(null),[d,f]=Us({prop:s,defaultProp:i??!1,onChange:o,caller:Mv});return c.jsx(vse,{scope:e,triggerId:os(),triggerRef:u,contentId:os(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),modal:a,children:c.jsx(tse,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};E4.displayName=Mv;var T4="DropdownMenuTrigger",S4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=b4(T4,n),o=Kn(n);return c.jsx(nse,{asChild:!0,...o,children:c.jsx(Se.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:kg(e,i.triggerRef),onPointerDown:oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});S4.displayName=T4;var yse="DropdownMenuPortal",C4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Kn(e);return c.jsx(rse,{...r,...n})};C4.displayName=yse;var I4="DropdownMenuContent",A4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=b4(I4,n),i=Kn(n),o=g.useRef(!1);return c.jsx(sse,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A4.displayName=I4;var xse="DropdownMenuGroup",wse=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(ise,{...s,...r,ref:e})});wse.displayName=xse;var _se="DropdownMenuLabel",R4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(ose,{...s,...r,ref:e})});R4.displayName=_se;var bse="DropdownMenuItem",N4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(ase,{...s,...r,ref:e})});N4.displayName=bse;var Ese="DropdownMenuCheckboxItem",P4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(lse,{...s,...r,ref:e})});P4.displayName=Ese;var Tse="DropdownMenuRadioGroup",Sse=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(cse,{...s,...r,ref:e})});Sse.displayName=Tse;var Cse="DropdownMenuRadioItem",k4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(use,{...s,...r,ref:e})});k4.displayName=Cse;var Ise="DropdownMenuItemIndicator",j4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(dse,{...s,...r,ref:e})});j4.displayName=Ise;var Ase="DropdownMenuSeparator",D4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(hse,{...s,...r,ref:e})});D4.displayName=Ase;var Rse="DropdownMenuArrow",Nse=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(fse,{...s,...r,ref:e})});Nse.displayName=Rse;var Pse="DropdownMenuSubTrigger",M4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(mse,{...s,...r,ref:e})});M4.displayName=Pse;var kse="DropdownMenuSubContent",O4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return c.jsx(pse,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O4.displayName=kse;var jse=E4,Dse=S4,Mse=C4,V4=A4,L4=R4,F4=N4,U4=P4,$4=k4,B4=j4,z4=D4,W4=M4,H4=O4;const Ose=jse,Vse=Dse,Lse=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>c.jsxs(W4,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,c.jsx(Vg,{className:"ml-auto h-4 w-4"})]}));Lse.displayName=W4.displayName;const Fse=g.forwardRef(({className:t,...e},n)=>c.jsx(H4,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Fse.displayName=H4.displayName;const K4=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(Mse,{children:c.jsx(V4,{ref:r,sideOffset:e,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));K4.displayName=V4.displayName;const Um=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(F4,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Um.displayName=F4.displayName;const Use=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>c.jsxs(U4,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(B4,{children:c.jsx(Bk,{className:"h-4 w-4"})})}),e]}));Use.displayName=U4.displayName;const $se=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs($4,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(B4,{children:c.jsx(Wk,{className:"h-2 w-2 fill-current"})})}),e]}));$se.displayName=$4.displayName;const Bse=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(L4,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Bse.displayName=L4.displayName;const zse=g.forwardRef(({className:t,...e},n)=>c.jsx(z4,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));zse.displayName=z4.displayName;var uf=t=>t.type==="checkbox",Ma=t=>t instanceof Date,Vn=t=>t==null;const G4=t=>typeof t=="object";var Bt=t=>!Vn(t)&&!Array.isArray(t)&&G4(t)&&!Ma(t),q4=t=>Bt(t)&&t.target?uf(t.target)?t.target.checked:t.target.value:t,Wse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Q4=(t,e)=>t.has(Wse(e)),Hse=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},dT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function an(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(dT&&(t instanceof Blob||r))&&(n||Bt(t)))if(e=n?[]:{},!n&&!Hse(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=an(t[s]));else return t;return e}var Ov=t=>Array.isArray(t)?t.filter(Boolean):[],Ft=t=>t===void 0,ce=(t,e,n)=>{if(!e||!Bt(t))return n;const r=Ov(e.split(/[,[\].]+?/)).reduce((s,i)=>Vn(s)?s:s[i],t);return Ft(r)||r===t?Ft(t[e])?n:t[e]:r},ur=t=>typeof t=="boolean",hT=t=>/^\w*$/.test(t),Y4=t=>Ov(t.replace(/["|']|\]/g,"").split(/\.|\[/)),lt=(t,e,n)=>{let r=-1;const s=hT(e)?[e]:Y4(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=Bt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const ng={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Jr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},oi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Z4=K.createContext(null),Vv=()=>K.useContext(Z4),X4=t=>{const{children:e,...n}=t;return K.createElement(Z4.Provider,{value:n},e)};var J4=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Jr.all&&(e._proxyFormState[o]=!r||Jr.all),n&&(n[o]=!0),t[o]}});return s},Dw=t=>Vn(t)||!G4(t);function gi(t,e){if(Dw(t)||Dw(e))return t===e;if(Ma(t)&&Ma(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ma(i)&&Ma(o)||Bt(i)&&Bt(o)||Array.isArray(i)&&Array.isArray(o)?!gi(i,o):i!==o)return!1}}return!0}const eF=(t,e)=>{const n=g.useRef(e);gi(e,n.current)||(n.current=e),g.useEffect(t,n.current)};function Kse(t){const e=Vv(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=K.useState(n._formState),l=K.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return eF(()=>n._subscribe({name:s,formState:l.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[s,r,i]),K.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),K.useMemo(()=>J4(o,n,l.current,!1),[o,n])}var As=t=>typeof t=="string",tF=(t,e,n,r,s)=>As(t)?(r&&e.watch.add(t),ce(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ce(n,i))):(r&&(e.watchAll=!0),n);function Gse(t){const e=Vv(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},[a,l]=K.useState(n._getWatch(r,s));return eF(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:u=>!i&&l(tF(r,n._names,u.values||n._formValues,!1,s))}),[r,s,i,o]),K.useEffect(()=>n._removeUnmounted()),a}function qse(t){const e=Vv(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=Q4(s._names.array,n),a=Gse({control:s,name:n,defaultValue:ce(s._formValues,n,ce(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Kse({control:s,name:n,exact:!0}),u=K.useRef(t),d=K.useRef(s.register(n,{...t.rules,value:a,...ur(t.disabled)?{disabled:t.disabled}:{}})),f=K.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ce(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ce(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ce(l.validatingFields,n)},error:{enumerable:!0,get:()=>ce(l.errors,n)}}),[l,n]),m=K.useCallback(y=>d.current.onChange({target:{value:q4(y),name:n},type:ng.CHANGE}),[n]),p=K.useCallback(()=>d.current.onBlur({target:{value:ce(s._formValues,n),name:n},type:ng.BLUR}),[n,s._formValues]),E=K.useCallback(y=>{const _=ce(s._fields,n);_&&y&&(_._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:w=>y.setCustomValidity(w),reportValidity:()=>y.reportValidity()})},[s._fields,n]),v=K.useMemo(()=>({name:n,value:a,...ur(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:m,onBlur:p,ref:E}),[n,r,l.disabled,m,p,E,a]);return K.useEffect(()=>{const y=s._options.shouldUnregister||i;s.register(n,{...u.current.rules,...ur(u.current.disabled)?{disabled:u.current.disabled}:{}});const _=(w,b)=>{const A=ce(s._fields,w);A&&A._f&&(A._f.mount=b)};if(_(n,!0),y){const w=an(ce(s._options.defaultValues,n));lt(s._defaultValues,n,w),Ft(ce(s._formValues,n))&&lt(s._formValues,n,w)}return!o&&s.register(n),()=>{(o?y&&!s._state.action:y)?s.unregister(n):_(n,!1)}},[n,s,o,i]),K.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),K.useMemo(()=>({field:v,formState:l,fieldState:f}),[v,l,f])}const Qse=t=>t.render(qse(t));var nF=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Sd=t=>Array.isArray(t)?t:[t],lR=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Mn=t=>Bt(t)&&!Object.keys(t).length,fT=t=>t.type==="file",es=t=>typeof t=="function",rg=t=>{if(!dT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rF=t=>t.type==="select-multiple",mT=t=>t.type==="radio",Yse=t=>mT(t)||uf(t),x0=t=>rg(t)&&t.isConnected;function Zse(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ft(t)?r++:t[e[r++]];return t}function Xse(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ft(t[e]))return!1;return!0}function qt(t,e){const n=Array.isArray(e)?e:hT(e)?[e]:Y4(e),r=n.length===1?t:Zse(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Bt(r)&&Mn(r)||Array.isArray(r)&&Xse(r))&&qt(t,n.slice(0,-1)),t}var sF=t=>{for(const e in t)if(es(t[e]))return!0;return!1};function sg(t,e={}){const n=Array.isArray(t);if(Bt(t)||n)for(const r in t)Array.isArray(t[r])||Bt(t[r])&&!sF(t[r])?(e[r]=Array.isArray(t[r])?[]:{},sg(t[r],e[r])):Vn(t[r])||(e[r]=!0);return e}function iF(t,e,n){const r=Array.isArray(t);if(Bt(t)||r)for(const s in t)Array.isArray(t[s])||Bt(t[s])&&!sF(t[s])?Ft(e)||Dw(n[s])?n[s]=Array.isArray(t[s])?sg(t[s],[]):{...sg(t[s])}:iF(t[s],Vn(e)?{}:e[s],n[s]):n[s]=!gi(t[s],e[s]);return n}var Bu=(t,e)=>iF(t,e,sg(e));const cR={value:!1,isValid:!1},uR={value:!0,isValid:!0};var oF=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ft(t[0].attributes.value)?Ft(t[0].value)||t[0].value===""?uR:{value:t[0].value,isValid:!0}:uR:cR}return cR},aF=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ft(t)?t:e?t===""?NaN:t&&+t:n&&As(t)?new Date(t):r?r(t):t;const dR={isValid:!1,value:null};var lF=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,dR):dR;function hR(t){const e=t.ref;return fT(e)?e.files:mT(e)?lF(t.refs).value:rF(e)?[...e.selectedOptions].map(({value:n})=>n):uf(e)?oF(t.refs).value:aF(Ft(e.value)?t.ref.value:e.value,t)}var Jse=(t,e,n,r)=>{const s={};for(const i of t){const o=ce(e,i);o&&lt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},ig=t=>t instanceof RegExp,zu=t=>Ft(t)?t:ig(t)?t.source:Bt(t)?ig(t.value)?t.value.source:t.value:t,fR=t=>({isOnSubmit:!t||t===Jr.onSubmit,isOnBlur:t===Jr.onBlur,isOnChange:t===Jr.onChange,isOnAll:t===Jr.all,isOnTouch:t===Jr.onTouched});const mR="AsyncFunction";var eie=t=>!!t&&!!t.validate&&!!(es(t.validate)&&t.validate.constructor.name===mR||Bt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===mR)),tie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),pR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Cd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ce(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Cd(a,e))break}else if(Bt(a)&&Cd(a,e))break}}};function gR(t,e,n){const r=ce(t,n);if(r||hT(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ce(e,i),a=ce(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var nie=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Mn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Jr.all))},rie=(t,e,n)=>!t||!e||t===e||Sd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),sie=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,iie=(t,e)=>!Ov(ce(t,e)).length&&qt(t,e),oie=(t,e,n)=>{const r=Sd(ce(t,n));return lt(r,"root",e[n]),lt(t,n,r),t},$m=t=>As(t);function vR(t,e,n="validate"){if($m(t)||Array.isArray(t)&&t.every($m)||ur(t)&&!t)return{type:n,message:$m(t)?t:"",ref:e}}var Dl=t=>Bt(t)&&!ig(t)?t:{value:t,message:""},yR=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:E,name:v,valueAsNumber:y,mount:_}=t._f,w=ce(n,v);if(!_||e.has(v))return{};const b=a?a[0]:o,A=j=>{s&&b.reportValidity&&(b.setCustomValidity(ur(j)?"":j||""),b.reportValidity())},P={},M=mT(o),C=uf(o),T=M||C,I=(y||fT(o))&&Ft(o.value)&&Ft(w)||rg(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,R=nF.bind(null,v,r,P),D=(j,N,z,ae=oi.maxLength,ne=oi.minLength)=>{const Q=j?N:z;P[v]={type:j?ae:ne,message:Q,ref:o,...R(j?ae:ne,Q)}};if(i?!Array.isArray(w)||!w.length:l&&(!T&&(I||Vn(w))||ur(w)&&!w||C&&!oF(a).isValid||M&&!lF(a).isValid)){const{value:j,message:N}=$m(l)?{value:!!l,message:l}:Dl(l);if(j&&(P[v]={type:oi.required,message:N,ref:b,...R(oi.required,N)},!r))return A(N),P}if(!I&&(!Vn(f)||!Vn(m))){let j,N;const z=Dl(m),ae=Dl(f);if(!Vn(w)&&!isNaN(w)){const ne=o.valueAsNumber||w&&+w;Vn(z.value)||(j=ne>z.value),Vn(ae.value)||(N=ne<ae.value)}else{const ne=o.valueAsDate||new Date(w),Q=Z=>new Date(new Date().toDateString()+" "+Z),$=o.type=="time",V=o.type=="week";As(z.value)&&w&&(j=$?Q(w)>Q(z.value):V?w>z.value:ne>new Date(z.value)),As(ae.value)&&w&&(N=$?Q(w)<Q(ae.value):V?w<ae.value:ne<new Date(ae.value))}if((j||N)&&(D(!!j,z.message,ae.message,oi.max,oi.min),!r))return A(P[v].message),P}if((u||d)&&!I&&(As(w)||i&&Array.isArray(w))){const j=Dl(u),N=Dl(d),z=!Vn(j.value)&&w.length>+j.value,ae=!Vn(N.value)&&w.length<+N.value;if((z||ae)&&(D(z,j.message,N.message),!r))return A(P[v].message),P}if(p&&!I&&As(w)){const{value:j,message:N}=Dl(p);if(ig(j)&&!w.match(j)&&(P[v]={type:oi.pattern,message:N,ref:o,...R(oi.pattern,N)},!r))return A(N),P}if(E){if(es(E)){const j=await E(w,n),N=vR(j,b);if(N&&(P[v]={...N,...R(oi.validate,N.message)},!r))return A(N.message),P}else if(Bt(E)){let j={};for(const N in E){if(!Mn(j)&&!r)break;const z=vR(await E[N](w,n),b,N);z&&(j={...z,...R(N,z.message)},A(z.message),r&&(P[v]=j))}if(!Mn(j)&&(P[v]={ref:b,...j},!r))return P}}return A(!0),P};const aie={mode:Jr.onSubmit,reValidateMode:Jr.onChange,shouldFocusError:!0};function lie(t={}){let e={...aie,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:es(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=Bt(e.defaultValues)||Bt(e.values)?an(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:an(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:lR(),state:lR()},p=fR(e.mode),E=fR(e.reValidateMode),v=e.criteriaMode===Jr.all,y=O=>U=>{clearTimeout(u),u=setTimeout(O,U)},_=async O=>{if(!e.disabled&&(d.isValid||f.isValid||O)){const U=e.resolver?Mn((await I()).errors):await D(r,!0);U!==n.isValid&&m.state.next({isValid:U})}},w=(O,U)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((O||Array.from(a.mount)).forEach(W=>{W&&(U?lt(n.validatingFields,W,U):qt(n.validatingFields,W))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Mn(n.validatingFields)}))},b=(O,U=[],W,de,Y=!0,q=!0)=>{if(de&&W&&!e.disabled){if(o.action=!0,q&&Array.isArray(ce(r,O))){const fe=W(ce(r,O),de.argA,de.argB);Y&&lt(r,O,fe)}if(q&&Array.isArray(ce(n.errors,O))){const fe=W(ce(n.errors,O),de.argA,de.argB);Y&&lt(n.errors,O,fe),iie(n.errors,O)}if((d.touchedFields||f.touchedFields)&&q&&Array.isArray(ce(n.touchedFields,O))){const fe=W(ce(n.touchedFields,O),de.argA,de.argB);Y&&lt(n.touchedFields,O,fe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Bu(s,i)),m.state.next({name:O,isDirty:N(O,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else lt(i,O,U)},A=(O,U)=>{lt(n.errors,O,U),m.state.next({errors:n.errors})},P=O=>{n.errors=O,m.state.next({errors:n.errors,isValid:!1})},M=(O,U,W,de)=>{const Y=ce(r,O);if(Y){const q=ce(i,O,Ft(W)?ce(s,O):W);Ft(q)||de&&de.defaultChecked||U?lt(i,O,U?q:hR(Y._f)):ne(O,q),o.mount&&_()}},C=(O,U,W,de,Y)=>{let q=!1,fe=!1;const Ge={name:O};if(!e.disabled){if(!W||de){(d.isDirty||f.isDirty)&&(fe=n.isDirty,n.isDirty=Ge.isDirty=N(),q=fe!==Ge.isDirty);const dt=gi(ce(s,O),U);fe=!!ce(n.dirtyFields,O),dt?qt(n.dirtyFields,O):lt(n.dirtyFields,O,!0),Ge.dirtyFields=n.dirtyFields,q=q||(d.dirtyFields||f.dirtyFields)&&fe!==!dt}if(W){const dt=ce(n.touchedFields,O);dt||(lt(n.touchedFields,O,W),Ge.touchedFields=n.touchedFields,q=q||(d.touchedFields||f.touchedFields)&&dt!==W)}q&&Y&&m.state.next(Ge)}return q?Ge:{}},T=(O,U,W,de)=>{const Y=ce(n.errors,O),q=(d.isValid||f.isValid)&&ur(U)&&n.isValid!==U;if(e.delayError&&W?(l=y(()=>A(O,W)),l(e.delayError)):(clearTimeout(u),l=null,W?lt(n.errors,O,W):qt(n.errors,O)),(W?!gi(Y,W):Y)||!Mn(de)||q){const fe={...de,...q&&ur(U)?{isValid:U}:{},errors:n.errors,name:O};n={...n,...fe},m.state.next(fe)}},I=async O=>{w(O,!0);const U=await e.resolver(i,e.context,Jse(O||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(O),U},R=async O=>{const{errors:U}=await I(O);if(O)for(const W of O){const de=ce(U,W);de?lt(n.errors,W,de):qt(n.errors,W)}else n.errors=U;return U},D=async(O,U,W={valid:!0})=>{for(const de in O){const Y=O[de];if(Y){const{_f:q,...fe}=Y;if(q){const Ge=a.array.has(q.name),dt=Y._f&&eie(Y._f);dt&&d.validatingFields&&w([de],!0);const zt=await yR(Y,a.disabled,i,v,e.shouldUseNativeValidation&&!U,Ge);if(dt&&d.validatingFields&&w([de]),zt[q.name]&&(W.valid=!1,U))break;!U&&(ce(zt,q.name)?Ge?oie(n.errors,zt,q.name):lt(n.errors,q.name,zt[q.name]):qt(n.errors,q.name))}!Mn(fe)&&await D(fe,U,W)}}return W.valid},j=()=>{for(const O of a.unMount){const U=ce(r,O);U&&(U._f.refs?U._f.refs.every(W=>!x0(W)):!x0(U._f.ref))&&Ie(O)}a.unMount=new Set},N=(O,U)=>!e.disabled&&(O&&U&&lt(i,O,U),!gi(re(),s)),z=(O,U,W)=>tF(O,a,{...o.mount?i:Ft(U)?s:As(O)?{[O]:U}:U},W,U),ae=O=>Ov(ce(o.mount?i:s,O,e.shouldUnregister?ce(s,O,[]):[])),ne=(O,U,W={})=>{const de=ce(r,O);let Y=U;if(de){const q=de._f;q&&(!q.disabled&&lt(i,O,aF(U,q)),Y=rg(q.ref)&&Vn(U)?"":U,rF(q.ref)?[...q.ref.options].forEach(fe=>fe.selected=Y.includes(fe.value)):q.refs?uf(q.ref)?q.refs.length>1?q.refs.forEach(fe=>(!fe.defaultChecked||!fe.disabled)&&(fe.checked=Array.isArray(Y)?!!Y.find(Ge=>Ge===fe.value):Y===fe.value)):q.refs[0]&&(q.refs[0].checked=!!Y):q.refs.forEach(fe=>fe.checked=fe.value===Y):fT(q.ref)?q.ref.value="":(q.ref.value=Y,q.ref.type||m.state.next({name:O,values:an(i)})))}(W.shouldDirty||W.shouldTouch)&&C(O,Y,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&pe(O)},Q=(O,U,W)=>{for(const de in U){const Y=U[de],q=`${O}.${de}`,fe=ce(r,q);(a.array.has(O)||Bt(Y)||fe&&!fe._f)&&!Ma(Y)?Q(q,Y,W):ne(q,Y,W)}},$=(O,U,W={})=>{const de=ce(r,O),Y=a.array.has(O),q=an(U);lt(i,O,q),Y?(m.array.next({name:O,values:an(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&W.shouldDirty&&m.state.next({name:O,dirtyFields:Bu(s,i),isDirty:N(O,q)})):de&&!de._f&&!Vn(q)?Q(O,q,W):ne(O,q,W),pR(O,a)&&m.state.next({...n}),m.state.next({name:o.mount?O:void 0,values:an(i)})},V=async O=>{o.mount=!0;const U=O.target;let W=U.name,de=!0;const Y=ce(r,W),q=fe=>{de=Number.isNaN(fe)||Ma(fe)&&isNaN(fe.getTime())||gi(fe,ce(i,W,fe))};if(Y){let fe,Ge;const dt=U.type?hR(Y._f):q4(O),zt=O.type===ng.BLUR||O.type===ng.FOCUS_OUT,ps=!tie(Y._f)&&!e.resolver&&!ce(n.errors,W)&&!Y._f.deps||sie(zt,ce(n.touchedFields,W),n.isSubmitted,E,p),gs=pR(W,a,zt);lt(i,W,dt),zt?(Y._f.onBlur&&Y._f.onBlur(O),l&&l(0)):Y._f.onChange&&Y._f.onChange(O);const or=C(W,dt,zt),Wi=!Mn(or)||gs;if(!zt&&m.state.next({name:W,type:O.type,values:an(i)}),ps)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?zt&&_():zt||_()),Wi&&m.state.next({name:W,...gs?{}:or});if(!zt&&gs&&m.state.next({...n}),e.resolver){const{errors:Ur}=await I([W]);if(q(dt),de){const wu=gR(n.errors,r,W),Hi=gR(Ur,r,wu.name||W);fe=Hi.error,W=Hi.name,Ge=Mn(Ur)}}else w([W],!0),fe=(await yR(Y,a.disabled,i,v,e.shouldUseNativeValidation))[W],w([W]),q(dt),de&&(fe?Ge=!1:(d.isValid||f.isValid)&&(Ge=await D(r,!0)));de&&(Y._f.deps&&pe(Y._f.deps),T(W,Ge,fe,or))}},Z=(O,U)=>{if(ce(n.errors,U)&&O.focus)return O.focus(),1},pe=async(O,U={})=>{let W,de;const Y=Sd(O);if(e.resolver){const q=await R(Ft(O)?O:Y);W=Mn(q),de=O?!Y.some(fe=>ce(q,fe)):W}else O?(de=(await Promise.all(Y.map(async q=>{const fe=ce(r,q);return await D(fe&&fe._f?{[q]:fe}:fe)}))).every(Boolean),!(!de&&!n.isValid)&&_()):de=W=await D(r);return m.state.next({...!As(O)||(d.isValid||f.isValid)&&W!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:W}:{},errors:n.errors}),U.shouldFocus&&!de&&Cd(r,Z,O?Y:a.mount),de},re=O=>{const U={...o.mount?i:s};return Ft(O)?U:As(O)?ce(U,O):O.map(W=>ce(U,W))},he=(O,U)=>({invalid:!!ce((U||n).errors,O),isDirty:!!ce((U||n).dirtyFields,O),error:ce((U||n).errors,O),isValidating:!!ce(n.validatingFields,O),isTouched:!!ce((U||n).touchedFields,O)}),te=O=>{O&&Sd(O).forEach(U=>qt(n.errors,U)),m.state.next({errors:O?n.errors:{}})},ve=(O,U,W)=>{const de=(ce(r,O,{_f:{}})._f||{}).ref,Y=ce(n.errors,O)||{},{ref:q,message:fe,type:Ge,...dt}=Y;lt(n.errors,O,{...dt,...U,ref:de}),m.state.next({name:O,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&de&&de.focus&&de.focus()},Ee=(O,U)=>es(O)?m.state.subscribe({next:W=>O(z(void 0,U),W)}):z(O,U,!0),L=O=>m.state.subscribe({next:U=>{rie(O.name,U.name,O.exact)&&nie(U,O.formState||d,Lr,O.reRenderRoot)&&O.callback({values:{...i},...n,...U})}}).unsubscribe,se=O=>(o.mount=!0,f={...f,...O.formState},L({...O,formState:f})),Ie=(O,U={})=>{for(const W of O?Sd(O):a.mount)a.mount.delete(W),a.array.delete(W),U.keepValue||(qt(r,W),qt(i,W)),!U.keepError&&qt(n.errors,W),!U.keepDirty&&qt(n.dirtyFields,W),!U.keepTouched&&qt(n.touchedFields,W),!U.keepIsValidating&&qt(n.validatingFields,W),!e.shouldUnregister&&!U.keepDefaultValue&&qt(s,W);m.state.next({values:an(i)}),m.state.next({...n,...U.keepDirty?{isDirty:N()}:{}}),!U.keepIsValid&&_()},we=({disabled:O,name:U})=>{(ur(O)&&o.mount||O||a.disabled.has(U))&&(O?a.disabled.add(U):a.disabled.delete(U))},xe=(O,U={})=>{let W=ce(r,O);const de=ur(U.disabled)||ur(e.disabled);return lt(r,O,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:O}},name:O,mount:!0,...U}}),a.mount.add(O),W?we({disabled:ur(U.disabled)?U.disabled:e.disabled,name:O}):M(O,!0,U.value),{...de?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:zu(U.min),max:zu(U.max),minLength:zu(U.minLength),maxLength:zu(U.maxLength),pattern:zu(U.pattern)}:{},name:O,onChange:V,onBlur:V,ref:Y=>{if(Y){xe(O,U),W=ce(r,O);const q=Ft(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,fe=Yse(q),Ge=W._f.refs||[];if(fe?Ge.find(dt=>dt===q):q===W._f.ref)return;lt(r,O,{_f:{...W._f,...fe?{refs:[...Ge.filter(x0),q,...Array.isArray(ce(s,O))?[{}]:[]],ref:{type:q.type,name:O}}:{ref:q}}}),M(O,!1,void 0,q)}else W=ce(r,O,{}),W._f&&(W._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(Q4(a.array,O)&&o.action)&&a.unMount.add(O)}}},Le=()=>e.shouldFocusError&&Cd(r,Z,a.mount),Tt=O=>{ur(O)&&(m.state.next({disabled:O}),Cd(r,(U,W)=>{const de=ce(r,W);de&&(U.disabled=de._f.disabled||O,Array.isArray(de._f.refs)&&de._f.refs.forEach(Y=>{Y.disabled=de._f.disabled||O}))},0,!1))},Pt=(O,U)=>async W=>{let de;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let Y=an(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:q,values:fe}=await I();n.errors=q,Y=fe}else await D(r);if(a.disabled.size)for(const q of a.disabled)lt(Y,q,void 0);if(qt(n.errors,"root"),Mn(n.errors)){m.state.next({errors:{}});try{await O(Y,W)}catch(q){de=q}}else U&&await U({...n.errors},W),Le(),setTimeout(Le);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(n.errors)&&!de,submitCount:n.submitCount+1,errors:n.errors}),de)throw de},ir=(O,U={})=>{ce(r,O)&&(Ft(U.defaultValue)?$(O,an(ce(s,O))):($(O,U.defaultValue),lt(s,O,an(U.defaultValue))),U.keepTouched||qt(n.touchedFields,O),U.keepDirty||(qt(n.dirtyFields,O),n.isDirty=U.defaultValue?N(O,an(ce(s,O))):N()),U.keepError||(qt(n.errors,O),d.isValid&&_()),m.state.next({...n}))},Gn=(O,U={})=>{const W=O?an(O):s,de=an(W),Y=Mn(O),q=Y?s:de;if(U.keepDefaultValues||(s=W),!U.keepValues){if(U.keepDirtyValues){const fe=new Set([...a.mount,...Object.keys(Bu(s,i))]);for(const Ge of Array.from(fe))ce(n.dirtyFields,Ge)?lt(q,Ge,ce(i,Ge)):$(Ge,ce(q,Ge))}else{if(dT&&Ft(O))for(const fe of a.mount){const Ge=ce(r,fe);if(Ge&&Ge._f){const dt=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(rg(dt)){const zt=dt.closest("form");if(zt){zt.reset();break}}}}for(const fe of a.mount)$(fe,ce(q,fe))}i=an(q),m.array.next({values:{...q}}),m.state.next({values:{...q}})}a={mount:U.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:Y?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!gi(O,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Y?{}:U.keepDirtyValues?U.keepDefaultValues&&i?Bu(s,i):n.dirtyFields:U.keepDefaultValues&&O?Bu(s,O):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Tr=(O,U)=>Gn(es(O)?O(i):O,U),ti=(O,U={})=>{const W=ce(r,O),de=W&&W._f;if(de){const Y=de.refs?de.refs[0]:de.ref;Y.focus&&(Y.focus(),U.shouldSelect&&es(Y.select)&&Y.select())}},Lr=O=>{n={...n,...O}},Fr={control:{register:xe,unregister:Ie,getFieldState:he,handleSubmit:Pt,setError:ve,_subscribe:L,_runSchema:I,_getWatch:z,_getDirty:N,_setValid:_,_setFieldArray:b,_setDisabledField:we,_setErrors:P,_getFieldArray:ae,_reset:Gn,_resetDefaultValues:()=>es(e.defaultValues)&&e.defaultValues().then(O=>{Tr(O,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:Tt,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(O){o=O},get _defaultValues(){return s},get _names(){return a},set _names(O){a=O},get _formState(){return n},get _options(){return e},set _options(O){e={...e,...O}}},subscribe:se,trigger:pe,register:xe,handleSubmit:Pt,watch:Ee,setValue:$,getValues:re,reset:Tr,resetField:ir,clearErrors:te,unregister:Ie,setError:ve,setFocus:ti,getFieldState:he};return{...Fr,formControl:Fr}}const cie=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Lv(t={}){const e=K.useRef(void 0),n=K.useRef(void 0),[r,s]=K.useState({isDirty:!1,isValidating:!1,isLoading:es(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:es(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:lie(t),formState:r},t.formControl&&t.defaultValues&&!es(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,cie(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),K.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),K.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode),t.errors&&!Mn(t.errors)&&i._setErrors(t.errors)},[i,t.errors,t.mode,t.reValidateMode]),K.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),K.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),K.useEffect(()=>{t.values&&!gi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),K.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=J4(r,i),e.current}var tt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(tt||(tt={}));var Mw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Mw||(Mw={}));const me=tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mi=t=>{switch(typeof t){case"undefined":return me.undefined;case"string":return me.string;case"number":return isNaN(t)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(t)?me.array:t===null?me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?me.promise:typeof Map<"u"&&t instanceof Map?me.map:typeof Set<"u"&&t instanceof Set?me.set:typeof Date<"u"&&t instanceof Date?me.date:me.object;default:return me.unknown}},J=tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uie=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class xr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof xr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}xr.create=t=>new xr(t);const Xc=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===me.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,tt.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${tt.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${tt.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${tt.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:tt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,tt.assertNever(t)}return{message:n}};let cF=Xc;function die(t){cF=t}function og(){return cF}const ag=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},hie=[];function ue(t,e){const n=og(),r=ag({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Xc?void 0:Xc].filter(s=>!!s)});t.common.issues.push(r)}class kn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return je;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return kn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return je;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const je=Object.freeze({status:"aborted"}),oc=t=>({status:"dirty",value:t}),zn=t=>({status:"valid",value:t}),Ow=t=>t.status==="aborted",Vw=t=>t.status==="dirty",fl=t=>t.status==="valid",gh=t=>typeof Promise<"u"&&t instanceof Promise;function lg(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function uF(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var _e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_e||(_e={}));var id,od;class qs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xR=(t,e)=>{if(fl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new xr(t.common.issues);return this._error=n,this._error}}};function Ue(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class ze{get description(){return this._def.description}_getType(e){return mi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new kn,ctx:{common:e.parent.common,data:e.data,parsedType:mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mi(e)},i=this._parseSync({data:e,path:s.path,parent:s});return xR(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return fl(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>fl(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(gh(s)?s:Promise.resolve(s));return xR(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new fs({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Fs.create(this,this._def)}nullable(){return na.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return as.create(this)}promise(){return eu.create(this,this._def)}or(e){return wh.create([this,e],this._def)}and(e){return _h.create(this,e,this._def)}transform(e){return new fs({...Ue(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ch({...Ue(this._def),innerType:this,defaultValue:n,typeName:ke.ZodDefault})}brand(){return new pT({typeName:ke.ZodBranded,type:this,...Ue(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ih({...Ue(this._def),innerType:this,catchValue:n,typeName:ke.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return df.create(this,e)}readonly(){return Ah.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fie=/^c[^\s-]{8,}$/i,mie=/^[0-9a-z]+$/,pie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vie=/^[a-z0-9_-]{21}$/i,yie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_ie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let w0;const bie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Eie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Tie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Iie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Aie=new RegExp(`^${dF}$`);function hF(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Rie(t){return new RegExp(`^${hF(t)}$`)}function fF(t){let e=`${dF}T${hF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Nie(t,e){return!!((e==="v4"||!e)&&bie.test(t)||(e==="v6"||!e)&&Tie.test(t))}function Pie(t,e){if(!yie.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function kie(t,e){return!!((e==="v4"||!e)&&Eie.test(t)||(e==="v6"||!e)&&Sie.test(t))}class rs extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const i=this._getOrReturnCtx(e);return ue(i,{code:J.invalid_type,expected:me.string,received:i.parsedType}),je}const r=new kn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ue(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ue(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")wie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")w0||(w0=new RegExp(_ie,"u")),w0.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")gie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")vie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")fie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")mie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")pie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ue(s,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ue(s,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?fF(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Aie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Rie(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?xie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Nie(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Pie(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"jwt",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?kie(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cidr",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Cie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Iie.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64url",code:J.invalid_string,message:i.message}),r.dirty()):tt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,..._e.errToObj(r)})}_addCheck(e){return new rs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._e.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._e.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,..._e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._e.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._e.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._e.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._e.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._e.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._e.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._e.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._e.errToObj(n)})}nonempty(e){return this.min(1,_e.errToObj(e))}trim(){return new rs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}rs.create=t=>{var e;return new rs({checks:[],typeName:ke.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ue(t)})};function jie(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Jo extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const i=this._getOrReturnCtx(e);return ue(i,{code:J.invalid_type,expected:me.number,received:i.parsedType}),je}let r;const s=new kn;for(const i of this._def.checks)i.kind==="int"?tt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?jie(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ue(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:J.not_finite,message:i.message}),s.dirty()):tt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,r,s){return new Jo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new Jo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&tt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Jo.create=t=>new Jo({checks:[],typeName:ke.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ue(t)});class ea extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let r;const s=new kn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):tt.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ue(n,{code:J.invalid_type,expected:me.bigint,received:n.parsedType}),je}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,r,s){return new ea({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new ea({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ea.create=t=>{var e;return new ea({checks:[],typeName:ke.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ue(t)})};class vh extends ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const r=this._getOrReturnCtx(e);return ue(r,{code:J.invalid_type,expected:me.boolean,received:r.parsedType}),je}return zn(e.data)}}vh.create=t=>new vh({typeName:ke.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ue(t)});class ml extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const i=this._getOrReturnCtx(e);return ue(i,{code:J.invalid_type,expected:me.date,received:i.parsedType}),je}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ue(i,{code:J.invalid_date}),je}const r=new kn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):tt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ml({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_e.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_e.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ml.create=t=>new ml({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ke.ZodDate,...Ue(t)});class cg extends ze{_parse(e){if(this._getType(e)!==me.symbol){const r=this._getOrReturnCtx(e);return ue(r,{code:J.invalid_type,expected:me.symbol,received:r.parsedType}),je}return zn(e.data)}}cg.create=t=>new cg({typeName:ke.ZodSymbol,...Ue(t)});class yh extends ze{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return ue(r,{code:J.invalid_type,expected:me.undefined,received:r.parsedType}),je}return zn(e.data)}}yh.create=t=>new yh({typeName:ke.ZodUndefined,...Ue(t)});class xh extends ze{_parse(e){if(this._getType(e)!==me.null){const r=this._getOrReturnCtx(e);return ue(r,{code:J.invalid_type,expected:me.null,received:r.parsedType}),je}return zn(e.data)}}xh.create=t=>new xh({typeName:ke.ZodNull,...Ue(t)});class Jc extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return zn(e.data)}}Jc.create=t=>new Jc({typeName:ke.ZodAny,...Ue(t)});class qa extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zn(e.data)}}qa.create=t=>new qa({typeName:ke.ZodUnknown,...Ue(t)});class Ui extends ze{_parse(e){const n=this._getOrReturnCtx(e);return ue(n,{code:J.invalid_type,expected:me.never,received:n.parsedType}),je}}Ui.create=t=>new Ui({typeName:ke.ZodNever,...Ue(t)});class ug extends ze{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return ue(r,{code:J.invalid_type,expected:me.void,received:r.parsedType}),je}return zn(e.data)}}ug.create=t=>new ug({typeName:ke.ZodVoid,...Ue(t)});class as extends ze{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==me.array)return ue(n,{code:J.invalid_type,expected:me.array,received:n.parsedType}),je;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ue(n,{code:o?J.too_big:J.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ue(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ue(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new qs(n,o,n.path,a)))).then(o=>kn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new qs(n,o,n.path,a)));return kn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new as({...this._def,minLength:{value:e,message:_e.toString(n)}})}max(e,n){return new as({...this._def,maxLength:{value:e,message:_e.toString(n)}})}length(e,n){return new as({...this._def,exactLength:{value:e,message:_e.toString(n)}})}nonempty(e){return this.min(1,e)}}as.create=(t,e)=>new as({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...Ue(e)});function Fl(t){if(t instanceof St){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Fs.create(Fl(r))}return new St({...t._def,shape:()=>e})}else return t instanceof as?new as({...t._def,type:Fl(t.element)}):t instanceof Fs?Fs.create(Fl(t.unwrap())):t instanceof na?na.create(Fl(t.unwrap())):t instanceof Qs?Qs.create(t.items.map(e=>Fl(e))):t}class St extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=tt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==me.object){const u=this._getOrReturnCtx(e);return ue(u,{code:J.invalid_type,expected:me.object,received:u.parsedType}),je}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ui&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new qs(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ui){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(ue(s,{code:J.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new qs(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>kn.mergeObjectSync(r,u)):kn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return _e.errToObj,new St({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=_e.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(e){return new St({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new St({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ke.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new St({...this._def,catchall:e})}pick(e){const n={};return tt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new St({...this._def,shape:()=>n})}omit(e){const n={};return tt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new St({...this._def,shape:()=>n})}deepPartial(){return Fl(this)}partial(e){const n={};return tt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new St({...this._def,shape:()=>n})}required(e){const n={};return tt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Fs;)i=i._def.innerType;n[r]=i}}),new St({...this._def,shape:()=>n})}keyof(){return mF(tt.objectKeys(this.shape))}}St.create=(t,e)=>new St({shape:()=>t,unknownKeys:"strip",catchall:Ui.create(),typeName:ke.ZodObject,...Ue(e)});St.strictCreate=(t,e)=>new St({shape:()=>t,unknownKeys:"strict",catchall:Ui.create(),typeName:ke.ZodObject,...Ue(e)});St.lazycreate=(t,e)=>new St({shape:t,unknownKeys:"strip",catchall:Ui.create(),typeName:ke.ZodObject,...Ue(e)});class wh extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new xr(a.ctx.common.issues));return ue(n,{code:J.invalid_union,unionErrors:o}),je}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new xr(l));return ue(n,{code:J.invalid_union,unionErrors:a}),je}}get options(){return this._def.options}}wh.create=(t,e)=>new wh({options:t,typeName:ke.ZodUnion,...Ue(e)});const di=t=>t instanceof Eh?di(t.schema):t instanceof fs?di(t.innerType()):t instanceof Th?[t.value]:t instanceof ta?t.options:t instanceof Sh?tt.objectValues(t.enum):t instanceof Ch?di(t._def.innerType):t instanceof yh?[void 0]:t instanceof xh?[null]:t instanceof Fs?[void 0,...di(t.unwrap())]:t instanceof na?[null,...di(t.unwrap())]:t instanceof pT||t instanceof Ah?di(t.unwrap()):t instanceof Ih?di(t._def.innerType):[];class Fv extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.object)return ue(n,{code:J.invalid_type,expected:me.object,received:n.parsedType}),je;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ue(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=di(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Fv({typeName:ke.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ue(r)})}}function Lw(t,e){const n=mi(t),r=mi(e);if(t===e)return{valid:!0,data:t};if(n===me.object&&r===me.object){const s=tt.objectKeys(e),i=tt.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Lw(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===me.array&&r===me.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Lw(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===me.date&&r===me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _h extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Ow(i)||Ow(o))return je;const a=Lw(i.value,o.value);return a.valid?((Vw(i)||Vw(o))&&n.dirty(),{status:n.value,value:a.data}):(ue(r,{code:J.invalid_intersection_types}),je)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_h.create=(t,e,n)=>new _h({left:t,right:e,typeName:ke.ZodIntersection,...Ue(n)});class Qs extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.array)return ue(r,{code:J.invalid_type,expected:me.array,received:r.parsedType}),je;if(r.data.length<this._def.items.length)return ue(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),je;!this._def.rest&&r.data.length>this._def.items.length&&(ue(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new qs(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>kn.mergeArray(n,o)):kn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Qs({...this._def,rest:e})}}Qs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qs({items:t,typeName:ke.ZodTuple,rest:null,...Ue(e)})};class bh extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.object)return ue(r,{code:J.invalid_type,expected:me.object,received:r.parsedType}),je;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new qs(r,a,r.path,a)),value:o._parse(new qs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?kn.mergeObjectAsync(n,s):kn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ze?new bh({keyType:e,valueType:n,typeName:ke.ZodRecord,...Ue(r)}):new bh({keyType:rs.create(),valueType:e,typeName:ke.ZodRecord,...Ue(n)})}}class dg extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.map)return ue(r,{code:J.invalid_type,expected:me.map,received:r.parsedType}),je;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new qs(r,a,r.path,[u,"key"])),value:i._parse(new qs(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}dg.create=(t,e,n)=>new dg({valueType:e,keyType:t,typeName:ke.ZodMap,...Ue(n)});class pl extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.set)return ue(r,{code:J.invalid_type,expected:me.set,received:r.parsedType}),je;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ue(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ue(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return je;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new qs(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new pl({...this._def,minSize:{value:e,message:_e.toString(n)}})}max(e,n){return new pl({...this._def,maxSize:{value:e,message:_e.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}pl.create=(t,e)=>new pl({valueType:t,minSize:null,maxSize:null,typeName:ke.ZodSet,...Ue(e)});class bc extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.function)return ue(n,{code:J.invalid_type,expected:me.function,received:n.parsedType}),je;function r(a,l){return ag({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,og(),Xc].filter(u=>!!u),issueData:{code:J.invalid_arguments,argumentsError:l}})}function s(a,l){return ag({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,og(),Xc].filter(u=>!!u),issueData:{code:J.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof eu){const a=this;return zn(async function(...l){const u=new xr([]),d=await a._def.args.parseAsync(l,i).catch(p=>{throw u.addIssue(r(l,p)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const a=this;return zn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new xr([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new xr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new bc({...this._def,args:Qs.create(e).rest(qa.create())})}returns(e){return new bc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new bc({args:e||Qs.create([]).rest(qa.create()),returns:n||qa.create(),typeName:ke.ZodFunction,...Ue(r)})}}class Eh extends ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Eh.create=(t,e)=>new Eh({getter:t,typeName:ke.ZodLazy,...Ue(e)});class Th extends ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ue(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),je}return{status:"valid",value:e.data}}get value(){return this._def.value}}Th.create=(t,e)=>new Th({value:t,typeName:ke.ZodLiteral,...Ue(e)});function mF(t,e){return new ta({values:t,typeName:ke.ZodEnum,...Ue(e)})}class ta extends ze{constructor(){super(...arguments),id.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ue(n,{expected:tt.joinValues(r),received:n.parsedType,code:J.invalid_type}),je}if(lg(this,id)||uF(this,id,new Set(this._def.values)),!lg(this,id).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ue(n,{received:n.data,code:J.invalid_enum_value,options:r}),je}return zn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ta.create(e,{...this._def,...n})}exclude(e,n=this._def){return ta.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}id=new WeakMap;ta.create=mF;class Sh extends ze{constructor(){super(...arguments),od.set(this,void 0)}_parse(e){const n=tt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==me.string&&r.parsedType!==me.number){const s=tt.objectValues(n);return ue(r,{expected:tt.joinValues(s),received:r.parsedType,code:J.invalid_type}),je}if(lg(this,od)||uF(this,od,new Set(tt.getValidEnumValues(this._def.values))),!lg(this,od).has(e.data)){const s=tt.objectValues(n);return ue(r,{received:r.data,code:J.invalid_enum_value,options:s}),je}return zn(e.data)}get enum(){return this._def.values}}od=new WeakMap;Sh.create=(t,e)=>new Sh({values:t,typeName:ke.ZodNativeEnum,...Ue(e)});class eu extends ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.promise&&n.common.async===!1)return ue(n,{code:J.invalid_type,expected:me.promise,received:n.parsedType}),je;const r=n.parsedType===me.promise?n.data:Promise.resolve(n.data);return zn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}eu.create=(t,e)=>new eu({type:t,typeName:ke.ZodPromise,...Ue(e)});class fs extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ue(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return je;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?je:l.status==="dirty"||n.value==="dirty"?oc(l.value):l});{if(n.value==="aborted")return je;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?je:a.status==="dirty"||n.value==="dirty"?oc(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?je:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?je:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!fl(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>fl(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);tt.assertNever(s)}}fs.create=(t,e,n)=>new fs({schema:t,typeName:ke.ZodEffects,effect:e,...Ue(n)});fs.createWithPreprocess=(t,e,n)=>new fs({schema:e,effect:{type:"preprocess",transform:t},typeName:ke.ZodEffects,...Ue(n)});class Fs extends ze{_parse(e){return this._getType(e)===me.undefined?zn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fs.create=(t,e)=>new Fs({innerType:t,typeName:ke.ZodOptional,...Ue(e)});class na extends ze{_parse(e){return this._getType(e)===me.null?zn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}na.create=(t,e)=>new na({innerType:t,typeName:ke.ZodNullable,...Ue(e)});class Ch extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ch.create=(t,e)=>new Ch({innerType:t,typeName:ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ue(e)});class Ih extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gh(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ih.create=(t,e)=>new Ih({innerType:t,typeName:ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ue(e)});class hg extends ze{_parse(e){if(this._getType(e)!==me.nan){const r=this._getOrReturnCtx(e);return ue(r,{code:J.invalid_type,expected:me.nan,received:r.parsedType}),je}return{status:"valid",value:e.data}}}hg.create=t=>new hg({typeName:ke.ZodNaN,...Ue(t)});const Die=Symbol("zod_brand");class pT extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class df extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?je:i.status==="dirty"?(n.dirty(),oc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?je:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new df({in:e,out:n,typeName:ke.ZodPipeline})}}class Ah extends ze{_parse(e){const n=this._def.innerType._parse(e),r=s=>(fl(s)&&(s.value=Object.freeze(s.value)),s);return gh(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ah.create=(t,e)=>new Ah({innerType:t,typeName:ke.ZodReadonly,...Ue(e)});function wR(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function pF(t,e={},n){return t?Jc.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var u,d;if(!l){const f=wR(e,r),m=(d=(u=f.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:m})}});if(!a){const l=wR(e,r),u=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:u})}}):Jc.create()}const Mie={object:St.lazycreate};var ke;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ke||(ke={}));const Oie=(t,e={message:`Input not instance of ${t.name}`})=>pF(n=>n instanceof t,e),gF=rs.create,vF=Jo.create,Vie=hg.create,Lie=ea.create,yF=vh.create,Fie=ml.create,Uie=cg.create,$ie=yh.create,Bie=xh.create,zie=Jc.create,Wie=qa.create,Hie=Ui.create,Kie=ug.create,Gie=as.create,qie=St.create,Qie=St.strictCreate,Yie=wh.create,Zie=Fv.create,Xie=_h.create,Jie=Qs.create,eoe=bh.create,toe=dg.create,noe=pl.create,roe=bc.create,soe=Eh.create,ioe=Th.create,ooe=ta.create,aoe=Sh.create,loe=eu.create,_R=fs.create,coe=Fs.create,uoe=na.create,doe=fs.createWithPreprocess,hoe=df.create,foe=()=>gF().optional(),moe=()=>vF().optional(),poe=()=>yF().optional(),goe={string:t=>rs.create({...t,coerce:!0}),number:t=>Jo.create({...t,coerce:!0}),boolean:t=>vh.create({...t,coerce:!0}),bigint:t=>ea.create({...t,coerce:!0}),date:t=>ml.create({...t,coerce:!0})},voe=je;var He=Object.freeze({__proto__:null,defaultErrorMap:Xc,setErrorMap:die,getErrorMap:og,makeIssue:ag,EMPTY_PATH:hie,addIssueToContext:ue,ParseStatus:kn,INVALID:je,DIRTY:oc,OK:zn,isAborted:Ow,isDirty:Vw,isValid:fl,isAsync:gh,get util(){return tt},get objectUtil(){return Mw},ZodParsedType:me,getParsedType:mi,ZodType:ze,datetimeRegex:fF,ZodString:rs,ZodNumber:Jo,ZodBigInt:ea,ZodBoolean:vh,ZodDate:ml,ZodSymbol:cg,ZodUndefined:yh,ZodNull:xh,ZodAny:Jc,ZodUnknown:qa,ZodNever:Ui,ZodVoid:ug,ZodArray:as,ZodObject:St,ZodUnion:wh,ZodDiscriminatedUnion:Fv,ZodIntersection:_h,ZodTuple:Qs,ZodRecord:bh,ZodMap:dg,ZodSet:pl,ZodFunction:bc,ZodLazy:Eh,ZodLiteral:Th,ZodEnum:ta,ZodNativeEnum:Sh,ZodPromise:eu,ZodEffects:fs,ZodTransformer:fs,ZodOptional:Fs,ZodNullable:na,ZodDefault:Ch,ZodCatch:Ih,ZodNaN:hg,BRAND:Die,ZodBranded:pT,ZodPipeline:df,ZodReadonly:Ah,custom:pF,Schema:ze,ZodSchema:ze,late:Mie,get ZodFirstPartyTypeKind(){return ke},coerce:goe,any:zie,array:Gie,bigint:Lie,boolean:yF,date:Fie,discriminatedUnion:Zie,effect:_R,enum:ooe,function:roe,instanceof:Oie,intersection:Xie,lazy:soe,literal:ioe,map:toe,nan:Vie,nativeEnum:aoe,never:Hie,null:Bie,nullable:uoe,number:vF,object:qie,oboolean:poe,onumber:moe,optional:coe,ostring:foe,pipeline:hoe,preprocess:doe,promise:loe,record:eoe,set:noe,strictObject:Qie,string:gF,symbol:Uie,transformer:_R,tuple:Jie,undefined:$ie,union:Yie,unknown:Wie,void:Kie,NEVER:voe,ZodIssueCode:J,quotelessJson:uie,ZodError:xr});const bR=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ce(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},xF=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?bR(r.ref,n,t):r.refs&&r.refs.forEach(s=>bR(s,n,t))}},yoe=(t,e)=>{e.shouldUseNativeValidation&&xF(t,e);const n={};for(const r in t){const s=ce(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(xoe(e.names||Object.keys(t),r)){const o=Object.assign({},ce(n,r));lt(o,"root",i),lt(n,r,o)}else lt(n,r,i)}return n},xoe=(t,e)=>t.some(n=>n.startsWith(e+"."));var woe=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=nF(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},Uv=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&xF({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:yoe(woe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const gT=X4,wF=g.createContext({}),at=({...t})=>c.jsx(wF.Provider,{value:{name:t.name},children:c.jsx(Qse,{...t})}),$v=()=>{const t=g.useContext(wF),e=g.useContext(_F),{getFieldState:n,formState:r}=Vv(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},_F=g.createContext({}),Ze=g.forwardRef(({className:t,...e},n)=>{const r=g.useId();return c.jsx(_F.Provider,{value:{id:r},children:c.jsx("div",{ref:n,className:le("space-y-2",t),...e})})});Ze.displayName="FormItem";const Xe=g.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=$v();return c.jsx(wc,{ref:n,className:le(r&&"text-destructive",t),htmlFor:s,...e})});Xe.displayName="FormLabel";const Je=g.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=$v();return c.jsx(hk,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Je.displayName="FormControl";const _oe=g.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=$v();return c.jsx("p",{ref:n,id:r,className:le("text-sm text-muted-foreground",t),...e})});_oe.displayName="FormDescription";const ot=g.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=$v(),o=s?String(s==null?void 0:s.message):e;return o?c.jsx("p",{ref:r,id:i,className:le("text-sm font-medium text-destructive",t),...n,children:o}):null});ot.displayName="FormMessage";const Ji=({icon:t,label:e,value:n})=>c.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200/60 hover:shadow-md transition-all duration-300 space-y-1.5 group hover:border-primary/20",children:[c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 group-hover:text-primary/70 transition-colors",children:[c.jsx("div",{className:"p-1.5 bg-white rounded-full shadow-sm border border-gray-100",children:t}),c.jsx("span",{children:e})]}),c.jsx("div",{className:"font-medium text-gray-800 pl-1",children:n})]}),ER=({title:t,value:e,maxValue:n,progressValue:r,icon:s,bgColor:i,textColor:o,progressColor:a,description:l,warning:u,info:d})=>{const f=r!==void 0?r:e/n*100;return c.jsx(hn,{className:"overflow-hidden",children:c.jsx(fn,{className:"p-5",children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:`${i} p-4 rounded-full mb-4`,children:s}),c.jsx("h3",{className:`text-lg font-semibold mb-1 ${o}`,children:t}),c.jsxs("div",{className:"flex items-center justify-center gap-1.5 mb-2",children:[c.jsx(Un,{className:`${o} ${i} border-0 text-base font-semibold px-3`,children:e}),n!==e&&c.jsxs("span",{className:"text-gray-400",children:["/ ",n]})]}),c.jsx("p",{className:"text-sm text-gray-500 mb-3",children:l}),c.jsx("div",{className:"w-full",children:c.jsx(be.div,{className:"h-2 rounded-full bg-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:c.jsx(be.div,{className:`h-full rounded-full ${a}`,initial:{width:0},animate:{width:`${f}%`},transition:{duration:.7,delay:.2}})})}),u&&c.jsx("p",{className:"text-xs text-red-600 mt-2 font-medium",children:u}),d&&c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:d})]})})})},boe=He.object({nome:He.string().min(2,{message:"Nome deve ter pelo menos 2 caracteres"}),email:He.string().email({message:"Email inválido"}),telefone:He.string().optional(),setor:He.string().optional(),cargo:He.string().optional(),curso:He.string().optional(),idade:He.string().transform(t=>{const e=parseInt(t);return isNaN(e)?void 0:e}).optional(),dataEntradaEmpresa:He.string().optional()});function TR({user:t,open:e,onOpenChange:n,onUserUpdate:r,isAdmin:s=!1,isPowerUser:i=!1}){const[o,a]=g.useState("perfil"),[l,u]=g.useState(!1),[d,f]=g.useState("notificacao"),[m,p]=g.useState(t.status),[E,v]=g.useState(!1),[y,_]=g.useState(!1),[w,b]=g.useState(!1),[A,P]=g.useState(""),M=["Consultoria Empresarial","Departamento Pessoal","Desenvolvimento Organizacional","Diretoria","Engenharia","Financeiro","Gestão de Pessoas","Gestão de Processos","Inovações","Jurídico","Marketing","Produtos","Recrutamento","Vendas"],C=["Analista","Trainee","Consultor","Diretor","Diretora","Head","Presidente Executivo"],T=t.advertencias||0,I=t.notificacoes||0,R=Lv({resolver:Uv(boe),defaultValues:{nome:t.nome,email:t.email,telefone:t.telefone||"",setor:t.setor||"",cargo:t.role||t.cargo||"",curso:t.curso||"",idade:t.idade||void 0,dataEntradaEmpresa:t.dataEntradaEmpresa||""}}),D=L=>{f(L),u(!0)},j=()=>{v(!0)},N=async()=>{_(!0);try{const L=hr(Dt,"users",t.id);await ci(ws(Dt,"deletedUsers"),{...t,deletedAt:cn(),deletedBy:"admin"}),await QQ(L),Ce.success(`Usuário ${t.nome} excluído com sucesso`),v(!1),n(!1),r()}catch(L){console.error("Erro ao excluir usuário:",L),Ce.error("Erro ao excluir usuário. Tente novamente")}finally{_(!1)}},z=async L=>{_(!0);try{console.log("Processando ação",d,"para usuário",t.id,{tipoAcao:d,advertenciasAtuais:t.advertencias,statusAtual:t.status});const se=hr(Dt,"users",t.id),Ie=await Jh(se);if(!Ie.exists()){Ce.error("Usuário não encontrado"),_(!1),u(!1);return}const we=Ie.data();if(await ci(ws(Dt,"actionLogs"),{userId:t.id,userName:t.nome,actionType:d,motivo:L,createdBy:"admin",timestamp:cn()}),d==="notificacao")try{if(await lr(se,{notificacoes:ZQ(1)}),await ci(ws(Dt,"notifications"),{userId:t.id,title:"Notificação do sistema",message:L,date:new Date().toLocaleDateString(),isNew:!0,priority:"Média",timestamp:cn()}),((we.notificacoes||0)+1)%3===0){const Pt=(we.advertencias||0)+1;await lr(se,{advertencias:Pt}),await ci(ws(Dt,"actionLogs"),{userId:t.id,userName:t.nome,actionType:"advertencia",motivo:"Advertência automática gerada por acúmulo de 3 notificações",createdBy:"system",isAutomatic:!0,timestamp:cn()}),Ce.warning(`${t.nome} recebeu uma advertência automática por acumular 3 notificações`),Pt>=3&&await ae(se,t.nome,"Banimento automático por acúmulo de 3 advertências")}Ce.success(`${t.nome} foi notificado com sucesso.`)}catch(xe){console.error("Erro ao processar notificação:",xe),Ce.error(`Erro ao notificar: ${(xe==null?void 0:xe.message)||"Erro desconhecido"}`)}else if(d==="advertencia")try{const Le=(we.advertencias||0)+1;await lr(se,{advertencias:Le}),Ce.warning(`${t.nome} foi advertido com sucesso.`),Le>=3&&await ae(se,t.nome,"Banimento automático por acúmulo de 3 advertências")}catch(xe){console.error("Erro ao processar advertência:",xe),Ce.error(`Erro ao advertir: ${(xe==null?void 0:xe.message)||"Erro desconhecido"}`)}else if(d==="banimento")try{m==="Banido"?(await lr(se,{status:"Ativo",banReason:null,advertencias:0,notificacoes:0,lastReactivated:cn()}),p("Ativo"),Ce.success("Usuário reativado com sucesso! Contadores zerados.")):(await lr(se,{status:"Banido",banReason:L,bannedAt:cn()}),p("Banido"),Ce.success("Usuário foi banido com sucesso"))}catch(xe){console.error("Erro ao processar banimento:",xe),Ce.error(`Erro ao banir/reativar: ${(xe==null?void 0:xe.message)||"Erro desconhecido"}`)}r()}catch(se){console.error("Erro ao processar ação:",se),Ce.error(`Erro ao realizar ação: ${(se==null?void 0:se.message)||"Erro desconhecido"}`)}finally{_(!1),u(!1)}},ae=async(L,se,Ie)=>{try{await lr(L,{status:"Banido",banReason:Ie,bannedAt:cn()}),await ci(ws(Dt,"actionLogs"),{userId:t.id,userName:se,actionType:"banimento",motivo:Ie,createdBy:"system",isAutomatic:!0,timestamp:cn()}),p("Banido"),Ce.error(`${se} foi banido automaticamente: ${Ie}`)}catch(we){console.error("Erro ao aplicar banimento automático:",we),Ce.error("Erro ao aplicar banimento automático")}},ne=t.role==="Presidente",Q=s||ne,$=async()=>{_(!0);try{const L=hr(Dt,"users",t.id);await lr(L,{advertencias:0}),await ci(ws(Dt,"actionLogs"),{userId:t.id,userName:t.nome,actionType:"limparAdvertencias",motivo:"Limpeza manual de advertências",createdBy:"admin",timestamp:cn()}),Ce.success(`Advertências de ${t.nome} foram zeradas com sucesso`),r()}catch(L){console.error("Erro ao limpar advertências:",L),Ce.error("Erro ao limpar advertências")}finally{_(!1)}},V=async()=>{_(!0);try{const L=hr(Dt,"users",t.id);await lr(L,{notificacoes:0}),await ci(ws(Dt,"actionLogs"),{userId:t.id,userName:t.nome,actionType:"limparNotificacoes",motivo:"Limpeza manual de notificações",createdBy:"admin",timestamp:cn()}),Ce.success(`Notificações de ${t.nome} foram zeradas com sucesso`),r()}catch(L){console.error("Erro ao limpar notificações:",L),Ce.error("Erro ao limpar notificações")}finally{_(!1)}},Z=async()=>{_(!0);try{const L=hr(Dt,"users",t.id);await lr(L,{advertencias:0,notificacoes:0}),await ci(ws(Dt,"actionLogs"),{userId:t.id,userName:t.nome,actionType:"limparTudo",motivo:"Limpeza completa de contadores (advertências e notificações)",createdBy:"admin",timestamp:cn()}),Ce.success(`Todos os contadores de ${t.nome} foram zerados com sucesso`),r()}catch(L){console.error("Erro ao limpar contadores:",L),Ce.error("Erro ao limpar contadores")}finally{_(!1)}},pe=L=>L?L.split(" ").map(se=>se.charAt(0).toUpperCase()).join("").substring(0,2):"U",re=s||i,he=L=>{switch(L){case"Ativo":return c.jsx(Un,{className:"bg-green-500 hover:bg-green-600 border-0",children:L});case"Inativo":return c.jsx(Un,{variant:"secondary",children:L});case"Banido":return c.jsx(Un,{className:"bg-red-500 hover:bg-red-600 border-0",children:L})}},te=()=>{if(w){b(!1),P(""),R.reset({nome:t.nome,email:t.email,telefone:t.telefone||"",setor:t.setor||"",cargo:t.role||t.cargo||"",curso:t.curso||"",idade:t.idade||void 0,dataEntradaEmpresa:t.dataEntradaEmpresa||""});return}R.reset({nome:t.nome,email:t.email,telefone:t.telefone||"",setor:t.setor||"",cargo:t.role||t.cargo||"",curso:t.curso||"",idade:t.idade||void 0,dataEntradaEmpresa:t.dataEntradaEmpresa||""}),b(!0),P("personal"),a("perfil")},ve=L=>{P(L),b(!0)},Ee=async L=>{_(!0);try{const se=hr(Dt,"users",t.id),Ie=typeof L.idade=="string"&&L.idade!==""?parseInt(L.idade):typeof L.idade=="number"?L.idade:null,we={nome:L.nome,email:L.email,telefone:L.telefone||null,curso:L.curso||null,idade:Ie,updatedAt:cn()};(s||i)&&(we.setor=L.setor||null,we.cargo=L.cargo||null,t.role!==void 0&&(we.role=L.cargo||null),we.dataEntradaEmpresa=L.dataEntradaEmpresa||null),await lr(se,we),Ce.success("Perfil atualizado com sucesso!"),b(!1),r()}catch(se){console.error("Erro ao atualizar perfil:",se),Ce.error("Erro ao atualizar perfil. Por favor, tente novamente.")}finally{_(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx(QE,{open:e,onOpenChange:L=>{L||(b(!1),P("")),n(L)},children:c.jsxs(Sv,{className:"sm:max-w-xl md:max-w-3xl max-h-[95vh] overflow-y-auto p-0 rounded-xl border shadow-xl",children:[c.jsxs(be.div,{className:"relative bg-gradient-to-r from-primary/90 via-primary to-primary/80 overflow-hidden",initial:{opacity:0},animate:{opacity:1},children:[c.jsx(be.div,{className:"absolute inset-0 bg-[url('/pattern-dots.png')] bg-repeat opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{repeat:1/0,repeatType:"reverse",duration:60}}),c.jsxs(Cv,{className:"px-6 py-6 sm:py-8 relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs(Av,{className:"flex items-center gap-3 text-white",children:[c.jsx("div",{className:"p-2.5 bg-white/10 rounded-lg backdrop-blur-sm",children:c.jsx(Ln,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold",children:"Detalhes do Usuário"})]}),c.jsx(pne,{asChild:!0,children:c.jsxs(Be,{variant:"ghost",size:"icon",className:"text-white bg-white/10 hover:bg-white/20 rounded-full backdrop-blur-sm",children:[c.jsx(tl,{className:"h-5 w-5"}),c.jsx("span",{className:"sr-only",children:"Fechar"})]})})]}),w&&c.jsx("div",{className:"flex items-center gap-2 mt-2",children:c.jsx(Un,{className:"bg-white/20 text-white backdrop-blur-sm border-white/10",children:"Modo de Edição"})}),c.jsx(Rv,{className:"text-white/90 mt-2 font-medium",children:t.nome})]})]}),c.jsx("div",{className:"bg-white sticky top-0 z-10 shadow-sm",children:c.jsx("div",{className:"flex justify-center border-b",children:c.jsxs("div",{className:"w-full max-w-md flex",children:[c.jsxs("button",{onClick:()=>a("perfil"),className:`relative flex items-center justify-center gap-2 flex-1 py-4 px-2 font-medium 
                    transition-all duration-300 border-b-2 ${o==="perfil"?"text-primary border-primary":"text-gray-600 border-transparent hover:text-gray-900 hover:border-gray-300"}`,children:[c.jsx("div",{className:`p-1.5 rounded-md ${o==="perfil"?"bg-primary/10":"bg-gray-100"}`,children:c.jsx(Ln,{className:`h-4 w-4 ${o==="perfil"?"text-primary":"text-gray-500"}`})}),c.jsx("span",{className:"text-sm",children:"Perfil"})]}),c.jsxs("button",{onClick:()=>a("penalidades"),className:`relative flex items-center justify-center gap-2 flex-1 py-4 px-2 font-medium 
                    transition-all duration-300 border-b-2 ${o==="penalidades"?"text-primary border-primary":"text-gray-600 border-transparent hover:text-gray-900 hover:border-gray-300"}`,children:[c.jsx("div",{className:`p-1.5 rounded-md ${o==="penalidades"?"bg-primary/10":"bg-gray-100"}`,children:c.jsx(Sa,{className:`h-4 w-4 ${o==="penalidades"?"text-primary":"text-gray-500"}`})}),c.jsx("span",{className:"text-sm",children:"Penalidades"})]})]})})}),c.jsxs("div",{className:"py-5 px-4 sm:px-6",children:[" ",c.jsxs(Wa,{mode:"wait",children:[o==="perfil"&&c.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:w?c.jsx("div",{className:"space-y-6",children:c.jsx(gT,{...R,children:c.jsxs("form",{onSubmit:R.handleSubmit(Ee),className:"space-y-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs(be.div,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-blue-700 mb-1",children:[c.jsx(Ra,{className:"h-5 w-5 text-blue-600"}),A==="personal"?"Editar Informações Pessoais":"Editar Informações Profissionais"]}),c.jsx("p",{className:"text-sm text-blue-600",children:s?"Como administrador, você pode editar todos os campos deste usuário.":"Preencha os campos abaixo para atualizar as informações."}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[c.jsxs(Be,{type:"button",size:"sm",variant:A==="personal"?"default":"outline",onClick:()=>P("personal"),className:"rounded-full",children:[c.jsx(Ln,{className:"h-3.5 w-3.5 mr-1"}),"Dados Pessoais"]}),c.jsxs(Be,{type:"button",size:"sm",variant:A==="professional"?"default":"outline",onClick:()=>P("professional"),className:"rounded-full",children:[c.jsx(Xl,{className:"h-3.5 w-3.5 mr-1"}),"Dados Profissionais"]})]})]}),A==="personal"?c.jsxs(be.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[c.jsx("h4",{className:"text-base font-medium mb-4 text-gray-700",children:"Informações Pessoais"}),c.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[c.jsx(at,{control:R.control,name:"nome",render:({field:L})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("div",{className:"p-1 bg-blue-50 rounded-md",children:c.jsx(Ln,{className:"h-3 w-3 text-blue-600"})}),"Nome"]}),c.jsx(Je,{children:c.jsx(_t,{...L,className:"border-gray-200 focus-visible:ring-blue-400"})}),c.jsx(ot,{})]})}),c.jsx(at,{control:R.control,name:"email",render:({field:L})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("div",{className:"p-1 bg-blue-50 rounded-md",children:c.jsx(Ax,{className:"h-3 w-3 text-blue-600"})}),"Email"]}),c.jsx(Je,{children:c.jsx(_t,{...L,className:"border-gray-200 focus-visible:ring-blue-400"})}),c.jsx(ot,{})]})}),c.jsx(at,{control:R.control,name:"telefone",render:({field:L})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("div",{className:"p-1 bg-blue-50 rounded-md",children:c.jsx(F1,{className:"h-3 w-3 text-blue-600"})}),"Telefone"]}),c.jsx(Je,{children:c.jsx(_t,{...L,className:"border-gray-200 focus-visible:ring-blue-400"})}),c.jsx(ot,{})]})}),c.jsx(at,{control:R.control,name:"idade",render:({field:L})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("div",{className:"p-1 bg-blue-50 rounded-md",children:c.jsx(Ln,{className:"h-3 w-3 text-blue-600"})}),"Idade"]}),c.jsx(Je,{children:c.jsx(_t,{...L,type:"number",className:"border-gray-200 focus-visible:ring-blue-400"})}),c.jsx(ot,{})]})}),c.jsx(at,{control:R.control,name:"curso",render:({field:L})=>c.jsxs(Ze,{className:"sm:col-span-2",children:[c.jsxs(Xe,{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("div",{className:"p-1 bg-blue-50 rounded-md",children:c.jsx(L1,{className:"h-3 w-3 text-blue-600"})}),"Curso"]}),c.jsxs(Ka,{onValueChange:L.onChange,defaultValue:L.value,children:[c.jsx(Je,{children:c.jsx(Vo,{className:"border-gray-200 focus:ring-blue-400",children:c.jsx(Ga,{placeholder:"Selecione o curso"})})}),c.jsx(Lo,{className:"max-h-[260px]",children:C.map(se=>c.jsx(Ai,{value:se,children:se},se))})]}),c.jsx(ot,{})]})})]})]},"personal-form"):c.jsxs(be.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[c.jsx("h4",{className:"text-base font-medium mb-4 text-gray-700",children:"Informações Profissionais"}),c.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[(s||i)&&c.jsxs(c.Fragment,{children:[c.jsx(at,{control:R.control,name:"cargo",render:({field:L})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("div",{className:"p-1 bg-indigo-50 rounded-md",children:c.jsx(Xl,{className:"h-3 w-3 text-indigo-600"})}),"Cargo"]}),c.jsxs(Ka,{onValueChange:L.onChange,defaultValue:L.value||"",children:[c.jsx(Je,{children:c.jsx(Vo,{className:"border-gray-200 focus:ring-indigo-400",children:c.jsx(Ga,{placeholder:"Selecione o cargo"})})}),c.jsx(Lo,{className:"max-h-[260px]",children:C.map(se=>c.jsx(Ai,{value:se,children:se},se))})]}),c.jsx(ot,{})]})}),c.jsx(at,{control:R.control,name:"setor",render:({field:L})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("div",{className:"p-1 bg-indigo-50 rounded-md",children:c.jsx(qd,{className:"h-3 w-3 text-indigo-600"})}),"Setor"]}),c.jsxs(Ka,{onValueChange:L.onChange,defaultValue:L.value||"",children:[c.jsx(Je,{children:c.jsx(Vo,{className:"border-gray-200 focus:ring-indigo-400",children:c.jsx(Ga,{placeholder:"Selecione o setor"})})}),c.jsx(Lo,{className:"max-h-[260px]",children:M.map(se=>c.jsx(Ai,{value:se,children:se},se))})]}),c.jsx(ot,{})]})})]}),c.jsx(at,{control:R.control,name:"dataEntradaEmpresa",render:({field:L})=>c.jsxs(Ze,{className:!s&&!i?"sm:col-span-2":"",children:[c.jsxs(Xe,{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("div",{className:"p-1 bg-indigo-50 rounded-md",children:c.jsx(Cx,{className:"h-3 w-3 text-indigo-600"})}),"Data de Entrada"]}),c.jsx(Je,{children:c.jsx(_t,{...L,type:"date",className:"border-gray-200 focus-visible:ring-indigo-400"})}),c.jsx(ot,{})]})})]}),!s&&!i&&c.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-100 rounded-lg mt-4 flex items-start gap-2",children:[c.jsx(vp,{className:"h-4 w-4 text-amber-500 mt-0.5 flex-shrink-0"}),c.jsx("p",{className:"text-xs text-amber-700",children:"Apenas administradores podem editar cargo e setor. Entre em contato com um administrador se precisar atualizar estas informações."})]})]},"professional-form")]}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[c.jsxs(Be,{type:"button",variant:"outline",onClick:()=>b(!1),className:"gap-2 order-2 sm:order-1",children:[c.jsx(tl,{className:"h-4 w-4"})," Cancelar"]}),c.jsx(Be,{type:"submit",className:"gap-2 order-1 sm:order-2 bg-gradient-to-r from-primary to-primary/90",disabled:y||!R.formState.isDirty,children:y?c.jsxs(c.Fragment,{children:[c.jsx(Zr,{className:"h-4 w-4 animate-spin"}),"Salvando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Rx,{className:"h-4 w-4"}),"Salvar Alterações"]})})]})]})})}):c.jsxs("div",{className:"flex flex-col lg:flex-row gap-5",children:[c.jsx("div",{className:"lg:w-1/3 order-2 lg:order-1",children:c.jsx(be.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},className:"sticky top-[85px]",children:c.jsxs(hn,{className:"overflow-hidden rounded-xl border-0 shadow-lg",children:[c.jsx("div",{className:"relative bg-gradient-to-br from-primary via-primary to-primary/90 h-28",children:c.jsx(be.div,{className:"absolute inset-0 bg-[url('/pattern-dots.png')] bg-repeat opacity-5",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{repeat:1/0,repeatType:"reverse",duration:30}})}),c.jsxs(fn,{className:"pt-0 relative -mt-14 text-center flex flex-col items-center",children:[c.jsxs(Bs,{className:"w-28 h-28 border-4 border-white shadow-xl",children:[c.jsx(zs,{src:t.avatarUrl,alt:t.nome}),c.jsx(Ws,{className:"bg-gradient-to-br from-primary/90 to-primary text-white text-xl",children:pe(t.nome)})]}),c.jsxs(be.div,{className:"mt-4 space-y-1.5 w-full",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.2},children:[c.jsx("h3",{className:"font-bold text-lg",children:t.nome}),c.jsxs("p",{className:"text-sm text-gray-500 flex items-center justify-center gap-2",children:[c.jsx(Ax,{className:"h-3.5 w-3.5 text-gray-400"}),c.jsx("span",{className:"truncate max-w-[180px]",children:t.email})]}),c.jsx("div",{className:"flex justify-center gap-2 mt-3 mb-1",children:he(m)})]}),c.jsxs(be.div,{className:"w-full p-4 bg-gray-50 rounded-xl border mt-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx("div",{className:"p-1.5 bg-amber-100 rounded-full",children:c.jsx(Sa,{className:"h-3.5 w-3.5 text-amber-500"})}),c.jsx("span",{className:"text-sm font-medium",children:"Advertências:"})]}),c.jsxs("span",{className:`font-bold ${T>0?"text-amber-500":"text-gray-600"}`,children:[T,"/3"]})]}),c.jsx(be.div,{initial:{width:0},animate:{width:`${T/3*100}%`},transition:{duration:.5,delay:.4},children:c.jsx(Jp,{value:T/3*100,className:"h-1.5 bg-amber-100",indicatorClassName:"bg-amber-500"})}),c.jsxs("div",{className:"flex items-center justify-between mt-4 mb-1",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx("div",{className:"p-1.5 bg-blue-100 rounded-full",children:c.jsx(co,{className:"h-3.5 w-3.5 text-blue-500"})}),c.jsx("span",{className:"text-sm font-medium",children:"Notificações:"})]}),c.jsxs("span",{className:`font-bold ${I>0?"text-blue-500":"text-gray-600"}`,children:[I%3,"/3"]})]}),c.jsx(be.div,{initial:{width:0},animate:{width:`${I%3/3*100}%`},transition:{duration:.5,delay:.5},children:c.jsx(Jp,{value:I%3/3*100,className:"h-1.5 bg-blue-100",indicatorClassName:"bg-blue-500"})})]}),c.jsx("div",{className:"mt-5 w-full",children:c.jsxs(Be,{variant:"outline",onClick:()=>ve("personal"),className:"w-full gap-2 border-primary/20 hover:bg-primary/5 font-medium text-primary",children:[c.jsx(Ra,{className:"h-4 w-4"})," Editar Perfil"]})})]})]})})}),c.jsxs("div",{className:"lg:w-2/3 space-y-6 order-1 lg:order-2",children:[c.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(Xl,{className:"h-5 w-5 text-primary"}),"Informações Profissionais"]}),c.jsx(Be,{size:"sm",variant:"ghost",onClick:()=>ve("professional"),className:"text-gray-500 hover:text-primary hover:bg-primary/5",children:c.jsx(Ra,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(Ji,{icon:c.jsx(qd,{className:"h-4 w-4 text-blue-500"}),label:"Setor",value:t.setor||"Não informado"}),c.jsx(Ji,{icon:c.jsx(Xl,{className:"h-4 w-4 text-blue-500"}),label:"Cargo",value:t.role||t.cargo||"Não informado"}),c.jsx(Ji,{icon:c.jsx(Cx,{className:"h-4 w-4 text-blue-500"}),label:"Data de Entrada",value:t.dataEntradaEmpresa||"Não informada"}),c.jsx(Ji,{icon:c.jsx(O1,{className:"h-4 w-4 text-blue-500"}),label:"Tempo na Empresa",value:t.dataEntradaEmpresa?(()=>{const L=new Date(t.dataEntradaEmpresa),Ie=Math.abs(new Date().getTime()-L.getTime()),we=Math.ceil(Ie/(1e3*60*60*24)),xe=Math.floor(we/30);return xe<1?`${we} dias`:`${xe} meses`})():"Não informado"})]})]}),c.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(Ln,{className:"h-5 w-5 text-green-600"}),"Informações Pessoais"]}),c.jsx(Be,{size:"sm",variant:"ghost",onClick:()=>ve("personal"),className:"text-gray-500 hover:text-green-600 hover:bg-green-600/5",children:c.jsx(Ra,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(Ji,{icon:c.jsx(L1,{className:"h-4 w-4 text-green-500"}),label:"Curso",value:t.curso||"Não informado"}),c.jsx(Ji,{icon:c.jsx(Ln,{className:"h-4 w-4 text-green-500"}),label:"Idade",value:t.idade?`${t.idade} anos`:"Não informada"}),c.jsx(Ji,{icon:c.jsx(F1,{className:"h-4 w-4 text-green-500"}),label:"Telefone",value:t.telefone||"Não informado"}),c.jsx(Ji,{icon:c.jsx(M9,{className:"h-4 w-4 text-green-500"}),label:"Matrícula",value:t.matricula||"Não informada"})]})]})]})]})},"perfil-content"),o==="penalidades"&&c.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},children:c.jsx(ER,{title:"Advertências",value:T,maxValue:3,icon:c.jsx(Sa,{className:"h-8 w-8 text-amber-500"}),bgColor:"bg-amber-100",textColor:"text-amber-500",progressColor:"bg-amber-500",description:T===0?"Nenhuma advertência registrada":T===1?"1 advertência registrada":`${T} advertências registradas`,warning:T>=3?"Limite atingido - Banimento automático aplicado":""})}),c.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:c.jsx(ER,{title:"Notificações",value:I,maxValue:I,progressValue:I%3/3*100,icon:c.jsx(co,{className:"h-8 w-8 text-blue-500"}),bgColor:"bg-blue-100",textColor:"text-blue-500",progressColor:"bg-blue-500",description:I===0?"Nenhuma notificação enviada":I===1?"1 notificação enviada":`${I} notificações enviadas`,info:`${3-I%3} notificações até próxima advertência`})})]}),c.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:c.jsx(hn,{className:"border-amber-200 bg-gradient-to-br from-amber-50 to-amber-100/30 mb-6 shadow-sm",children:c.jsx(fn,{className:"p-5",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:c.jsx(za,{className:"h-6 w-6 text-amber-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-amber-800 mb-3 text-lg",children:"Regras do sistema"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsxs("div",{className:"bg-white/60 p-3 rounded-md border border-amber-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 font-medium text-amber-700 mb-1",children:[c.jsx(co,{className:"h-4 w-4"}),c.jsx("span",{children:"Notificações"})]}),c.jsx("p",{className:"text-sm text-amber-700",children:"3 notificações = 1 advertência automática"})]}),c.jsxs("div",{className:"bg-white/60 p-3 rounded-md border border-amber-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 font-medium text-amber-700 mb-1",children:[c.jsx(Sa,{className:"h-4 w-4"}),c.jsx("span",{children:"Advertências"})]}),c.jsx("p",{className:"text-sm text-amber-700",children:"3 advertências = banimento automático"})]}),c.jsxs("div",{className:"bg-white/60 p-3 rounded-md border border-amber-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 font-medium text-amber-700 mb-1",children:[c.jsx(vp,{className:"h-4 w-4"}),c.jsx("span",{children:"Registro"})]}),c.jsx("p",{className:"text-sm text-amber-700",children:"Todas as ações são registradas com justificativas"})]}),c.jsxs("div",{className:"bg-white/60 p-3 rounded-md border border-amber-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 font-medium text-amber-700 mb-1",children:[c.jsx(Sx,{className:"h-4 w-4"}),c.jsx("span",{children:"Acesso"})]}),c.jsx("p",{className:"text-sm text-amber-700",children:"Usuários banidos não podem acessar o sistema"})]})]})]})]})})})}),c.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:c.jsxs(hn,{className:"shadow-sm",children:[c.jsx(_i,{className:"pb-3 flex flex-row items-center justify-between",children:c.jsxs(bi,{className:"text-lg font-medium flex items-center gap-2",children:[c.jsx(O1,{className:"h-5 w-5 text-primary"}),"Histórico de Ações"]})}),c.jsx(fn,{className:"p-4 pt-0",children:c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 text-center",children:c.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma ação registrada para este usuário."})})})]})})]},"penalidades-content")]})]}),!w&&c.jsxs(Iv,{className:"px-4 sm:px-6 py-4 border-t bg-gradient-to-br from-gray-50 to-gray-100",children:[(re||s||i)&&c.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[c.jsxs(Be,{variant:"outline",className:"flex-1 gap-2 text-blue-600 border-blue-200 hover:bg-blue-50 relative overflow-hidden group",onClick:()=>D("notificacao"),disabled:m==="Banido"||y,children:[y?c.jsx(Zr,{className:"h-4 w-4 animate-spin"}):c.jsxs(be.div,{whileTap:{scale:.9},className:"flex items-center gap-2",children:[c.jsx(co,{className:"h-4 w-4"}),c.jsx("span",{children:"Notificar"})]}),c.jsx("span",{className:"absolute inset-0 w-0 bg-blue-100/50 transition-all duration-300 group-hover:w-full"})]}),c.jsxs(Be,{variant:"outline",className:"flex-1 gap-2 text-amber-600 border-amber-200 hover:bg-amber-50",onClick:()=>D("advertencia"),disabled:m==="Banido"||y,children:[y?c.jsx(Zr,{className:"h-4 w-4 animate-spin"}):c.jsx(Sa,{className:"h-4 w-4"}),"Advertir"]}),c.jsxs(Be,{variant:m==="Banido"?"default":"destructive",className:`flex-1 gap-2 ${m==="Banido"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,onClick:()=>D("banimento"),disabled:y,children:[y?c.jsx(Zr,{className:"h-4 w-4 animate-spin"}):c.jsx(Sx,{className:"h-4 w-4"}),m==="Banido"?"Reativar":"Banir"]}),s&&c.jsxs(Be,{variant:"destructive",className:"flex-1 gap-2 bg-amber-600 hover:bg-amber-700",onClick:j,disabled:y,children:[y?c.jsx(Zr,{className:"h-4 w-4 animate-spin"}):c.jsx(V9,{className:"h-4 w-4"}),"Excluir"]})]}),(re||s||i)&&c.jsxs("div",{className:"flex flex-col w-full gap-2 mt-2",children:[c.jsxs(Be,{variant:"outline",className:"w-full gap-2 border-blue-300 text-blue-600 hover:bg-blue-50",onClick:te,disabled:y,children:[c.jsx(Ra,{className:"h-4 w-4"}),w?"Cancelar Edição":"Editar Perfil"]}),Q&&c.jsxs(Ose,{children:[c.jsx(Vse,{asChild:!0,children:c.jsxs(Be,{variant:"outline",className:"w-full gap-2 text-indigo-600 border-indigo-200 hover:bg-indigo-50",disabled:y,children:[y?c.jsx(Zr,{className:"h-4 w-4 animate-spin"}):c.jsx(V1,{className:"h-4 w-4"}),"Limpar Contadores"]})}),c.jsxs(K4,{align:"end",className:"w-56",children:[c.jsxs(Um,{onClick:$,className:"cursor-pointer flex items-center gap-2 text-amber-600",disabled:y||t.advertencias===0,children:[c.jsx(Sa,{className:"h-4 w-4"})," Limpar Advertências"]}),c.jsxs(Um,{onClick:V,className:"cursor-pointer flex items-center gap-2 text-blue-600",disabled:y||t.notificacoes===0,children:[c.jsx(co,{className:"h-4 w-4"})," Limpar Notificações"]}),c.jsxs(Um,{onClick:Z,className:"cursor-pointer flex items-center gap-2 text-indigo-600 font-medium",disabled:y||t.advertencias===0&&t.notificacoes===0,children:[c.jsx(V1,{className:"h-4 w-4"})," Limpar Tudo"]})]})]})]})]})]})}),c.jsx(pre,{open:E,onOpenChange:v,children:c.jsxs($L,{children:[c.jsxs(BL,{children:[c.jsx(WL,{children:"Confirmar exclusão"}),c.jsxs(HL,{children:["Tem certeza que deseja excluir o usuário ",c.jsx("strong",{children:t.nome}),"? Esta ação não poderá ser desfeita."]})]}),c.jsxs(zL,{children:[c.jsx(GL,{disabled:y,children:"Cancelar"}),c.jsx(KL,{className:"bg-amber-600 hover:bg-amber-700",onClick:N,disabled:y,children:y?c.jsxs(c.Fragment,{children:[c.jsx(Zr,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Excluir"})]})]})}),c.jsx(nre,{open:l,onOpenChange:u,user:t,actionType:d,onConfirm:z})]})}const Eoe=({users:t,onUserUpdate:e=()=>{},isAdmin:n=!1,isPowerUser:r=!1,filterQuery:s="",filterSetor:i="todos"})=>{const[o,a]=g.useState(null),[l,u]=g.useState(!1),d=TM(),f=t.filter(y=>{const _=y.nome.toLowerCase().includes(s.toLowerCase()),w=i==="todos"||y.setor===i;return _&&w}),m=y=>{a(y),u(!0)},p=()=>{u(!1),setTimeout(()=>a(null),300)},E=y=>y?y.split(" ").map(_=>_.charAt(0).toUpperCase()).join("").substring(0,2):"U",v=y=>{switch(y){case"Ativo":return"bg-green-500 hover:bg-green-600 border-0";case"Banido":return"bg-red-500 hover:bg-red-600 border-0";case"Inativo":default:return"bg-gray-400 hover:bg-gray-500 border-0"}};return d?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-sm font-medium text-gray-500 px-4 py-2",children:"Usuário"}),c.jsx("div",{className:"space-y-2",children:f.length>0?f.map((y,_)=>c.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:_*.05},onClick:()=>m(y),className:"bg-white p-3 border rounded-lg flex items-center gap-3 shadow-sm hover:bg-blue-50/40 transition-colors cursor-pointer",children:[c.jsxs(Bs,{className:"h-10 w-10 border-2 border-gray-100 shadow-sm",children:[c.jsx(zs,{src:y.avatarUrl}),c.jsx(Ws,{className:"bg-primary/10 text-primary",children:E(y.nome)})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium",children:y.nome}),c.jsx("div",{className:"text-sm text-muted-foreground truncate",children:y.email})]}),c.jsx(Un,{variant:"default",className:v(y.status),children:y.status})]},y.id)):c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum usuário encontrado."})}),o&&c.jsx(TR,{user:o,open:l,onOpenChange:p,onUserUpdate:()=>{e(),u(!1)},isAdmin:n,isPowerUser:r})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"table-container rounded-lg overflow-hidden shadow-sm bg-white",children:c.jsxs(eV,{children:[c.jsx(tV,{className:"bg-gray-50",children:c.jsxs(Sw,{children:[c.jsx(ro,{className:"w-[250px] font-semibold",children:"Usuário"}),c.jsx(ro,{className:"font-semibold",children:"Setor"}),c.jsx(ro,{className:"font-semibold",children:"Cargo"}),c.jsx(ro,{className:"font-semibold",children:"Status"}),c.jsx(ro,{className:"font-semibold",children:"Data de Ativação"}),c.jsx(ro,{className:"text-center font-semibold",children:"Advertências"}),c.jsx(ro,{className:"text-center font-semibold",children:"Notificações"})]})}),c.jsx(nV,{children:f.length>0?f.map((y,_)=>c.jsxs(be.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:_*.05},className:"hover-list-item cursor-pointer hover:bg-blue-50/40 transition-colors",onClick:()=>m(y),children:[c.jsx(ui,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Bs,{className:"border-2 border-gray-100 shadow-sm",children:[c.jsx(zs,{src:y.avatarUrl}),c.jsx(Ws,{className:"bg-primary/10 text-primary",children:E(y.nome)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:y.nome}),c.jsx("div",{className:"text-sm text-muted-foreground",children:y.email})]})]})}),c.jsx(ui,{children:y.setor||"-"}),c.jsx(ui,{children:y.role||y.cargo||"-"}),c.jsx(ui,{children:c.jsx(Un,{variant:"default",className:v(y.status),children:y.status})}),c.jsx(ui,{children:y.dataEntradaEmpresa||"-"}),c.jsx(ui,{className:"text-center",children:c.jsx("span",{className:`${y.advertencias>0?"text-amber-600 font-medium":""}`,children:y.advertencias})}),c.jsx(ui,{className:"text-center",children:c.jsx("span",{className:`${y.notificacoes>0?"text-blue-600 font-medium":""}`,children:y.notificacoes})})]},y.id)):c.jsx(Sw,{children:c.jsx(ui,{colSpan:8,className:"h-24 text-center",children:"Nenhum usuário encontrado."})})})]})}),o&&c.jsx(TR,{user:o,open:l,onOpenChange:p,onUserUpdate:()=>{e(),u(!1)},isAdmin:n,isPowerUser:r})]})};function bF({size:t="md",className:e}){const n={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return c.jsx(be.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:c.jsx(Zr,{className:le("text-primary",n[t],e)})})}const Toe=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(""),[s,i]=g.useState("todos"),[o,a]=g.useState(!0),{isAdmin:l,isPowerUser:u}=ha();g.useEffect(()=>{console.log("Permissões do usuário:",{isAdmin:l,isPowerUser:u})},[l,u]);const d=async()=>{try{a(!0);const b=(await GQ(ws(Dt,"users"))).docs.map(A=>({id:A.id,...A.data()}));e(b)}catch(w){console.error("Erro ao buscar usuários no Firebase:",w)}finally{a(!1)}};g.useEffect(()=>{d()},[]);const f=t.length,m=t.filter(w=>w.status==="Ativo").length,p=t.reduce((w,b)=>w+(b.advertencias||0),0),E=t.reduce((w,b)=>w+(b.notificacoes||0),0),v=g.useMemo(()=>{const w=["Consultoria Empresarial","Departamento Pessoal","Desenvolvimento Organizacional","Diretoria","Engenharia","Financeiro","Gestão de Pessoas","Gestão de Processos","Inovações","Jurídico","Marketing","Produtos","Recrutamento","Vendas","Comercial"];return t.forEach(b=>{b.setor&&!w.includes(b.setor)&&w.push(b.setor)}),w.sort()},[t]),y=()=>{d()},_={hidden:{opacity:0,y:20},visible:w=>({opacity:1,y:0,transition:{delay:w*.1,duration:.5}})};return c.jsx(Qp,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800 mb-1",children:"Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie os usuários e acompanhe as métricas do sistema."})]}),(l||u)&&c.jsx(L_,{to:"/cadastrar-usuario",children:c.jsxs(Be,{className:"bg-primary hover:bg-primary/90 shadow-sm transition-all hover:shadow gap-2 w-full md:w-auto",children:[c.jsx(K_,{className:"h-4 w-4"})," Adicionar Usuário"]})})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[c.jsx(be.div,{custom:0,initial:"hidden",animate:"visible",variants:_,className:"stat-card bg-white rounded-lg border p-4 shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"stat-card-icon bg-primary/10 text-primary p-3 rounded-full",children:c.jsx(U1,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total de Usuários"}),c.jsx("div",{className:"text-3xl font-bold text-gray-900",children:f})]})]})}),c.jsx(be.div,{custom:1,initial:"hidden",animate:"visible",variants:_,className:"stat-card bg-white rounded-lg border p-4 shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"stat-card-icon bg-green-100 text-green-600 p-3 rounded-full",children:c.jsx(Jl,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Usuários Ativos"}),c.jsx("div",{className:"text-3xl font-bold text-gray-900",children:m})]})]})}),c.jsx(be.div,{custom:2,initial:"hidden",animate:"visible",variants:_,className:"stat-card bg-white rounded-lg border p-4 shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"stat-card-icon bg-amber-100 text-amber-600 p-3 rounded-full",children:c.jsx(L9,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Advertências"}),c.jsx("div",{className:"text-3xl font-bold text-gray-900",children:p})]})]})}),c.jsx(be.div,{custom:3,initial:"hidden",animate:"visible",variants:_,className:"stat-card bg-white rounded-lg border p-4 shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"stat-card-icon bg-purple-100 text-purple-600 p-3 rounded-full",children:c.jsx(co,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Notificações"}),c.jsx("div",{className:"text-3xl font-bold text-gray-900",children:E})]})]})})]}),c.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"bg-white rounded-lg border p-4 md:p-6 shadow-sm",children:[c.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[c.jsx(U1,{className:"h-5 w-5 text-teal-600"}),"Gerenciamento de Usuários"]}),c.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[c.jsxs("div",{className:"relative w-full",children:[c.jsx(_t,{placeholder:"Buscar por nome...",className:"pl-10 w-full border-gray-300 focus:border-teal-500 focus:ring-1 focus:ring-teal-500",value:n,onChange:w=>r(w.target.value)}),c.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:c.jsx(O9,{className:"h-5 w-5 text-muted-foreground"})})]}),c.jsx("div",{className:"w-full",children:c.jsxs(Ka,{defaultValue:"todos",value:s,onValueChange:i,children:[c.jsx(Vo,{className:"border-gray-300 focus:border-teal-500 focus:ring-1 focus:ring-teal-500",children:c.jsx(Ga,{placeholder:"Filtrar por Setor"})}),c.jsx(Lo,{children:c.jsxs(Fm,{children:[c.jsx(Ai,{value:"todos",children:"Todos os Setores"}),v.map(w=>w&&c.jsx(Ai,{value:w,children:w},w))]})})]})})]}),c.jsx(hn,{children:c.jsx(fn,{className:"p-0",children:o?c.jsxs("div",{className:"flex justify-center items-center py-12",children:[c.jsx(bF,{}),c.jsx("span",{className:"ml-2",children:"Carregando usuários..."})]}):c.jsx(Eoe,{users:t,onUserUpdate:y,isAdmin:l,isPowerUser:u,filterQuery:n,filterSetor:s})})})]})]})})},Soe=He.object({email:He.string().min(1,"Email é obrigatório").transform(t=>t.trim()),senha:He.string().min(1,"Senha é obrigatória")}),Coe=()=>{const{signIn:t}=ha(),[e,n]=g.useState(!1),[r,s]=g.useState(!1),i=Lv({resolver:Uv(Soe),defaultValues:{email:"",senha:""}}),o=async l=>{n(!0);try{const u=l.email.trim(),d=l.senha.trim();await t(u,d)}catch(u){console.error("Erro no login:",u)}finally{n(!1)}},a=()=>{s(!r)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-cyan-50 to-primary/10",children:c.jsxs("div",{className:"w-full max-w-md px-4",children:[c.jsx("div",{className:"mb-8 text-center",children:c.jsx("img",{src:"/logoibmecjr.png",alt:"Logo IBMEC Jr",className:"h-24 mx-auto mb-4"})}),c.jsxs(hn,{className:"w-full shadow-lg border border-primary/20",children:[c.jsxs(_i,{className:"space-y-1",children:[c.jsx(bi,{className:"text-2xl text-center font-bold text-primary",children:"Login"}),c.jsx("div",{className:"border-b border-primary w-16 mx-auto mt-1"}),c.jsx(XE,{className:"text-center pt-2",children:"Entre com seus dados para acessar o sistema"})]}),c.jsx(fn,{children:c.jsx(gT,{...i,children:c.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[c.jsx(at,{control:i.control,name:"email",render:({field:l})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{className:"flex items-center gap-2",children:[c.jsx(Ln,{className:"h-4 w-4"})," Usuário"]}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"Digite seu email",className:"border-primary/30",...l,onBlur:u=>{u.target.value=u.target.value.trim(),l.onBlur()}})}),c.jsx(ot,{})]})}),c.jsx(at,{control:i.control,name:"senha",render:({field:l})=>c.jsxs(Ze,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Xe,{className:"flex items-center gap-2",children:[c.jsx(Ix,{className:"h-4 w-4"})," Senha"]}),c.jsx(L_,{to:"/esqueceu-senha",className:"text-xs text-primary hover:text-primary/90 hover:underline",children:"Esqueceu sua senha?"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Je,{children:c.jsx(_t,{type:r?"text":"password",placeholder:"Digite sua senha",className:"pr-10 border-primary/30",...l})}),c.jsx(Be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 text-gray-400",onClick:a,children:r?c.jsx(N9,{className:"h-4 w-4"}):c.jsx(P9,{className:"h-4 w-4"})})]}),c.jsx(ot,{})]})}),c.jsxs(Be,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 gap-2",disabled:e,children:[c.jsx(D9,{className:"h-4 w-4"}),e?"Entrando...":"Entrar"]})]})})}),c.jsx(of,{className:"",children:c.jsxs("p",{className:"",children:["Use ",c.jsx("span",{className:"",children:"admin@ibmecjrsolucoes.com.br"})," e senha ",c.jsx("span",{className:"",children:"123456"})," para demonstração"]})})]}),c.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:"© 2025 IBMEC Jr Soluções. Todos os direitos reservados."})]})})};var Bv="Switch",[Ioe,Eae]=jn(Bv),[Aoe,Roe]=Ioe(Bv),EF=g.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=t,[m,p]=g.useState(null),E=Ke(e,b=>p(b)),v=g.useRef(!1),y=m?d||!!m.closest("form"):!0,[_,w]=Us({prop:s,defaultProp:i??!1,onChange:u,caller:Bv});return c.jsxs(Aoe,{scope:n,checked:_,disabled:a,children:[c.jsx(Se.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":IF(_),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:E,onClick:oe(t.onClick,b=>{w(A=>!A),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&c.jsx(CF,{control:m,bubbles:!v.current,name:r,value:l,checked:_,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});EF.displayName=Bv;var TF="SwitchThumb",SF=g.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Roe(TF,n);return c.jsx(Se.span,{"data-state":IF(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});SF.displayName=TF;var Noe="SwitchBubbleInput",CF=g.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=g.useRef(null),a=Ke(o,i),l=YE(n),u=tb(e);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const E=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(E)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CF.displayName=Noe;function IF(t){return t?"checked":"unchecked"}var AF=EF,Poe=SF;const Rh=g.forwardRef(({className:t,...e},n)=>c.jsx(AF,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(Poe,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rh.displayName=AF.displayName;var vT="Radio",[koe,RF]=jn(vT),[joe,Doe]=koe(vT),NF=g.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[f,m]=g.useState(null),p=Ke(e,y=>m(y)),E=g.useRef(!1),v=f?u||!!f.closest("form"):!0;return c.jsxs(joe,{scope:n,checked:s,disabled:o,children:[c.jsx(Se.button,{type:"button",role:"radio","aria-checked":s,"data-state":DF(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:p,onClick:oe(t.onClick,y=>{s||l==null||l(),v&&(E.current=y.isPropagationStopped(),E.current||y.stopPropagation())})}),v&&c.jsx(jF,{control:f,bubbles:!E.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});NF.displayName=vT;var PF="RadioIndicator",kF=g.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=Doe(PF,n);return c.jsx(Vr,{present:r||i.checked,children:c.jsx(Se.span,{"data-state":DF(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});kF.displayName=PF;var Moe="RadioBubbleInput",jF=g.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=g.useRef(null),a=Ke(o,i),l=YE(n),u=tb(e);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const E=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(E)}},[l,n,r]),c.jsx(Se.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jF.displayName=Moe;function DF(t){return t?"checked":"unchecked"}var Ooe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zv="RadioGroup",[Voe,Tae]=jn(zv,[xu,RF]),MF=xu(),OF=RF(),[Loe,Foe]=Voe(zv),VF=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...m}=t,p=MF(n),E=sf(u),[v,y]=Us({prop:i,defaultProp:s??"",onChange:f,caller:zv});return c.jsx(Loe,{scope:n,name:r,required:o,disabled:a,value:v,onValueChange:y,children:c.jsx(nT,{asChild:!0,...p,orientation:l,dir:E,loop:d,children:c.jsx(Se.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:E,...m,ref:e})})})});VF.displayName=zv;var LF="RadioGroupItem",FF=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=Foe(LF,n),o=i.disabled||r,a=MF(n),l=OF(n),u=g.useRef(null),d=Ke(e,u),f=i.value===s.value,m=g.useRef(!1);return g.useEffect(()=>{const p=v=>{Ooe.includes(v.key)&&(m.current=!0)},E=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",E),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",E)}},[]),c.jsx(rT,{asChild:!0,...a,focusable:!o,active:f,children:c.jsx(NF,{disabled:o,required:i.required,checked:f,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:oe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:oe(s.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});FF.displayName=LF;var Uoe="RadioGroupIndicator",UF=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=OF(n);return c.jsx(kF,{...s,...r,ref:e})});UF.displayName=Uoe;var $F=VF,BF=FF,$oe=UF;const zF=g.forwardRef(({className:t,...e},n)=>c.jsx($F,{className:le("grid gap-2",t),...e,ref:n}));zF.displayName=$F.displayName;const Bm=g.forwardRef(({className:t,...e},n)=>c.jsx(BF,{ref:n,className:le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx($oe,{className:"flex items-center justify-center",children:c.jsx(Wk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Bm.displayName=BF.displayName;const Boe=(t=768)=>{const[e,n]=g.useState(null);return g.useEffect(()=>{const r=()=>{n(window.innerWidth<t)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),e===null?!1:e},zoe=async(t,e)=>{try{console.log(`Iniciando processamento de imagem para usuário: ${t}`);const n=Math.round(e.length*3/4),r=8e5;if(n>r)throw new Error(`Imagem muito grande (${Math.round(n/1024)}KB). Máximo permitido: ${Math.round(r/1024)}KB`);if(t.startsWith("temp_"))return console.log("ID temporário detectado, retornando imagem processada localmente"),e;const s=hr(Dt,"users",t);if(!(await Jh(s)).exists())throw new Error(`Usuário com ID ${t} não encontrado`);return await lr(s,{avatarUrl:e,avatarUpdatedAt:cn()}),console.log(`Imagem salva com sucesso para usuário ${t}`),e}catch(n){throw console.error("Erro ao salvar imagem base64:",n),n}},Woe=async(t,e=.6)=>new Promise((n,r)=>{const s=new Image;s.src=t,s.onload=()=>{try{const i=document.createElement("canvas"),o=600,a=600;let l=s.width,u=s.height;l>u?l>o&&(u=Math.round(u*o/l),l=o):u>a&&(l=Math.round(l*a/u),u=a),i.width=l,i.height=u;const d=i.getContext("2d");if(!d){r(new Error("Não foi possível criar o contexto de canvas"));return}d.drawImage(s,0,0,l,u),Math.abs(l-u)<10&&(d.globalCompositeOperation="destination-in",d.beginPath(),d.arc(l/2,u/2,Math.min(l,u)/2,0,Math.PI*2),d.closePath(),d.fill());const f=i.toDataURL("image/jpeg",e);n(f)}catch(i){r(i)}},s.onerror=()=>{r(new Error("Erro ao carregar a imagem"))}});function Hoe({currentAvatar:t,onAvatarChange:e,name:n,userId:r}){const[s,i]=g.useState(t||""),[o,a]=g.useState(!1),l=g.useRef(null),u=Boe(),{currentUser:d}=ha(),f=v=>v?v.split(" ").map(y=>y.charAt(0).toUpperCase()).join("").substring(0,2):"U",m=v=>new Promise((y,_)=>{if(!["image/jpeg","image/png","image/gif","image/webp","image/bmp","image/svg+xml"].includes(v.type)){_(new Error("Tipo de arquivo não suportado. Use JPG, PNG, GIF, WebP, BMP ou SVG"));return}if(v.size>5*1024*1024){_(new Error("O arquivo deve ter no máximo 5MB"));return}const b=new FileReader;b.readAsDataURL(v),b.onload=A=>{var M;if(!((M=A.target)!=null&&M.result)){_(new Error("Falha ao ler a imagem"));return}const P=new Image;P.src=A.target.result,P.onload=()=>{try{let T=P.width,I=P.height,R=T,D=I;T>I?T>400&&(D=Math.round(I*400/T),R=400):I>400&&(R=Math.round(T*400/I),D=400);const j=document.createElement("canvas");j.width=R,j.height=D;const N=j.getContext("2d");if(!N){_(new Error("Falha ao criar contexto de canvas para processamento da imagem"));return}N.drawImage(P,0,0,R,D),R===D&&(N.globalCompositeOperation="destination-in",N.beginPath(),N.arc(R/2,D/2,R/2,0,Math.PI*2),N.closePath(),N.fill());const z=Math.max(.3,Math.min(.7,400/Math.max(R,D))),ae=j.toDataURL("image/jpeg",z);if(Math.round(ae.length*3/4)>8e5){const Q=j.toDataURL("image/jpeg",.2);y(Q)}else y(ae)}catch{_(new Error("Falha ao processar a imagem. Tente com uma imagem menor."))}},P.onerror=()=>{_(new Error("Erro ao processar a imagem. Formato não suportado."))}},b.onerror=()=>{_(new Error("Erro ao ler o arquivo"))}}),p=async v=>{var _;const y=(_=v.target.files)==null?void 0:_[0];if(y)try{if(a(!0),!["image/jpeg","image/png","image/gif","image/webp","image/bmp","image/svg+xml"].includes(y.type))throw new Error("Tipo de arquivo não suportado. Use JPG, PNG, GIF, WebP, BMP ou SVG");if(y.size>5*1024*1024)throw new Error("A imagem deve ter no máximo 5MB");const b=await m(y),A=r||(d==null?void 0:d.uid);if(!A)throw new Error("ID de usuário não disponível");if(A.startsWith("temp_"))i(b),e(b),Ce.success("Imagem processada com sucesso!");else try{const P=Math.round(b.length*3/4);let M=b;P>8e5&&(M=await Woe(b,.4));const C=await zoe(A,M);i(C),e(C),Ce.success("Avatar atualizado com sucesso!")}catch(P){console.error("Erro ao salvar imagem:",P),i(b),e(b),Ce.error(`Erro ao salvar imagem: ${P.message}`)}}catch(w){console.error("Erro ao processar imagem:",w),Ce.error(w.message||"Falha ao processar a imagem")}finally{a(!1),l.current&&(l.current.value="")}},E=()=>{var v;o||(v=l.current)==null||v.click()};return c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:"relative cursor-pointer",onClick:E,children:[c.jsxs(Bs,{className:"border-4 border-white shadow-lg",style:{width:u?"5rem":"7rem",height:u?"5rem":"7rem"},children:[c.jsx(zs,{src:s,alt:n}),c.jsx(Ws,{className:"bg-blue-700 text-white text-base sm:text-xl font-semibold",children:f(n)})]}),c.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:o?c.jsx(Zr,{className:"h-6 w-6 text-white animate-spin"}):c.jsx($k,{className:`${u?"h-5 w-5":"h-6 w-6"} text-white`})})]}),c.jsx("input",{type:"file",ref:l,onChange:p,accept:"image/jpeg,image/png,image/gif,image/webp",className:"hidden",disabled:o}),c.jsx(Be,{type:"button",variant:"ghost",size:"sm",onClick:E,className:"mt-2 text-xs text-blue-600 px-2 py-0 h-auto",disabled:o,children:o?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Zr,{className:"h-3 w-3 animate-spin"}),c.jsx("span",{children:"Processando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(F9,{className:"h-3 w-3 mr-1"}),"Alterar foto"]})})]})}const Koe=He.object({nome:He.string().min(2,{message:"Nome deve ter pelo menos 2 caracteres."}),email:He.string().email({message:"Email inválido."}),senha:He.string().min(6,{message:"Senha deve ter pelo menos 6 caracteres."}),confirmarSenha:He.string(),cargo:He.string().min(2,{message:"Cargo deve ter pelo menos 2 caracteres."}),setor:He.string().min(2,{message:"Setor deve ter pelo menos 2 caracteres."}),dataEntradaEmpresa:He.string(),curso:He.string().optional(),idade:He.string().refine(t=>{const e=parseInt(t,10);return!isNaN(e)&&e>0},{message:"Idade deve ser um número válido."}),telefone:He.string().optional(),matricula:He.string().min(3,{message:"Matrícula deve ter pelo menos 3 caracteres."}),status:He.enum(["Ativo","Inativo","Banido"]),isPowerUser:He.boolean(),isAdmin:He.boolean(),observacoes:He.string().optional(),avatarUrl:He.string().optional()}).refine(t=>t.senha===t.confirmarSenha,{message:"As senhas não correspondem",path:["confirmarSenha"]}),Goe=["Consultoria Empresarial","Departamento Pessoal","Desenvolvimento Organizacional","Diretoria","Engenharia","Financeiro","Gestão de Pessoas","Gestão de Processos","Inovações","Jurídico","Marketing","Produtos","Recrutamento","Vendas"],qoe=["Analista","Trainee","Consultor","Diretor","Diretora","Head","Presidente Executivo"],Qoe=["Administração","Ciência de Dados e Inteligência Artificial","Ciências Contábeis","Ciências Econômicas","Direito","Engenharia Civil","Engenharia de Computação","Engenharia de Produção","Engenharia Mecânica","Engenharia de Software","Relações Internacionais"],eo=[{id:"informacoes-pessoais",name:"Informações Pessoais",description:"Dados básicos do membro",icon:Ln},{id:"informacoes-profissionais",name:"Informações Profissionais",description:"Dados sobre cargo e setor",icon:qd},{id:"conta-acesso",name:"Conta e Acesso",description:"Credenciais e permissões",icon:za},{id:"revisao",name:"Revisão",description:"Confirmar todos os dados",icon:Jl}],Yoe=()=>{const t=la(),[e,n]=g.useState(!1),[r,s]=g.useState(""),[i,o]=g.useState(0),{currentUser:a,userData:l}=ha(),u=Lv({resolver:Uv(Koe),defaultValues:{nome:"",email:"",senha:"",confirmarSenha:"",cargo:"",setor:"",dataEntradaEmpresa:new Date().toISOString().split("T")[0],curso:"",idade:"",telefone:"",matricula:"",status:"Ativo",isPowerUser:!1,isAdmin:!1,observacoes:""},mode:"onChange"}),{trigger:d,getValues:f,watch:m}=u,p=(i+1)/eo.length*100,E=m("nome");m("email"),m("cargo"),m("status"),m("matricula");const v=m("isPowerUser"),y=m("isAdmin"),_=async M=>{n(!0);try{const C=parseInt(M.idade,10),T={...M,idade:C,advertencias:0,notificacoes:0,...r?{avatarUrl:r}:{}};delete T.confirmarSenha;try{const I=fb(Bh().options,"SecondaryApp"),R=Eb(I),D=Math.random().toString(36).slice(-8)+Math.random().toString(36).toUpperCase().slice(-4)+"!1",N=(await TH(R,M.email,D)).user;await qQ(hr(Dt,"users",N.uid),{...T,id:N.uid,createdAt:cn()}),await Gg(R,M.email),await Sm(R),await dW(I).catch(console.error),Ce.success("Usuário criado com sucesso e email de definição de senha enviado!"),t("/dashboard")}catch(I){console.error("Erro ao criar usuário:",I),I.code==="auth/email-already-in-use"?Ce.error("Este email já está em uso. Tente outro."):Ce.error(`Erro ao criar usuário: ${I.message||"Erro desconhecido"}`)}}catch(C){console.error("Erro ao processar formulário:",C),Ce.error("Erro ao processar dados do formulário.")}finally{n(!1)}},w=M=>{s(M)},b=async()=>{let M=[];switch(i){case 0:M=["nome","email","matricula","idade","telefone"];break;case 1:M=["cargo","setor","dataEntradaEmpresa"];break;case 2:M=["senha","confirmarSenha","status"];break}await d(M)&&o(T=>Math.min(T+1,eo.length-1))},A=()=>{o(M=>Math.max(M-1,0))},P=M=>{switch(M){case 0:return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-primary",children:[c.jsx(Ln,{className:"h-5 w-5"}),c.jsx("h2",{children:"Informações Pessoais"})]}),c.jsxs("div",{className:"flex flex-col items-center mb-6",children:[c.jsx(Hoe,{currentAvatar:r,onAvatarChange:w,name:E||"Novo Usuário",userId:`temp_${Date.now()}`}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Adicione uma foto de perfil (opcional)"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(at,{control:u.control,name:"nome",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Nome completo ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"Nome do usuário",...T})}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"email",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Email ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"exemplo@ibmecjr.com",...T})}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"telefone",render:({field:T})=>c.jsxs(Ze,{children:[c.jsx(Xe,{children:"Telefone"}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"(00) 00000-0000",...T})}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"idade",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Idade ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Je,{children:c.jsx(_t,{type:"number",placeholder:"Idade",...T})}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"matricula",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Matrícula ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"Matrícula/ID do usuário",...T})}),c.jsx(ot,{})]})})]})]});case 1:return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-primary",children:[c.jsx(qd,{className:"h-5 w-5"}),c.jsx("h2",{children:"Informações Profissionais"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(at,{control:u.control,name:"cargo",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Cargo ",c.jsx("span",{className:"text-blue-500",children:"*"})]}),c.jsxs(Ka,{onValueChange:T.onChange,defaultValue:T.value,children:[c.jsx(Je,{children:c.jsx(Vo,{children:c.jsx(Ga,{placeholder:"Selecione o cargo"})})}),c.jsx(Lo,{children:c.jsx(Fm,{children:qoe.map(I=>c.jsx(Ai,{value:I,children:I},I))})})]}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"setor",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Setor ",c.jsx("span",{className:"text-blue-500",children:"*"})]}),c.jsxs(Ka,{onValueChange:T.onChange,defaultValue:T.value,children:[c.jsx(Je,{children:c.jsx(Vo,{children:c.jsx(Ga,{placeholder:"Selecione o setor"})})}),c.jsx(Lo,{children:c.jsx(Fm,{children:Goe.map(I=>c.jsx(Ai,{value:I,children:I},I))})})]}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"curso",render:({field:T})=>c.jsxs(Ze,{children:[c.jsx(Xe,{children:"Curso"}),c.jsxs(Ka,{onValueChange:T.onChange,defaultValue:T.value,children:[c.jsx(Je,{children:c.jsx(Vo,{children:c.jsx(Ga,{placeholder:"Selecione o curso"})})}),c.jsx(Lo,{children:c.jsx(Fm,{children:Qoe.map(I=>c.jsx(Ai,{value:I,children:I},I))})})]}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"dataEntradaEmpresa",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Data de Entrada ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Je,{children:c.jsx(_t,{type:"date",...T})}),c.jsx(ot,{})]})})]}),c.jsx(at,{control:u.control,name:"observacoes",render:({field:T})=>c.jsxs(Ze,{children:[c.jsx(Xe,{children:"Observações"}),c.jsx(Je,{children:c.jsx(tT,{placeholder:"Informações adicionais relevantes sobre o usuário",className:"min-h-28",...T})}),c.jsx(ot,{})]})})]});case 2:return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-primary",children:[c.jsx(za,{className:"h-5 w-5"}),c.jsx("h2",{children:"Configurações de Conta"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(at,{control:u.control,name:"senha",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Senha ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Je,{children:c.jsx(_t,{type:"password",placeholder:"Digite a senha",...T})}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"confirmarSenha",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Confirmar Senha ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Je,{children:c.jsx(_t,{type:"password",placeholder:"Confirme a senha",...T})}),c.jsx(ot,{})]})})]}),c.jsx(at,{control:u.control,name:"status",render:({field:T})=>c.jsxs(Ze,{children:[c.jsxs(Xe,{children:["Status do Usuário ",c.jsx("span",{className:"text-blue-500",children:"*"})]}),c.jsx(Je,{children:c.jsxs(zF,{onValueChange:T.onChange,defaultValue:T.value,className:"grid grid-cols-3 gap-4",children:[c.jsxs(Ze,{className:"flex items-center space-x-3 space-y-0",children:[c.jsx(Je,{children:c.jsx(Bm,{value:"Ativo",id:"status-ativo"})}),c.jsxs(Xe,{htmlFor:"status-ativo",className:"flex items-center gap-1.5 font-normal",children:[c.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-green-500"}),"Ativo"]})]}),c.jsxs(Ze,{className:"flex items-center space-x-3 space-y-0",children:[c.jsx(Je,{children:c.jsx(Bm,{value:"Inativo",id:"status-inativo"})}),c.jsxs(Xe,{htmlFor:"status-inativo",className:"flex items-center gap-1.5 font-normal",children:[c.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-500"}),"Inativo"]})]}),c.jsxs(Ze,{className:"flex items-center space-x-3 space-y-0",children:[c.jsx(Je,{children:c.jsx(Bm,{value:"Banido",id:"status-banido"})}),c.jsxs(Xe,{htmlFor:"status-banido",className:"flex items-center gap-1.5 font-normal",children:[c.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500"}),"Banido"]})]})]})}),c.jsx(ot,{})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-base font-medium",children:"Nível de Permissão"}),c.jsx(at,{control:u.control,name:"isAdmin",render:({field:T})=>c.jsxs(Ze,{className:"space-y-0",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-md border shadow-sm",children:[c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsxs(Xe,{className:"font-medium text-base cursor-pointer flex items-center gap-1.5",children:[c.jsx(za,{className:"h-4 w-4 text-red-500"}),"Administrador"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Acesso total ao sistema, pode gerenciar todos os usuários e funcionalidades"})]}),c.jsx(Je,{children:c.jsx(Rh,{checked:T.value,onCheckedChange:I=>{T.onChange(I),I&&u.setValue("isPowerUser",!0)}})})]}),c.jsx(ot,{})]})}),c.jsx(at,{control:u.control,name:"isPowerUser",render:({field:T})=>c.jsxs(Ze,{className:"space-y-0",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-md border shadow-sm",children:[c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsxs(Xe,{className:"font-medium text-base cursor-pointer flex items-center gap-1.5",children:[c.jsx(A9,{className:"h-4 w-4 text-amber-500"}),"Usuário Avançado"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Pode gerenciar usuários regulares e tem acesso à maioria das funcionalidades"})]}),c.jsx(Je,{children:c.jsx(Rh,{checked:T.value,onCheckedChange:I=>{T.onChange(I),I||u.setValue("isAdmin",!1)},disabled:y})})]}),c.jsx(ot,{})]})}),c.jsx("div",{className:`p-4 bg-white rounded-md border shadow-sm ${!v&&!y?"ring-2 ring-primary/20":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsxs("span",{className:"font-medium text-base flex items-center gap-1.5",children:[c.jsx(Ln,{className:"h-4 w-4 text-blue-500"}),"Membro Regular"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Acesso básico ao sistema, pode visualizar informações mas não gerencia outros usuários"})]}),c.jsx("div",{className:"h-6 w-10 flex items-center justify-center",children:!v&&!y&&c.jsx(Jl,{className:"h-5 w-5 text-primary"})})]})})]}),c.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(vp,{className:"h-5 w-5 text-amber-600"}),c.jsx("h3",{className:"font-medium text-amber-800",children:"Informações de Segurança"})]}),c.jsx("p",{className:"text-sm text-amber-700",children:"Senhas devem ter pelo menos 6 caracteres. Recomendamos usar letras maiúsculas, minúsculas, números e caracteres especiais para maior segurança."})]})]})]});case 3:const C=f();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-primary",children:[c.jsx(Jl,{className:"h-5 w-5"}),c.jsx("h2",{children:"Revisão e Confirmação"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100 shadow-sm",children:[c.jsxs("h3",{className:"font-medium text-lg mb-4 text-blue-800 flex items-center gap-2",children:[c.jsx(Oy,{className:"h-5 w-5 text-blue-500"})," Resumo do Cadastro"]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-6 items-center md:items-start",children:[c.jsxs("div",{className:"relative",children:[c.jsxs(Bs,{className:"h-24 w-24 border-4 border-white shadow-xl",children:[c.jsx(zs,{src:r}),c.jsx(Ws,{className:"text-xl bg-gradient-to-br from-primary to-primary-foreground text-white",children:C.nome?C.nome.substring(0,2).toUpperCase():"NU"})]}),c.jsx("div",{className:"absolute -bottom-2 -right-2 rounded-full bg-white p-1 shadow-md",children:c.jsx(Jl,{className:"h-5 w-5 text-green-500"})})]}),c.jsxs("div",{className:"text-center md:text-left",children:[c.jsx("h4",{className:"text-xl font-bold text-gray-800",children:C.nome}),c.jsx("p",{className:"text-gray-600 mb-3",children:C.email}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-2 mt-2",children:[c.jsx(Un,{className:`${C.status==="Ativo"?"bg-green-500":C.status==="Inativo"?"bg-amber-500":"bg-red-500"} text-white px-3 py-1`,children:C.status}),C.isAdmin&&c.jsx(Un,{className:"bg-blue-500 text-white px-3 py-1",children:"Administrador"}),C.isPowerUser&&!C.isAdmin&&c.jsx(Un,{className:"bg-purple-500 text-white px-3 py-1",children:"Usuário Avançado"}),!C.isPowerUser&&!C.isAdmin&&c.jsx(Un,{className:"bg-gray-500 text-white px-3 py-1",children:"Membro Regular"})]})]})]}),c.jsxs("div",{className:"space-y-6 bg-white rounded-lg p-4 border border-blue-100 shadow-inner",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium border-b border-blue-100 pb-2 text-blue-700 flex items-center gap-2",children:[c.jsx(Ln,{className:"h-4 w-4"})," Informações Pessoais"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Matrícula"}),c.jsx("p",{className:"font-medium",children:C.matricula})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Idade"}),c.jsxs("p",{className:"font-medium",children:[C.idade," anos"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),c.jsx("p",{className:"font-medium",children:C.telefone||"Não informado"})]})]})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium border-b border-blue-100 pb-2 text-blue-700 flex items-center gap-2",children:[c.jsx(qd,{className:"h-4 w-4"})," Informações Profissionais"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Cargo"}),c.jsx("p",{className:"font-medium",children:C.cargo})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Setor"}),c.jsx("p",{className:"font-medium",children:C.setor})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Data de Entrada"}),c.jsx("p",{className:"font-medium",children:C.dataEntradaEmpresa})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Curso"}),c.jsx("p",{className:"font-medium",children:C.curso||"Não informado"})]})]})]}),C.observacoes&&c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium border-b border-blue-100 pb-2 text-blue-700 flex items-center gap-2",children:[c.jsx(k9,{className:"h-4 w-4"})," Observações"]}),c.jsx("p",{className:"text-sm mt-2",children:C.observacoes})]})]}),c.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(vp,{className:"h-5 w-5 text-blue-600"}),c.jsx("p",{className:"text-sm text-blue-700",children:"Verifique todas as informações antes de finalizar o cadastro."})]})})]})]});default:return null}};return c.jsx(Qp,{children:c.jsx("div",{className:"max-w-5xl mx-auto py-3 px-4 md:py-6 md:px-0",children:c.jsxs(hn,{className:"shadow-lg border border-gray-200/60",children:[c.jsxs(_i,{className:"border-b pb-8",children:[c.jsxs(bi,{className:"text-xl md:text-2xl font-bold flex items-center gap-2 mb-6",children:[c.jsx(K_,{className:"h-5 w-5 md:h-6 md:w-6 text-primary"})," Cadastro de Novo Membro"]}),c.jsxs("div",{className:"space-y-4 md:space-y-6",children:[c.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[c.jsxs("span",{children:["Passo ",i+1," de ",eo.length]}),c.jsxs("span",{children:[Math.round(p),"% completo"]})]}),c.jsx(Jp,{value:p,className:"h-2 hidden md:block"}),c.jsx("div",{className:"hidden md:flex justify-between",children:eo.map((M,C)=>{const T=M.icon,I=i>C?"completed":i===C?"current":"upcoming";return c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:`relative flex h-12 w-12 items-center justify-center rounded-full border-2 transition-all
                          ${I==="completed"?"bg-primary border-primary text-white":I==="current"?"border-primary text-primary":"border-gray-300 text-gray-300"}`,children:[I==="completed"?c.jsx(Jl,{className:"h-6 w-6"}):c.jsx(T,{className:"h-6 w-6"}),c.jsx("span",{className:"sr-only",children:M.name})]}),c.jsx("span",{className:`mt-2 text-sm font-medium
                          ${I==="completed"?"text-primary":I==="current"?"text-gray-900":"text-gray-500"}`,children:M.name}),c.jsx("span",{className:"text-xs text-gray-500 hidden md:block",children:M.description})]},M.id)})}),c.jsx("div",{className:"flex md:hidden",children:eo.map((M,C)=>c.jsx("div",{className:`flex-1 h-1.5 ${C<i?"bg-primary":C===i?"bg-primary/50":"bg-gray-200"}`},M.id))}),c.jsxs("div",{className:"md:hidden text-center",children:[c.jsx("span",{className:"text-primary font-medium",children:eo[i].name}),c.jsx("p",{className:"text-xs text-gray-500",children:eo[i].description})]})]})]}),c.jsx(X4,{...u,children:c.jsxs("form",{children:[c.jsx(fn,{className:"pt-6 pb-6",children:c.jsx(Wa,{mode:"wait",children:c.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:P(i)},i)})}),c.jsxs(of,{className:"flex justify-between border-t p-4 md:p-6 bg-gray-50/70",children:[c.jsxs(Be,{type:"button",variant:"outline",onClick:A,disabled:i===0||e,className:"gap-2",children:[c.jsx(R9,{className:"h-4 w-4"})," Voltar"]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>t("/usuarios"),disabled:e,className:"hidden md:flex",children:"Cancelar"}),i<eo.length-1?c.jsxs(Be,{type:"button",onClick:b,disabled:e,className:"gap-2 bg-primary hover:bg-primary/90",children:["Próximo ",c.jsx(Vg,{className:"h-4 w-4"})]}):c.jsx(Be,{type:"button",onClick:u.handleSubmit(_),disabled:e,className:"gap-2 bg-gradient-to-r from-teal-500 to-teal-700 hover:from-teal-600 hover:to-teal-800",children:e?c.jsxs(c.Fragment,{children:[c.jsx(be.div,{className:"h-4 w-4",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:c.jsx(Oy,{className:"h-4 w-4"})}),"Cadastrando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Oy,{className:"h-4 w-4"})," Finalizar Cadastro"]})})]})]})]})})]})})})},Zoe=()=>{const t=Bi();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var Wv="Tabs",[Xoe,Sae]=jn(Wv,[xu]),WF=xu(),[Joe,yT]=Xoe(Wv),HF=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=sf(a),[f,m]=Us({prop:r,onChange:s,defaultProp:i??"",caller:Wv});return c.jsx(Joe,{scope:n,baseId:os(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:l,children:c.jsx(Se.div,{dir:d,"data-orientation":o,...u,ref:e})})});HF.displayName=Wv;var KF="TabsList",GF=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=yT(KF,n),o=WF(n);return c.jsx(nT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(Se.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});GF.displayName=KF;var qF="TabsTrigger",QF=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=yT(qF,n),a=WF(n),l=XF(o.baseId,r),u=JF(o.baseId,r),d=r===o.value;return c.jsx(rT,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(Se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:oe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:oe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:oe(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});QF.displayName=qF;var YF="TabsContent",ZF=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=yT(YF,n),l=XF(a.baseId,r),u=JF(a.baseId,r),d=r===a.value,f=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),c.jsx(Vr,{present:s||d,children:({present:m})=>c.jsx(Se.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});ZF.displayName=YF;function XF(t,e){return`${t}-trigger-${e}`}function JF(t,e){return`${t}-content-${e}`}var eae=HF,e5=GF,t5=QF,n5=ZF;const tae=eae,r5=g.forwardRef(({className:t,...e},n)=>c.jsx(e5,{ref:n,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));r5.displayName=e5.displayName;const zm=g.forwardRef(({className:t,...e},n)=>c.jsx(t5,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));zm.displayName=t5.displayName;const Wm=g.forwardRef(({className:t,...e},n)=>c.jsx(n5,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Wm.displayName=n5.displayName;function _0(t){const[e,n]=g.useState(!1);return g.useEffect(()=>{if(typeof window<"u"){const r=window.matchMedia(t);n(r.matches);const s=i=>{n(i.matches)};return r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}}},[t]),e}const nae=He.object({nome:He.string().min(3,{message:"Nome deve ter pelo menos 3 caracteres"}),email:He.string().email({message:"Email inválido"}).optional(),telefone:He.string().optional(),matricula:He.string().optional(),curso:He.string().optional(),dataEntradaEmpresa:He.string().optional(),cargo:He.string().optional(),setor:He.string().optional()});function rae(){var he;const{currentUser:t,userData:e,isAdmin:n,isPowerUser:r}=ha(),s=n||r,[i,o]=g.useState("perfil"),[a,l]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(!1),[p,E]=g.useState(!1),[v,y]=g.useState(!1),[_,w]=g.useState(!1),[b,A]=g.useState(!1),[P,M]=g.useState(!1),[C,T]=g.useState(!0),[I,R]=g.useState(!0),D=_0("(max-width: 768px)");_0("(max-width: 640px)");const j=_0("(max-width: 360px)"),N=e!=null&&e.dataEntradaEmpresa?new Date(e.dataEntradaEmpresa).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"Não informada",z=te=>{try{const ve=te.split("/");return ve.length===3?`${ve[2]}-${ve[1]}-${ve[0]}`:new Date(te).toISOString().split("T")[0]}catch(ve){return console.error("Erro ao formatar data:",ve),""}},ae=te=>{try{return new Date(te).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(ve){return console.error("Erro ao formatar data para exibição:",ve),te}};g.useEffect(()=>{const te=()=>{M(window.scrollY>300)};return window.addEventListener("scroll",te),()=>window.removeEventListener("scroll",te)},[]);const ne=()=>{if(!(e!=null&&e.dataEntradaEmpresa))return"Não disponível";const te=new Date(e.dataEntradaEmpresa),Ee=Math.abs(new Date().getTime()-te.getTime()),L=Math.ceil(Ee/(1e3*60*60*24));if(L<30)return`${L} dias`;const se=Math.floor(L/30);if(se<12)return`${se} ${se===1?"mês":"meses"}`;const Ie=Math.floor(se/12),we=se%12;return we===0?`${Ie} ${Ie===1?"ano":"anos"}`:`${Ie} ${Ie===1?"ano":"anos"} e ${we} ${we===1?"mês":"meses"}`},Q=Lv({resolver:Uv(nae),defaultValues:{nome:(e==null?void 0:e.nome)||"",email:(e==null?void 0:e.email)||"",telefone:(e==null?void 0:e.telefone)||"",matricula:(e==null?void 0:e.matricula)||"",curso:(e==null?void 0:e.curso)||"",dataEntradaEmpresa:e!=null&&e.dataEntradaEmpresa?z(e.dataEntradaEmpresa):"",cargo:(e==null?void 0:e.role)||(e==null?void 0:e.role)||"",setor:(e==null?void 0:e.setor)||""}});g.useEffect(()=>{e&&Q.reset({nome:e.nome||"",email:e.email||"",telefone:e.telefone||"",matricula:e.matricula||"",curso:e.curso||"",dataEntradaEmpresa:e!=null&&e.dataEntradaEmpresa?z(e.dataEntradaEmpresa):"",cargo:(e==null?void 0:e.role)||(e==null?void 0:e.role)||"",setor:(e==null?void 0:e.setor)||""})},[e,Q]);const $=te=>{var se;const ve=(se=te.target.files)==null?void 0:se[0];if(!ve)return;if(ve.size>5*1024*1024){Ce.error("Imagem muito grande. Máximo 5MB.");return}if(!["image/jpeg","image/png","image/gif","image/webp"].includes(ve.type)){Ce.error("Formato não suportado. Use JPG, PNG, GIF ou WebP.");return}d(ve);const L=URL.createObjectURL(ve);l(L),Ce.success("Foto selecionada. Clique em 'Salvar' para aplicar as mudanças.")},V=async te=>{if(!(!t||!e))try{E(!0);const ve=hr(Dt,"users",t.uid),Ee={...te,updatedAt:cn()};if(te.dataEntradaEmpresa&&(Ee.dataEntradaEmpresa=ae(te.dataEntradaEmpresa)),u){const L=await PY(t.uid,u);L&&(Ee.avatarUrl=L)}s?(Ee.cargo=te.cargo||null,Ee.setor=te.setor||null,e.role&&(Ee.role=te.cargo||null)):(delete Ee.cargo,delete Ee.setor),await lr(ve,Ee),a&&(URL.revokeObjectURL(a),l(null)),d(null),await Z(),Ce.success("Perfil atualizado com sucesso!"),y(!1)}catch(ve){console.error("Erro ao atualizar perfil:",ve),Ce.error(`Erro ao atualizar perfil: ${ve.message||"Erro desconhecido"}`)}finally{E(!1)}},Z=async()=>{if(t)try{const te=hr(Dt,"users",t.uid),ve=await Jh(te);if(ve.exists()){const Ee=ve.data();Q.reset({nome:Ee.nome||"",email:Ee.email||"",telefone:Ee.telefone||"",matricula:Ee.matricula||"",curso:Ee.curso||"",dataEntradaEmpresa:Ee!=null&&Ee.dataEntradaEmpresa?z(Ee.dataEntradaEmpresa):""})}}catch(te){console.error("Erro ao buscar dados do usuário:",te)}},pe=async()=>{if(t!=null&&t.email)try{m(!0),await Gg(bs,t.email),A(!0),Ce.success("Email de redefinição de senha enviado com sucesso!"),setTimeout(()=>{w(!1),A(!1)},3e3)}catch(te){console.error("Erro ao solicitar redefinição de senha:",te),Ce.error(`Erro ao solicitar redefinição de senha: ${te.message||"Erro desconhecido"}`)}finally{m(!1)}},re=()=>{window.scrollTo({top:0,behavior:"smooth"})};return!e||!t?c.jsx(Qp,{children:c.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-4rem)] p-4",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"relative h-16 w-16 mx-auto mb-6",children:[c.jsx(be.div,{className:"absolute inset-0 rounded-full border-4 border-primary/30",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0}}),c.jsx(be.div,{className:"absolute inset-0 rounded-full border-t-4 border-primary",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})]}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Carregando seu perfil..."}),c.jsx("p",{className:"text-gray-500 mt-2 animate-pulse",children:"Aguarde um momento"})]})})}):c.jsx(Qp,{children:c.jsxs("div",{className:"max-w-6xl mx-auto px-1 sm:px-2",children:[c.jsx("div",{className:"relative w-full mb-12 sm:mb-16",children:c.jsx(be.div,{className:"h-56 sm:h-64 md:h-72 lg:h-80 rounded-xl overflow-hidden relative",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6},children:c.jsx("div",{className:"w-full h-full bg-[#3DB4C2] relative",children:c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4 sm:p-6 md:p-8",children:c.jsxs(be.div,{className:"flex flex-col items-center gap-4 sm:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[c.jsx(be.div,{className:"relative",whileHover:{scale:1.03},transition:{type:"spring",stiffness:300},children:c.jsxs("div",{className:"relative bg-white rounded-full shadow-xl",children:[c.jsxs(Bs,{className:"h-24 w-24 sm:h-28 sm:w-28 md:h-32 md:w-32",children:[c.jsx(zs,{src:a||e.avatarUrl,alt:e.nome,className:"object-cover"}),c.jsx(Ws,{className:"bg-primary text-white text-3xl",children:((he=e.nome)==null?void 0:he.substring(0,2).toUpperCase())||"U"})]}),c.jsx(be.div,{className:"absolute bottom-1 right-1",animate:{scale:[1,1.15,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"},children:c.jsx(Un,{className:"bg-green-500 w-4 h-4 rounded-full p-0 border-2 border-white"})}),v&&c.jsx(be.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"absolute -bottom-2 -right-2 sm:-bottom-3 sm:-right-3 z-10",children:c.jsxs("label",{className:"bg-white rounded-full p-2 sm:p-2.5 shadow-lg cursor-pointer hover:bg-gray-50 border border-gray-200 transition-colors flex items-center justify-center",children:[c.jsx($k,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),c.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:$})]})}),v&&c.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-full opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs sm:text-sm font-medium bg-black/40 px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full",children:"Alterar foto"})})]})}),c.jsxs("div",{className:"text-center px-2",children:[c.jsx(be.h1,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white drop-shadow-sm",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:j?c.jsxs(c.Fragment,{children:["Anderson Lima de",c.jsx("br",{}),"Araujo Júnio"]}):"Anderson Lima de Araujo Júnio"}),c.jsxs(be.div,{className:"flex flex-wrap items-center justify-center gap-1.5 sm:gap-2 mt-2",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:[c.jsx(Un,{variant:"secondary",className:"bg-white/20 text-white border-white/10",children:"Administrador"}),c.jsx("span",{className:"text-white/80 text-xs sm:text-sm hidden xs:inline",children:"•"}),c.jsx("span",{className:"text-white/90 text-xs sm:text-sm font-medium",children:j?c.jsx("div",{className:"mt-1",children:"admin@ibmecjrsolucoes.com"}):"admin@ibmecjrsolucoes.com"})]})]})]})})})})}),c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[c.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{scale:1.03},className:"card-hover-effect",children:c.jsx(hn,{className:"border border-gray-200",children:c.jsxs(fn,{className:"flex flex-col items-center justify-center p-2.5 sm:p-3 lg:p-3.5",children:[c.jsx(be.div,{className:"flex items-center justify-center mb-1",animate:{scale:[1,1.1,1],color:["#3B82F6","#60A5FA","#3B82F6"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},children:c.jsx(co,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500"})}),c.jsx("h3",{className:"text-xs text-gray-500 font-medium text-center",children:"Notificações"}),c.jsx("p",{className:"text-base sm:text-lg lg:text-xl font-bold",children:"0"})]})})}),c.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{scale:1.03},className:"card-hover-effect",children:c.jsx(hn,{className:"border border-gray-200",children:c.jsxs(fn,{className:"flex flex-col items-center justify-center p-2.5 sm:p-3 lg:p-3.5",children:[c.jsx(be.div,{className:"flex items-center justify-center mb-1",animate:{scale:[1,1.1,1],color:["#F59E0B","#FBBF24","#F59E0B"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},children:c.jsx(M1,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500"})}),c.jsx("h3",{className:"text-xs text-gray-500 font-medium text-center",children:"Advertências"}),c.jsx("p",{className:"text-base sm:text-lg lg:text-xl font-bold",children:"0"})]})})}),c.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{scale:1.03},className:"card-hover-effect",children:c.jsx(hn,{className:"border border-gray-200",children:c.jsxs(fn,{className:"flex flex-col items-center justify-center p-2.5 sm:p-3 lg:p-3.5",children:[c.jsx(be.div,{className:"flex items-center justify-center mb-1",animate:{scale:[1,1.1,1],color:["#6366F1","#818CF8","#6366F1"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},children:c.jsx(Cx,{className:"h-3 w-3 sm:h-4 sm:w-4 text-indigo-500"})}),c.jsx("h3",{className:"text-xs text-gray-500 font-medium text-center",children:"Tempo"}),c.jsx("p",{className:"text-base sm:text-lg lg:text-xl font-bold",children:"3 dias"})]})})}),c.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},whileHover:{scale:1.03},className:"card-hover-effect",children:c.jsx(hn,{className:"border border-gray-200",children:c.jsxs(fn,{className:"flex flex-col items-center justify-center p-2.5 sm:p-3 lg:p-3.5",children:[c.jsx(be.div,{className:"flex items-center justify-center mb-1",animate:{scale:[1,1.1,1],color:["#10B981","#34D399","#10B981"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},children:c.jsx(za,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500"})}),c.jsx("h3",{className:"text-xs text-gray-500 font-medium text-center",children:"Status"}),c.jsx(be.div,{animate:{y:[0,-2,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:c.jsx(Un,{className:"mt-0.5 bg-green-500 hover:bg-green-600 text-white text-xs px-1.5 py-0.5",children:"Ativo"})})]})})})]}),c.jsx("div",{children:c.jsxs(tae,{defaultValue:"perfil",value:i,onValueChange:o,className:"w-full",children:[c.jsx("div",{className:"border-b mb-4 sm:mb-6 overflow-x-auto scrollbar-hide",children:c.jsxs(r5,{className:"bg-transparent h-10 sm:h-12 w-full justify-start",children:[c.jsxs(zm,{value:"perfil",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none flex-1 sm:flex-none",children:[c.jsx(Ln,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Perfil"})]}),c.jsxs(zm,{value:"profissional",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none flex-1 sm:flex-none",children:[c.jsx(Xl,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Profissional"})]}),c.jsxs(zm,{value:"seguranca",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none flex-1 sm:flex-none",children:[c.jsx(za,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Segurança"})]})]})}),c.jsxs(gT,{...Q,children:[c.jsxs(Wm,{value:"perfil",className:"space-y-4 sm:space-y-6 animate-in fade-in-50",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800",children:"Informações Pessoais"}),c.jsx(Wa,{mode:"wait",initial:!1,children:v?c.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex gap-1.5 sm:gap-2",children:[c.jsxs(Be,{type:"button",variant:"outline",size:D?"sm":"default",onClick:()=>{y(!1),Q.reset(),a&&(URL.revokeObjectURL(a),l(null),d(null))},disabled:p,className:"gap-1 sm:gap-2",children:[c.jsx(tl,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Cancelar"})]}),c.jsx(Be,{type:"button",size:D?"sm":"default",disabled:p,className:"gap-1 sm:gap-2 bg-primary hover:bg-primary/90",onClick:Q.handleSubmit(V),children:p?c.jsxs(c.Fragment,{children:[c.jsx(My,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 animate-spin"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Salvando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Rx,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Salvar"})]})})]},"save-button"):c.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs(Be,{type:"button",onClick:()=>y(!0),variant:"outline",size:D?"sm":"default",className:"gap-1.5 sm:gap-2",children:[c.jsx(Ra,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Editar Perfil"})]})},"edit-button")})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:c.jsxs(hn,{className:"shadow-sm",children:[c.jsx(_i,{className:"pb-2 sm:pb-4",children:c.jsxs(bi,{className:"flex items-center gap-1.5 sm:gap-2 text-base sm:text-lg",children:[c.jsx(Ln,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Dados Pessoais"]})}),c.jsx(fn,{className:"space-y-3 sm:space-y-4 pt-2",children:v?c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[c.jsx(at,{control:Q.control,name:"nome",render:({field:te})=>c.jsxs(Ze,{children:[c.jsx(Xe,{className:"text-xs sm:text-sm",children:"Nome Completo"}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"Seu nome",...te,className:"text-sm h-9"})}),c.jsx(ot,{className:"text-xs"})]})}),c.jsx(at,{control:Q.control,name:"email",render:({field:te})=>c.jsxs(Ze,{children:[c.jsx(Xe,{className:"text-xs sm:text-sm",children:"Email"}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"Seu email",...te,disabled:!0,className:"bg-gray-100 cursor-not-allowed text-sm h-9"})}),c.jsx(ot,{className:"text-xs"})]})}),c.jsx(at,{control:Q.control,name:"telefone",render:({field:te})=>c.jsxs(Ze,{children:[c.jsx(Xe,{className:"text-xs sm:text-sm",children:"Telefone"}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"(00) 00000-0000",...te,className:"text-sm h-9"})}),c.jsx(ot,{className:"text-xs"})]})}),c.jsx(at,{control:Q.control,name:"matricula",render:({field:te})=>c.jsxs(Ze,{children:[c.jsx(Xe,{className:"text-xs sm:text-sm",children:"Matrícula"}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"Sua matrícula",...te,className:"text-sm h-9"})}),c.jsx(ot,{className:"text-xs"})]})}),c.jsx(at,{control:Q.control,name:"curso",render:({field:te})=>c.jsxs(Ze,{className:"sm:col-span-2",children:[c.jsx(Xe,{className:"text-xs sm:text-sm",children:"Curso"}),c.jsx(Je,{children:c.jsx(_t,{placeholder:"Seu curso ou formação",...te,className:"text-sm h-9"})}),c.jsx(ot,{className:"text-xs"})]})})]}):c.jsxs("div",{className:"divide-y",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 py-2 sm:py-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Nome Completo"}),c.jsx("p",{className:"font-medium text-sm sm:text-base",children:e.nome})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Email"}),c.jsx("p",{className:"font-medium text-sm sm:text-base break-all",children:e.email})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 py-2 sm:py-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Telefone"}),c.jsx("p",{className:"font-medium text-sm sm:text-base",children:e.telefone||"Não informado"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Matrícula"}),c.jsx("p",{className:"font-medium text-sm sm:text-base",children:e.matricula||"Não informada"})]})]}),c.jsxs("div",{className:"py-2 sm:py-3",children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Curso"}),c.jsx("p",{className:"font-medium text-sm sm:text-base",children:e.curso||"Não informado"})]})]})})]})})]}),c.jsxs(Wm,{value:"profissional",className:"space-y-4 sm:space-y-6 animate-in fade-in-50",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800",children:"Informações Profissionais"}),c.jsx(Wa,{mode:"wait",initial:!1,children:v?c.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex gap-1.5 sm:gap-2",children:[c.jsxs(Be,{type:"button",variant:"outline",size:D?"sm":"default",onClick:()=>{y(!1),Q.reset()},disabled:p,className:"gap-1 sm:gap-2",children:[c.jsx(tl,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Cancelar"})]}),c.jsx(Be,{type:"button",size:D?"sm":"default",disabled:p,className:"gap-1 sm:gap-2 bg-primary hover:bg-primary/90",onClick:Q.handleSubmit(V),children:p?c.jsxs(c.Fragment,{children:[c.jsx(My,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 animate-spin"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Salvando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Rx,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Salvar"})]})})]},"save-button-prof"):c.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c.jsxs(Be,{type:"button",onClick:()=>y(!0),variant:"outline",size:D?"sm":"default",className:"gap-1.5 sm:gap-2",children:[c.jsx(Ra,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),c.jsx("span",{className:"text-xs sm:text-sm",children:"Editar"})]})},"edit-button-prof")})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:c.jsxs(hn,{className:"shadow-sm",children:[c.jsx(_i,{className:"pb-2 sm:pb-4",children:c.jsxs(bi,{className:"flex items-center gap-1.5 sm:gap-2 text-base sm:text-lg",children:[c.jsx(Xl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Dados Profissionais"]})}),c.jsx(fn,{className:"space-y-2 sm:space-y-3 pt-2",children:v?c.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:c.jsx(at,{control:Q.control,name:"dataEntradaEmpresa",render:({field:te})=>c.jsxs(Ze,{children:[c.jsx(Xe,{className:"text-xs sm:text-sm",children:"Data de Entrada"}),c.jsx(Je,{children:c.jsx(_t,{type:"date",...te,className:"text-sm h-9"})}),c.jsx(ot,{className:"text-xs"})]})})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Cargo"}),c.jsx("p",{className:"font-medium text-sm sm:text-base",children:e.role||e.role||"Não informado"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Setor"}),c.jsx("p",{className:"font-medium text-sm sm:text-base",children:e.setor||"Não informado"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Data de Entrada"}),c.jsx("p",{className:"font-medium text-sm sm:text-base",children:N})]}),c.jsxs("div",{className:"mt-1 sm:mt-2",children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Tempo na Empresa"}),c.jsx(Un,{variant:"outline",className:"mt-1 text-xs sm:text-sm",children:ne()})]})]})}),c.jsx(of,{className:"text-xs sm:text-sm text-gray-500 italic pt-1 pb-3",children:v?"Você pode atualizar sua data de entrada.":"Para alterar informações de cargo e setor, contate um administrador."})]})})]}),c.jsxs(Wm,{value:"seguranca",className:"space-y-4 sm:space-y-6 animate-in fade-in-50",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800",children:"Segurança e Privacidade"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[c.jsxs(hn,{className:"shadow-sm",children:[c.jsx(_i,{className:"pb-2 sm:pb-4",children:c.jsxs(bi,{className:"flex items-center gap-1.5 sm:gap-2 text-base sm:text-lg",children:[c.jsx(Ix,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Segurança da Senha"]})}),c.jsxs(fn,{className:"space-y-3 sm:space-y-4 pt-2",children:[c.jsx("div",{className:"pb-3 sm:pb-4 border-b",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Notificações no aplicativo"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5 sm:mt-1",children:"Receba atualizações e alertas diretamente no sistema"})]}),c.jsx(Rh,{checked:C,onCheckedChange:T})]})}),c.jsx("div",{className:"pb-3 sm:pb-4 border-b",children:c.jsxs("div",{className:"flex justify-between items-center mb-2 sm:mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Alertas por email"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5 sm:mt-1",children:"Receba notificações importantes por email"})]}),c.jsx(Rh,{checked:I,onCheckedChange:R})]})}),c.jsxs(Be,{variant:"outline",className:"w-full gap-1.5 sm:gap-2 text-xs sm:text-sm h-8 sm:h-9",onClick:()=>w(!0),children:[c.jsx(Ix,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),"Alterar Senha"]})]})]}),c.jsxs(hn,{className:"shadow-sm",children:[c.jsx(_i,{className:"pb-2 sm:pb-4",children:c.jsxs(bi,{className:"flex items-center gap-1.5 sm:gap-2 text-base sm:text-lg",children:[c.jsx(za,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Sessão Atual"]})}),c.jsxs(fn,{className:"space-y-3 sm:space-y-4 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2 sm:p-3 bg-blue-50 rounded-lg",children:[c.jsx("div",{className:"bg-blue-500/80 p-1.5 sm:p-2 rounded-full",children:c.jsx("div",{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 bg-white rounded-full"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Dispositivo atual"}),c.jsxs("p",{className:"text-xs text-gray-600",children:["Sessão iniciada há ",Math.floor(Math.random()*10)+1," horas"]})]})]}),c.jsxs(Be,{variant:"outline",className:"w-full text-gray-700 text-xs sm:text-sm h-8 sm:h-9",children:[c.jsx(Hk,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2"})," Sair"]})]})]})]})]})]})]})}),c.jsx(QE,{open:_,onOpenChange:w,children:c.jsxs(Sv,{className:"sm:max-w-md max-w-[calc(100%-2rem)] p-4 sm:p-6",children:[c.jsxs(Cv,{children:[c.jsx(Av,{className:"text-base sm:text-lg",children:"Alterar senha"}),c.jsx(Rv,{className:"text-xs sm:text-sm",children:b?"Email de redefinição enviado com sucesso!":"Enviaremos um link para redefinição da sua senha."})]}),b?c.jsx("div",{className:"py-3 sm:py-4 flex justify-center",children:c.jsxs("div",{className:"bg-green-50 text-green-700 p-3 sm:p-4 rounded-md border border-green-100 flex items-center gap-2 sm:gap-3",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),c.jsx("p",{className:"text-xs sm:text-sm",children:"Email enviado com sucesso!"})]})}):c.jsxs("div",{className:"space-y-3 sm:space-y-4 py-1 sm:py-2",children:[c.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-2 sm:p-3 bg-blue-50 rounded-md border border-blue-100",children:[c.jsx(M1,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500 flex-shrink-0 mt-0.5"}),c.jsx("div",{className:"text-xs sm:text-sm text-blue-700",children:"Por razões de segurança, enviaremos um email com instruções para redefinir sua senha."})]}),c.jsx("div",{className:"flex justify-center",children:c.jsx(Be,{onClick:pe,disabled:f,className:"w-full text-xs sm:text-sm h-8 sm:h-10",children:f?c.jsxs(c.Fragment,{children:[c.jsx(My,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 animate-spin mr-1.5 sm:mr-2"}),"Enviando..."]}):"Enviar email de redefinição"})})]}),c.jsx(Iv,{className:"sm:justify-start",children:c.jsx(Be,{type:"button",variant:"secondary",onClick:()=>w(!1),disabled:f,className:"text-xs sm:text-sm h-8 sm:h-9",children:"Fechar"})})]})}),c.jsx(Wa,{children:P&&c.jsx(be.div,{className:"fixed bottom-4 sm:bottom-6 right-4 sm:right-6 z-50",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,y:10},transition:{duration:.3,type:"spring"},children:c.jsx(Be,{variant:"secondary",size:"icon",className:"rounded-full shadow-lg bg-white text-primary border border-gray-200 hover:bg-white hover:text-primary/80 hover:shadow-md transition-all h-9 w-9 sm:h-10 sm:w-10",onClick:re,children:c.jsx(zk,{className:"h-4 w-4 sm:h-5 sm:w-5"})})})})]})})}function sae(){const[t,e]=g.useState(""),[n,r]=g.useState(!1),[s,i]=g.useState(!1),o=la(),a=d=>{r(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d))},l=d=>{const f=d.target.value;e(f),a(f)},u=async d=>{if(d.preventDefault(),!n){Ce.error("Por favor, digite um e-mail válido.");return}i(!0);try{await Gg(bs,t),Ce.success(`Enviamos um e-mail com as instruções para: ${t}`),o("/login")}catch(f){console.error("Erro ao enviar e-mail de recuperação:",f),Ce.error("Não foi possível enviar o e-mail de recuperação. Verifique se o endereço está correto.")}finally{i(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-cyan-50 to-primary/10",children:c.jsxs("div",{className:"w-full max-w-md px-4",children:[c.jsx("div",{className:"mb-8 text-center",children:c.jsx("img",{src:"/logoibmecjr.png",alt:"Logo IBMEC Jr",className:"h-24 mx-auto mb-4"})}),c.jsxs(hn,{className:"w-full shadow-lg border border-primary/20",children:[c.jsxs(_i,{className:"space-y-1",children:[c.jsx(bi,{className:"text-2xl text-center font-bold text-primary",children:"Recuperar Senha"}),c.jsx("div",{className:"border-b border-primary w-16 mx-auto mt-1"}),c.jsx(XE,{className:"text-center pt-2",children:"Informe seu e-mail para receber as instruções de recuperação"})]}),c.jsx(fn,{children:c.jsxs("form",{onSubmit:u,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(wc,{htmlFor:"email",className:"flex items-center gap-2",children:[c.jsx(Ax,{className:"h-4 w-4"})," Email"]}),c.jsx(_t,{id:"email",type:"email",placeholder:"Digite seu e-mail",value:t,onChange:l,className:t.length>0?n?"border-green-500":"border-red-500":""}),!n&&t.length>0&&c.jsx("p",{className:"text-sm text-red-500",children:"Formato de e-mail inválido"})]}),c.jsx(Be,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:!n||s,children:s?"Enviando...":"Recuperar Senha"})]})}),c.jsx(of,{className:"flex justify-center border-t p-4",children:c.jsxs(Be,{variant:"link",onClick:()=>o("/login"),className:"text-primary hover:text-primary/90",children:[c.jsx(I9,{className:"h-4 w-4 mr-2"})," Voltar ao Login"]})})]})]})})}function iae(){const[t]=t6(),[e,n]=g.useState(""),[r,s]=g.useState(""),[i,o]=g.useState(""),[a,l]=g.useState(!1),u=la(),d=t.get("oobCode"),f=e.length>=6&&e===r,m=async()=>{if(!f){o("As senhas devem ter pelo menos 6 caracteres e ser iguais.");return}try{await EH(bs,d,e),l(!0),o(""),setTimeout(()=>u("/"),3e3)}catch(p){console.error(p),o("Erro ao redefinir a senha. O link pode ter expirado.")}};return c.jsxs("div",{className:"pag-definir",children:[c.jsx("img",{src:"./logoibmecjr.png",alt:"Logo Ibmec Jr",className:"logo-ibmecjr-pagesc"}),c.jsxs("div",{className:"form-definir",children:[c.jsxs("h1",{children:["Definir Nova Senha ",c.jsx("hr",{})]}),c.jsx("label",{children:"Nova Senha"}),c.jsx("input",{type:"password",placeholder:"Digite a nova senha",value:e,onChange:p=>n(p.target.value)}),c.jsx("label",{children:"Confirmar Senha"}),c.jsx("input",{type:"password",placeholder:"Confirme a nova senha",value:r,onChange:p=>s(p.target.value)}),i&&c.jsx("span",{style:{color:"red"},children:i}),a&&c.jsx("span",{style:{color:"green"},children:"Senha redefinida com sucesso!"}),c.jsx("button",{className:"botao-definir",onClick:m,disabled:!f,children:"Confirmar Nova Senha"})]})]})}const b0=({children:t,allowedRoles:e})=>{const{currentUser:n,userData:r,isAdmin:s,isPowerUser:i,isLoading:o}=ha(),a=Bi(),[l,u]=g.useState(!1),[d,f]=g.useState(!0),[m,p]=g.useState(!1);return g.useEffect(()=>{o||u(!0)},[o]),g.useEffect(()=>{if(l&&e){const E=e.some(v=>v==="admin"?s:v==="powerUser"?i:v==="member");f(E),!E&&!m&&p(!0)}},[l,e,s,i,m]),g.useEffect(()=>{m&&Ce.error("Você não tem permissão para acessar esta página")},[m]),o||!l?c.jsxs("div",{className:"flex items-center justify-center h-screen",children:[c.jsx(bF,{size:"lg"}),c.jsx("span",{className:"ml-2",children:"Verificando permissões..."})]}):n?e?d?c.jsx(c.Fragment,{children:t}):c.jsx(gx,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:t}):c.jsx(gx,{to:"/login",state:{from:a},replace:!0})},oae=()=>c.jsxs(kj,{children:[c.jsx(_B,{}),c.jsx(XB,{}),c.jsxs(z$,{children:[c.jsx(ai,{path:"/",element:c.jsx(gx,{to:"/login",replace:!0})}),c.jsx(ai,{path:"/login",element:c.jsx(Coe,{})}),c.jsx(ai,{path:"/esqueceu-senha",element:c.jsx(sae,{})}),c.jsx(ai,{path:"/definir-senha",element:c.jsx(iae,{})}),c.jsx(ai,{path:"/dashboard",element:c.jsx(b0,{children:c.jsx(Toe,{})})}),c.jsx(ai,{path:"/cadastrar-usuario",element:c.jsx(b0,{allowedRoles:["admin"],children:c.jsx(Yoe,{})})}),c.jsx(ai,{path:"/perfil",element:c.jsx(b0,{children:c.jsx(rae,{})})}),c.jsx(ai,{path:"*",element:c.jsx(Zoe,{})})]})]}),aae=new T6({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});GP(document.getElementById("root")).render(c.jsx(C6,{client:aae,children:c.jsx(j6,{children:c.jsx(Z$,{children:c.jsxs(jY,{children:[c.jsx(oae,{}),c.jsx(rj,{position:"top-right",richColors:!0,closeButton:!0})]})})})}));
